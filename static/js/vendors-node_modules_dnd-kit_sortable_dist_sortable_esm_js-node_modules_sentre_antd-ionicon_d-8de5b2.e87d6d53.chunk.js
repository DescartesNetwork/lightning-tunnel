/*! For license information please see vendors-node_modules_dnd-kit_sortable_dist_sortable_esm_js-node_modules_sentre_antd-ionicon_d-8de5b2.e87d6d53.chunk.js.LICENSE.txt */
(globalThis.webpackChunklightning_tunnel=globalThis.webpackChunklightning_tunnel||[]).push([["vendors-node_modules_dnd-kit_sortable_dist_sortable_esm_js-node_modules_sentre_antd-ionicon_d-8de5b2","vendors-node_modules_base64-js_index_js-node_modules_cborg_esm_lib_json_encode_js-node_module-4bc113","vendors-node_modules_solana_web3_js_lib_index_browser_esm_js"],{65967:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.NOISE=void 0;const s=n(28705);i(n(28705),t),t.NOISE=new s.Noise},87777:(e,t,n)=>{"use strict";n.d(t,{LB:()=>De,y9:()=>Ue,g4:()=>he,MA:()=>Ie,LO:()=>Pe,ey:()=>W,L6:()=>B,Xo:()=>q,Cj:()=>Le,O1:()=>je,Zj:()=>Be,VT:()=>ce,Dy:()=>le});var r=n(92950),i=n.n(r),s=n(12181),o=n(41883);const a={display:"none"};function c(e){let{id:t,value:n}=e;return i().createElement("div",{id:t,style:a},n)}const l={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function u(e){let{id:t,announcement:n}=e;return i().createElement("div",{id:t,style:l,role:"status","aria-live":"assertive","aria-atomic":!0},n)}const d={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},p={onDragStart:e=>`Picked up draggable item ${e}.`,onDragOver:(e,t)=>t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`,onDragEnd:(e,t)=>t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`,onDragCancel:e=>`Dragging was cancelled. Draggable item ${e} was dropped.`};var h;function f(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(h||(h={}));class g extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const y=(0,r.createContext)({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:f,draggableNodes:{},droppableRects:new Map,droppableContainers:new g,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:f},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:f,windowRect:null,willRecomputeLayouts:!1});function m(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new g}}}function b(e,t){switch(t.type){case h.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case h.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case h.DragEnd:case h.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case h.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new g(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case h.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new g(e.droppable.containers);return o.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case h.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new g(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}const v=(0,r.createContext)({type:null,event:null});function w(e){let{announcements:t=p,hiddenTextDescribedById:n,screenReaderInstructions:a}=e;const{announce:l,announcement:d}=function(){const[e,t]=(0,r.useState)("");return{announce:(0,r.useCallback)((e=>{null!=e&&t(e)}),[]),announcement:e}}(),f=(0,o.Ld)("DndLiveRegion"),[g,y]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{y(!0)}),[]),function(e){let{onDragStart:t,onDragMove:n,onDragOver:i,onDragEnd:s,onDragCancel:o}=e;const a=(0,r.useContext)(v),c=(0,r.useRef)(a);(0,r.useEffect)((()=>{if(a!==c.current){const{type:e,event:r}=a;switch(e){case h.DragStart:null==t||t(r);break;case h.DragMove:null==n||n(r);break;case h.DragOver:null==i||i(r);break;case h.DragCancel:null==o||o(r);break;case h.DragEnd:null==s||s(r)}c.current=a}}),[a,t,n,i,s,o])}((0,r.useMemo)((()=>({onDragStart(e){let{active:n}=e;l(t.onDragStart(n.id))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&l(t.onDragMove(n.id,null==r?void 0:r.id))},onDragOver(e){let{active:n,over:r}=e;l(t.onDragOver(n.id,null==r?void 0:r.id))},onDragEnd(e){let{active:n,over:r}=e;l(t.onDragEnd(n.id,null==r?void 0:r.id))},onDragCancel(e){let{active:n}=e;l(t.onDragCancel(n.id))}})),[l,t])),g?(0,s.createPortal)(i().createElement(i().Fragment,null,i().createElement(c,{id:n,value:a.draggable}),i().createElement(u,{id:f,announcement:d})),document.body):null}const k=Object.freeze({x:0,y:0});function E(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _(e,t){if((0,o.vd)(e))return"0 0";const n=(0,o.DC)(e);return`${(n.x-t.left)/t.width*100}% ${(n.y-t.top)/t.height*100}%`}function S(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x,offsetLeft:t.offsetLeft+e*n.x,offsetTop:t.offsetTop+e*n.y})),{...t})}}const C=S(1);function I(e){const t=[];return e?function e(n){if(!n)return t;if((0,o.qk)(n)&&null!=n.scrollingElement&&!t.includes(n.scrollingElement))return t.push(n.scrollingElement),t;if(!(0,o.Re)(n)||(0,o.vZ)(n))return t;if(t.includes(n))return t;const r=window.getComputedStyle(n);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.getComputedStyle(e);const n=/(auto|scroll|overlay)/;return null!=["overflow","overflowX","overflowY"].find((e=>{const r=t[e];return"string"===typeof r&&n.test(r)}))}(n,r)&&t.push(n),function(e){return"fixed"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.getComputedStyle(e)).position}(n,r)?t:e(n.parentNode)}(e.parentNode):t}function x(e){return o.Nq&&e?(0,o.FJ)(e)?e:(0,o.UG)(e)?(0,o.qk)(e)||e===(0,o.r3)(e).scrollingElement?window:(0,o.Re)(e)?e:null:null:null}function P(e){return(0,o.FJ)(e)?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}var A;function R(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}function T(e){return!(!o.Nq||!e)&&e===document.scrollingElement}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(A||(A={}));const O={x:.2,y:.2};function D(e,t,n){let{top:r,left:i,right:s,bottom:o}=n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:O;const{clientHeight:l,clientWidth:u}=e,d=T(e)?{top:0,left:0,right:u,bottom:l,width:u,height:l}:t,{isTop:p,isBottom:h,isLeft:f,isRight:g}=R(e),y={x:0,y:0},m={x:0,y:0},b={height:d.height*c.y,width:d.width*c.x};return!p&&r<=d.top+b.height?(y.y=A.Backward,m.y=a*Math.abs((d.top+b.height-r)/b.height)):!h&&o>=d.bottom-b.height&&(y.y=A.Forward,m.y=a*Math.abs((d.bottom-b.height-o)/b.height)),!g&&s>=d.right-b.width?(y.x=A.Forward,m.x=a*Math.abs((d.right-b.width-s)/b.width)):!f&&i<=d.left+b.width&&(y.x=A.Backward,m.x=a*Math.abs((d.left+b.width-i)/b.width)),{direction:y,speed:m}}function M(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function N(e){return e.reduce(((e,t)=>(0,o.IH)(e,P(t))),k)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;if(!e||!(0,o.Re)(e))return n;const r={x:n.x+e.offsetLeft,y:n.y+e.offsetTop};return e.offsetParent===t?r:j(e.offsetParent,t,r)}function L(e){const{offsetWidth:t,offsetHeight:n}=e,{x:r,y:i}=j(e,null);return{width:t,height:n,offsetTop:i,offsetLeft:r}}function B(e){if((0,o.FJ)(e)){const e=window.innerWidth,t=window.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t,offsetTop:0,offsetLeft:0}}const{offsetTop:t,offsetLeft:n}=L(e),{width:r,height:i,top:s,bottom:a,left:c,right:l}=e.getBoundingClientRect();return{width:r,height:i,top:s,bottom:a,right:l,left:c,offsetTop:t,offsetLeft:n}}function z(e){const{width:t,height:n,offsetTop:r,offsetLeft:i}=L(e),s=N(I(e)),o=r-s.y,a=i-s.x;return{width:t,height:n,top:o,bottom:o+n,right:a+t,left:a,offsetTop:r,offsetLeft:i}}function F(e){return"top"in e}function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.offsetLeft,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.offsetTop;return[{x:t,y:n},{x:t+e.width,y:n},{x:t,y:n+e.height},{x:t+e.width,y:n+e.height}]}const W=e=>{let{collisionRect:t,droppableContainers:n}=e,r=1/0,i=null;const s=U(t,t.left,t.top);for(const o of n){const{rect:{current:e}}=o;if(e){const t=U(e,F(e)?e.left:void 0,F(e)?e.top:void 0),n=s.reduce(((e,n,r)=>e+E(t[r],n)),0),a=Number((n/4).toFixed(4));a<r&&(r=a,i=o.id)}}return i};function $(e,t){const n=Math.max(t.top,e.offsetTop),r=Math.max(t.left,e.offsetLeft),i=Math.min(t.left+t.width,e.offsetLeft+e.width),s=Math.min(t.top+t.height,e.offsetTop+e.height),o=i-r,a=s-n;if(r<i&&n<s){const n=t.width*t.height,r=e.width*e.height,i=o*a;return Number((i/(n+r-i)).toFixed(4))}return 0}const q=e=>{let{collisionRect:t,droppableContainers:n}=e,r=0,i=null;for(const s of n){const{rect:{current:e}}=s;if(e){const n=$(e,t);n>r&&(r=n,i=s.id)}}return i};var H,K,V,G;function X(e){const t=(0,r.useRef)(e);return(0,o.LI)((()=>{t.current!==e&&(t.current=e)}),[e]),t}!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(H||(H={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(K||(K={})),function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(V||(V={})),function(e){e.Optimized="optimized"}(G||(G={}));const Z=new Map,Q={measure:L,strategy:V.WhileDragging,frequency:G.Optimized};function Y(e,t){let{dragging:n,dependencies:i,config:s}=t;const[a,c]=(0,r.useState)(!1),{frequency:l,measure:u,strategy:d}={...Q,...s},p=(0,r.useRef)(e),h=(0,r.useCallback)((()=>c(!0)),[]),f=(0,r.useRef)(null),g=function(){switch(d){case V.Always:return!1;case V.BeforeDragging:return n;default:return!n}}(),y=(0,o.Gj)((t=>{if(g&&!n)return Z;if(!t||t===Z||p.current!==e||a){for(let t of e)t&&(t.rect.current=t.node.current?u(t.node.current):null);return function(e){const t=new Map;if(e)for(const n of e){if(!n)continue;const{id:e,rect:r}=n;null!=r.current&&t.set(e,r.current)}return t}(e)}return t}),[e,n,g,u,a]);return(0,r.useEffect)((()=>{p.current=e}),[e]),(0,r.useEffect)((()=>{a&&c(!1)}),[a]),(0,r.useEffect)((function(){g||requestAnimationFrame(h)}),[n,g]),(0,r.useEffect)((function(){g||"number"!==typeof l||null!==f.current||(f.current=setTimeout((()=>{h(),f.current=null}),l))}),[l,g,h,...i]),{layoutRectMap:y,recomputeLayouts:h,willRecomputeLayouts:a}}const J=[];const ee=re(B),te=ie(B);function ne(e,t,n){const i=(0,r.useRef)(e);return(0,o.Gj)((r=>e?n||!r&&e||e!==i.current?(0,o.Re)(e)&&null==e.parentNode?null:t(e):null!=r?r:null:null),[e,n,t])}function re(e){return(t,n)=>ne(t,e,n)}function ie(e){const t=[];return function(n,i){const s=(0,r.useRef)(n);return(0,o.Gj)((r=>n.length?i||!r&&n.length||n!==s.current?n.map((t=>e(t))):null!=r?r:t:t),[n,i])}}function se(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return(0,o.Re)(t)?t:e}function oe(e){const{width:t,height:n,offsetLeft:r,offsetTop:i}=L(e);return{top:i,bottom:i+n,left:r,right:r+t,width:t,height:n,offsetTop:i,offsetLeft:r}}const ae=re(oe);function ce(e,t){return(0,r.useMemo)((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}function le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)((()=>[...t].filter((e=>null!=e))),[...t])}class ue{constructor(e){this.target=e,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))}}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function de(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"===typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var pe,he;function fe(e){e.preventDefault()}function ge(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(pe||(pe={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(he||(he={}));const ye={start:[he.Space,he.Enter],cancel:[he.Esc],end:[he.Space,he.Enter]},me=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case he.Right:return{...n,x:n.x+25};case he.Left:return{...n,x:n.x-25};case he.Down:return{...n,y:n.y+25};case he.Up:return{...n,y:n.y-25}}};class be{constructor(e){this.props=e,this.autoScrollEnabled=!1,this.coordinates=k;const{event:{target:t}}=e;this.props=e,this.listeners=new ue((0,o.r3)(t)),this.windowListeners=new ue((0,o.Jj)(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pe.Resize,this.handleCancel),this.windowListeners.add(pe.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(pe.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");const n=B(e.node.current),r={x:n.left,y:n.top};this.coordinates=r,t(r)}handleKeyDown(e){if((0,o.vd)(e)){const{coordinates:t}=this,{active:n,context:r,options:i}=this.props,{keyboardCodes:s=ye,coordinateGetter:a=me,scrollBehavior:c="smooth"}=i,{code:l}=e;if(s.end.includes(l))return void this.handleEnd(e);if(s.cancel.includes(l))return void this.handleCancel(e);const u=a(e,{active:n,context:r.current,currentCoordinates:t});if(u){const n={x:0,y:0},{scrollableAncestors:i}=r.current;for(const r of i){const i=e.code,s=(0,o.$X)(u,t),{isTop:a,isRight:l,isLeft:d,isBottom:p,maxScroll:h,minScroll:f}=R(r),g=M(r),y={x:Math.min(i===he.Right?g.right-g.width/2:g.right,Math.max(i===he.Right?g.left:g.left+g.width/2,u.x)),y:Math.min(i===he.Down?g.bottom-g.height/2:g.bottom,Math.max(i===he.Down?g.top:g.top+g.height/2,u.y))},m=i===he.Right&&!l||i===he.Left&&!d,b=i===he.Down&&!p||i===he.Up&&!a;if(m&&y.x!==u.x){if(i===he.Right&&r.scrollLeft+s.x<=h.x||i===he.Left&&r.scrollLeft+s.x>=f.x)return void r.scrollBy({left:s.x,behavior:c});n.x=i===he.Right?r.scrollLeft-h.x:r.scrollLeft-f.x,r.scrollBy({left:-n.x,behavior:c});break}if(b&&y.y!==u.y){if(i===he.Down&&r.scrollTop+s.y<=h.y||i===he.Up&&r.scrollTop+s.y>=f.y)return void r.scrollBy({top:s.y,behavior:c});n.y=i===he.Down?r.scrollTop-h.y:r.scrollTop-f.y,r.scrollBy({top:-n.y,behavior:c});break}}this.handleMove(e,(0,o.IH)(u,n))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t),this.coordinates=t}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function ve(e){return Boolean(e&&"distance"in e)}function we(e){return Boolean(e&&"delay"in e)}be.activators=[{eventName:"onKeyDown",handler:(e,t)=>{let{keyboardCodes:n=ye,onActivation:r}=t;const{code:i}=e.nativeEvent;return!!n.start.includes(i)&&(e.preventDefault(),null==r||r({event:e.nativeEvent}),!0)}}];class ke{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){const{EventTarget:t}=(0,o.Jj)(e);return e instanceof t?e:(0,o.r3)(e)}(e.event.target);this.props=e,this.events=t,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;const{event:r}=e,{target:i}=r;this.props=e,this.events=t,this.document=(0,o.r3)(i),this.documentListeners=new ue(this.document),this.listeners=new ue(n),this.windowListeners=new ue((0,o.Jj)(i)),this.initialCoordinates=(0,o.DC)(r),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(pe.Resize,this.handleCancel),this.windowListeners.add(pe.DragStart,fe),this.windowListeners.add(pe.VisibilityChange,this.handleCancel),this.windowListeners.add(pe.ContextMenu,fe),this.documentListeners.add(pe.Keydown,this.handleKeydown),t){if(ve(t))return;if(we(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(pe.Click,ge,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pe.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){const{activated:t,initialCoordinates:n,props:r}=this,{onMove:i,options:{activationConstraint:s}}=r;if(!n)return;const a=(0,o.DC)(e),c=(0,o.$X)(n,a);if(!t&&s){if(we(s))return de(c,s.tolerance)?this.handleCancel():void 0;if(ve(s))return null!=s.tolerance&&de(c,s.tolerance)?this.handleCancel():de(c,s.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),i(a)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===he.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Ee={move:{name:"pointermove"},end:{name:"pointerup"}};class _e extends ke{constructor(e){const{event:t}=e,n=(0,o.r3)(t.target);super(e,Ee,n)}}_e.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Se={move:{name:"mousemove"},end:{name:"mouseup"}};var Ce;!function(e){e[e.RightClick=2]="RightClick"}(Ce||(Ce={}));class Ie extends ke{constructor(e){super(e,Se,(0,o.r3)(e.event.target))}}Ie.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Ce.RightClick&&(null==r||r({event:n}),!0)}}];const xe={move:{name:"touchmove"},end:{name:"touchend"}};class Pe extends ke{constructor(e){super(e,xe)}static setup(){return window.addEventListener(xe.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(xe.move.name,e)};function e(){}}}function Ae(e,t){let{transform:n,...r}=t;return(null==e?void 0:e.length)?e.reduce(((e,t)=>t({transform:e,...r})),n):n}Pe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1)&&(null==r||r({event:n}),!0)}}];const Re=[{sensor:_e,options:{}},{sensor:be,options:{}}],Te={current:{}},Oe=(0,r.createContext)({...k,scaleX:1,scaleY:1}),De=(0,r.memo)((function(e){let{id:t,autoScroll:n=!0,announcements:a,children:c,sensors:l=Re,collisionDetection:u=q,measuring:p,modifiers:f,screenReaderInstructions:g=d,...E}=e;var _,S,A,R,T;const O=(0,r.useReducer)(b,void 0,m),[M,j]=O,[L,B]=(0,r.useState)((()=>({type:null,event:null}))),[F,U]=(0,r.useState)(!1),{draggable:{active:W,nodes:$,translate:V},droppable:{containers:G}}=M,X=W?$[W]:null,Z=(0,r.useRef)({initial:null,translated:null}),Q=(0,r.useMemo)((()=>{var e;return null!=W?{id:W,data:null!=(e=null==X?void 0:X.data)?e:Te,rect:Z}:null}),[W,X]),re=(0,r.useRef)(null),[ie,oe]=(0,r.useState)(null),[ce,le]=(0,r.useState)(null),ue=(0,r.useRef)(E),de=(0,o.Ld)("DndDescribedBy",t),pe=(0,r.useMemo)((()=>G.getEnabled()),[G]),{layoutRectMap:he,recomputeLayouts:fe,willRecomputeLayouts:ge}=Y(pe,{dragging:F,dependencies:[V.x,V.y],config:null==p?void 0:p.droppable}),ye=function(e,t){const n=null!==t?e[t]:void 0,r=n?n.node.current:null;return(0,o.Gj)((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}($,W),me=ce?(0,o.DC)(ce):null,be=ne(ye,null!=(_=null==p||null==(S=p.draggable)?void 0:S.measure)?_:z),ve=ee(ye),we=(0,r.useRef)(null),ke=we.current,Ee=(0,r.useRef)({active:null,activeNode:ye,collisionRect:null,droppableRects:he,draggableNodes:$,draggingNodeRect:null,droppableContainers:G,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null,translatedRect:null}),_e=G.getNodeFor(null==(A=Ee.current.over)?void 0:A.id),Se=ee(ye?ye.ownerDocument.defaultView:null),Ce=ee(ye?ye.parentElement:null),Ie=function(e){const t=(0,r.useRef)(e),n=(0,o.Gj)((n=>e?n&&e&&t.current&&e.parentNode===t.current.parentNode?n:I(e):J),[e]);return(0,r.useEffect)((()=>{t.current=e}),[e]),n}(W?null!=_e?_e:ye:null),xe=te(Ie),Pe=function(e){let{disabled:t,forceRecompute:n}=e;const[i,s]=(0,o.wm)(),a=ae(t?null:se(i.current),n);return(0,r.useMemo)((()=>({nodeRef:i,rect:a,setRef:s})),[a,i,s])}({disabled:null==W,forceRecompute:ge}),De=null!=(R=Pe.rect)?R:be,Me=De===be?(je=ke,(Ne=be)&&je?{x:Ne.left-je.left,y:Ne.top-je.top}:k):k;var Ne,je;const Le=Ae(f,{transform:{x:V.x-Me.x,y:V.y-Me.y,scaleX:1,scaleY:1},activatorEvent:ce,active:Q,activeNodeRect:ve,containerNodeRect:Ce,draggingNodeRect:De,over:Ee.current.over,overlayNodeRect:Pe.rect,scrollableAncestors:Ie,scrollableAncestorRects:xe,windowRect:Se}),Be=me?(0,o.IH)(me,V):null,ze=function(e){const[t,n]=(0,r.useState)(null),i=(0,r.useRef)(e),s=(0,r.useCallback)((e=>{const t=x(e.target);t&&n((e=>e?(e.set(t,P(t)),new Map(e)):null))}),[]);return(0,r.useEffect)((()=>{const t=i.current;if(e!==t){r(t);const o=e.map((e=>{const t=x(e);return t?(t.addEventListener("scroll",s,{passive:!0}),[t,P(t)]):null})).filter((e=>null!=e));n(o.length?new Map(o):null),i.current=e}return()=>{r(e),r(t)};function r(e){e.forEach((e=>{const t=x(e);null==t||t.removeEventListener("scroll",s)}))}}),[s,e]),(0,r.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>(0,o.IH)(e,t)),k):N(e):k),[e,t])}(Ie),Fe=(0,o.IH)(Le,ze),Ue=De?C(De,Le):null,We=Ue?C(Ue,ze):null,$e=Q&&We?u({active:Q,collisionRect:We,droppableContainers:pe}):null,[qe,He]=(0,r.useState)(null),Ke=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Le,null!=(T=null==qe?void 0:qe.rect)?T:null,be),Ve=(0,r.useCallback)(((e,t)=>{let{sensor:n,options:r}=t;if(!re.current)return;const i=$[re.current];if(!i)return;const o=new n({active:re.current,activeNode:i,event:e.nativeEvent,options:r,context:Ee,onStart(e){const t=re.current;if(!t)return;const n=$[t];if(!n)return;const{onDragStart:r}=ue.current,i={active:{id:t,data:n.data,rect:Z}};(0,s.unstable_batchedUpdates)((()=>{j({type:h.DragStart,initialCoordinates:e,active:t}),B({type:h.DragStart,event:i})})),null==r||r(i)},onMove(e){j({type:h.DragMove,coordinates:e})},onEnd:a(h.DragEnd),onCancel:a(h.DragCancel)});function a(e){return async function(){const{active:t,over:n,scrollAdjustedTranslate:r}=Ee.current;let i=null;if(t&&r){const{cancelDrop:s}=ue.current;if(i={active:t,delta:r,over:n},e===h.DragEnd&&"function"===typeof s){await Promise.resolve(s(i))&&(e=h.DragCancel)}}if(re.current=null,(0,s.unstable_batchedUpdates)((()=>{j({type:e}),He(null),U(!1),oe(null),le(null),i&&B({type:e,event:i})})),i){const{onDragCancel:t,onDragEnd:n}=ue.current,r=e===h.DragEnd?n:t;null==r||r(i)}}}(0,s.unstable_batchedUpdates)((()=>{oe(o),le(e.nativeEvent)}))}),[j,$]),Ge=(0,r.useCallback)(((e,t)=>(n,r)=>{const i=n.nativeEvent;null!==re.current||i.dndKit||i.defaultPrevented||!0===e(n,t.options)&&(i.dndKit={capturedBy:t.sensor},re.current=r,Ve(n,t))}),[Ve]),Xe=function(e,t){return(0,r.useMemo)((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(l,Ge);!function(e){(0,r.useEffect)((()=>{if(!o.Nq)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(l),(0,o.LI)((()=>{ue.current=E}),Object.values(E)),(0,r.useEffect)((()=>{null!=W&&U(!0)}),[W]),(0,r.useEffect)((()=>{Q||(we.current=null),Q&&be&&!we.current&&(we.current=be)}),[be,Q]),(0,r.useEffect)((()=>{const{onDragMove:e}=ue.current,{active:t,over:n}=Ee.current;if(!t)return;const r={active:t,delta:{x:Fe.x,y:Fe.y},over:n};B({type:h.DragMove,event:r}),null==e||e(r)}),[Fe.x,Fe.y]),(0,r.useEffect)((()=>{const{active:e,droppableContainers:t,scrollAdjustedTranslate:n}=Ee.current;if(!e||!re.current||!n)return;const{onDragOver:r}=ue.current,i=t.get($e),o=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,a={active:e,delta:{x:n.x,y:n.y},over:o};(0,s.unstable_batchedUpdates)((()=>{He(o),B({type:h.DragOver,event:a}),null==r||r(a)}))}),[$e]),(0,o.LI)((()=>{Ee.current={active:Q,activeNode:ye,collisionRect:We,droppableRects:he,draggableNodes:$,draggingNodeRect:De,droppableContainers:G,over:qe,scrollableAncestors:Ie,scrollAdjustedTranslate:Fe,translatedRect:Ue},Z.current={initial:De,translated:Ue}}),[Q,ye,We,$,De,he,G,qe,Ie,Fe,Ue]),function(e){let{acceleration:t,activator:n=H.Pointer,canScroll:i,draggingRect:s,enabled:a,interval:c=5,order:l=K.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:p,threshold:h}=e;const[f,g]=(0,o.Yz)(),y=(0,r.useRef)({x:1,y:1}),m=(0,r.useMemo)((()=>{switch(n){case H.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case H.DraggableRect:return s}return null}),[n,s,u]),b=(0,r.useRef)(k),v=(0,r.useRef)(null),w=(0,r.useCallback)((()=>{const e=v.current;if(!e)return;const t=y.current.x*b.current.x,n=y.current.y*b.current.y;e.scrollBy(t,n)}),[]),E=(0,r.useMemo)((()=>l===K.TreeOrder?[...d].reverse():d),[l,d]);(0,r.useEffect)((()=>{if(a&&d.length&&m){for(const e of E){if(!1===(null==i?void 0:i(e)))continue;const n=d.indexOf(e),r=p[n];if(!r)continue;const{direction:s,speed:o}=D(e,r,m,t,h);if(o.x>0||o.y>0)return g(),v.current=e,f(w,c),y.current=o,void(b.current=s)}y.current={x:0,y:0},b.current={x:0,y:0},g()}else g()}),[t,w,i,g,a,c,JSON.stringify(m),f,d,E,p,JSON.stringify(h)])}({...function(){const e=!1===(null==ie?void 0:ie.autoScrollEnabled),t="object"===typeof n?!1===n.enabled:!1===n,r=!e&&!t;if("object"===typeof n)return{...n,enabled:r};return{enabled:r}}(),draggingRect:Ue,pointerCoordinates:Be,scrollableAncestors:Ie,scrollableAncestorRects:xe});const Ze=(0,r.useMemo)((()=>({active:Q,activeNode:ye,activeNodeRect:be,activeNodeClientRect:ve,activatorEvent:ce,activators:Xe,ariaDescribedById:{draggable:de},containerNodeRect:Ce,dispatch:j,dragOverlay:Pe,draggableNodes:$,droppableContainers:G,droppableRects:he,over:qe,recomputeLayouts:fe,scrollableAncestors:Ie,scrollableAncestorRects:xe,willRecomputeLayouts:ge,windowRect:Se})),[Q,ye,ve,be,ce,Xe,Ce,Pe,j,$,de,G,he,qe,fe,Ie,xe,ge,Se]);return i().createElement(v.Provider,{value:L},i().createElement(y.Provider,{value:Ze},i().createElement(Oe.Provider,{value:Ke},c)),i().createElement(w,{announcements:a,hiddenTextDescribedById:de,screenReaderInstructions:g}))})),Me=(0,r.createContext)(null),Ne="button";function je(e){let{id:t,data:n,disabled:i=!1,attributes:s}=e;const a=(0,o.Ld)("Droppable"),{active:c,activeNodeRect:l,activatorEvent:u,ariaDescribedById:d,draggableNodes:p,droppableRects:h,activators:f,over:g}=(0,r.useContext)(y),{role:m=Ne,roleDescription:b="draggable",tabIndex:v=0}=null!=s?s:{},w=(null==c?void 0:c.id)===t,k=(0,r.useContext)(w?Oe:Me),[E,_]=(0,o.wm)(),S=function(e,t){return(0,r.useMemo)((()=>e.reduce(((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e}),{})),[e,t])}(f,t),C=X(n);(0,r.useEffect)((()=>(p[t]={id:t,key:a,node:E,data:C},()=>{const e=p[t];e&&e.key===a&&delete p[t]})),[p,t]);return{active:c,activeNodeRect:l,activatorEvent:u,attributes:(0,r.useMemo)((()=>({role:m,tabIndex:v,"aria-pressed":!(!w||m!==Ne)||void 0,"aria-roledescription":b,"aria-describedby":d.draggable})),[m,v,w,b,d.draggable]),droppableRects:h,isDragging:w,listeners:i?void 0:S,node:E,over:g,setNodeRef:_,transform:k}}function Le(){return(0,r.useContext)(y)}function Be(e){let{data:t,disabled:n=!1,id:i}=e;const s=(0,o.Ld)("Droppable"),{active:a,dispatch:c,over:l}=(0,r.useContext)(y),u=(0,r.useRef)(null),[d,p]=(0,o.wm)(),f=X(t);return(0,o.LI)((()=>(c({type:h.RegisterDroppable,element:{id:i,key:s,disabled:n,node:d,rect:u,data:f}}),()=>c({type:h.UnregisterDroppable,key:s,id:i}))),[i]),(0,r.useEffect)((()=>{c({type:h.SetDroppableDisabled,id:i,key:s,disabled:n})}),[n]),{active:a,rect:u,isOver:(null==l?void 0:l.id)===i,node:d,over:l,setNodeRef:p}}const ze=e=>(0,o.vd)(e)?"transform 250ms ease":void 0,Fe={duration:250,easing:"ease",dragSourceOpacity:0},Ue=i().memo((e=>{let{adjustScale:t=!1,children:n,dropAnimation:s=Fe,style:a,transition:c=ze,modifiers:l,wrapperElement:u="div",className:d,zIndex:p=999}=e;var h,f;const{active:g,activeNodeRect:y,activeNodeClientRect:m,containerNodeRect:b,draggableNodes:v,activatorEvent:w,over:k,dragOverlay:E,scrollableAncestors:S,scrollableAncestorRects:C,windowRect:I}=Le(),x=(0,r.useContext)(Oe),P=Ae(l,{activatorEvent:w,active:g,activeNodeRect:m,containerNodeRect:b,draggingNodeRect:E.rect,over:k,overlayNodeRect:E.rect,scrollableAncestors:S,scrollableAncestorRects:C,transform:x,windowRect:I}),A=null!==g,R=t?P:{...P,scaleX:1,scaleY:1},T=(0,o.Gj)((e=>A?null!=e?e:y:null),[A,y]),O=T?{position:"fixed",width:T.width,height:T.height,top:T.top,left:T.left,zIndex:p,transform:o.ux.Transform.toString(R),touchAction:"none",transformOrigin:t&&w?_(w,T):void 0,transition:"function"===typeof c?c(w):c,...a}:void 0,D=A?{style:O,children:n,className:d,transform:R}:void 0,M=(0,r.useRef)(D),N=null!=D?D:M.current,{children:j,transform:L,...B}=null!=N?N:{},F=(0,r.useRef)(null!=(h=null==g?void 0:g.id)?h:null),U=function(e){let{animate:t,adjustScale:n,activeId:i,draggableNodes:s,duration:a,easing:c,dragSourceOpacity:l,node:u,transform:d}=e;const[p,h]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t&&i&&c&&a?requestAnimationFrame((()=>{var e;const t=null==(e=s[i])?void 0:e.node.current;if(d&&u&&t&&null!==t.parentNode){const e=se(u);if(e){const r=e.getBoundingClientRect(),i=z(t),s={x:r.left-i.left,y:r.top-i.top};if(Math.abs(s.x)||Math.abs(s.y)){const e={scaleX:n?i.width*d.scaleX/r.width:1,scaleY:n?i.height*d.scaleY/r.height:1},p=o.ux.Transform.toString({x:d.x-s.x,y:d.y-s.y,...e}),f=t.style.opacity;return null!=l&&(t.style.opacity=`${l}`),void(u.animate([{transform:o.ux.Transform.toString(d)},{transform:p}],{easing:c,duration:a}).onfinish=()=>{u.style.display="none",h(!0),t&&null!=l&&(t.style.opacity=f)})}}}h(!0)})):t&&h(!0)}),[t,i,n,s,a,c,l,u,d]),(0,o.LI)((()=>{p&&h(!1)}),[p]),p}({animate:Boolean(s&&F.current&&!g),adjustScale:t,activeId:F.current,draggableNodes:v,duration:null==s?void 0:s.duration,easing:null==s?void 0:s.easing,dragSourceOpacity:null==s?void 0:s.dragSourceOpacity,node:E.nodeRef.current,transform:null==(f=M.current)?void 0:f.transform}),W=Boolean(j&&(n||s&&!U));return(0,r.useEffect)((()=>{var e;(null==g?void 0:g.id)!==F.current&&(F.current=null!=(e=null==g?void 0:g.id)?e:null);g&&M.current!==D&&(M.current=D)}),[g,D]),(0,r.useEffect)((()=>{U&&(M.current=void 0)}),[U]),W?i().createElement(u,{...B,ref:E.setRef},j):null}))},91336:(e,t,n)=>{"use strict";n.d(t,{Fo:()=>p,Rp:()=>a,nB:()=>v});var r=n(92950),i=n.n(r),s=n(87777),o=n(41883);function a(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function c(e){return null!==e&&e>=0}const l=e=>{let{layoutRects:t,activeIndex:n,overIndex:r,index:i}=e;const s=a(t,r,n),o=t[i],c=s[i];return c&&o?{x:c.offsetLeft-o.offsetLeft,y:c.offsetTop-o.offsetTop,scaleX:c.width/o.width,scaleY:c.height/o.height}:null};const u="Sortable",d=i().createContext({activeIndex:-1,containerId:u,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:l,wasDragging:{current:!1}});function p(e){let{children:t,id:n,items:a,strategy:c=l}=e;const{active:p,dragOverlay:h,droppableRects:f,over:g,recomputeLayouts:y,willRecomputeLayouts:m}=(0,s.Cj)(),b=(0,o.Ld)(u,n),v=Boolean(null!==h.rect),w=(0,r.useMemo)((()=>a.map((e=>"string"===typeof e?e:e.id))),[a]),k=null!=p,E=(0,r.useRef)(!1),_=p?w.indexOf(p.id):-1,S=-1!==_,C=g?w.indexOf(g.id):-1,I=(0,r.useRef)(w),x=function(e,t){return e.reduce(((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e}),Array(e.length))}(w,f),P=(A=w,R=I.current,!(A.join()===R.join()));var A,R;const T=-1!==C&&-1===_||P;(0,o.LI)((()=>{P&&S&&!m&&y()}),[P,S,y,m]),(0,r.useEffect)((()=>{I.current=w}),[w]),(0,r.useEffect)((()=>{const e=setTimeout((()=>{E.current=k}),100);return()=>clearTimeout(e)}),[k]);const O=(0,r.useMemo)((()=>({activeIndex:_,containerId:b,disableTransforms:T,items:w,overIndex:C,useDragOverlay:v,sortedRects:x,strategy:c,wasDragging:E})),[_,b,T,w,C,x,v,c,E]);return i().createElement(d.Provider,{value:O},t)}const h=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return a(n,r,i).indexOf(t)},f=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:c,transition:l}=e;return!(!l||!r)&&((a===s||i!==o)&&(!!n||o!==i&&t===c))},g={duration:200,easing:"ease"},y="transform",m=o.ux.Transition.toString({property:y,duration:0,easing:"linear"}),b={roleDescription:"sortable"};function v(e){let{animateLayoutChanges:t=f,attributes:n,disabled:i,data:a,getNewIndex:l=h,id:u,strategy:p,transition:v=g}=e;const{items:w,containerId:k,activeIndex:E,disableTransforms:_,sortedRects:S,overIndex:C,useDragOverlay:I,strategy:x,wasDragging:P}=(0,r.useContext)(d),A=w.indexOf(u),R=(0,r.useMemo)((()=>({sortable:{containerId:k,index:A,items:w},...a})),[k,a,A,w]),{rect:T,node:O,setNodeRef:D}=(0,s.Zj)({id:u,data:R}),{active:M,activeNodeRect:N,activatorEvent:j,attributes:L,setNodeRef:B,listeners:z,isDragging:F,over:U,transform:W}=(0,s.O1)({id:u,data:R,attributes:{...b,...n},disabled:i}),$=(0,o.HB)(D,B),q=Boolean(M),H=q&&P.current&&!_&&c(E)&&c(C),K=!I&&F,V=K&&H?W:null,G=H?null!=V?V:(null!=p?p:x)({layoutRects:S,activeNodeRect:N,activeIndex:E,overIndex:C,index:A}):null,X=c(E)&&c(C)?l({id:u,items:w,activeIndex:E,overIndex:C}):A,Z=(0,r.useRef)(w),Q=w!==Z.current,Y=(0,r.useRef)(X),J=(0,r.useRef)(k),ee=t({active:M,containerId:k,isDragging:F,isSorting:q,id:u,index:A,items:w,newIndex:Y.current,previousItems:Z.current,previousContainerId:J.current,transition:v,wasDragging:P.current}),te=function(e){let{disabled:t,index:n,node:i,rect:a}=e;const[c,l]=(0,r.useState)(null),u=(0,r.useRef)(n);return(0,o.LI)((()=>{if(!t&&n!==u.current&&i.current){const e=a.current;if(e){const t=(0,s.L6)(i.current),n={x:e.offsetLeft-t.offsetLeft,y:e.offsetTop-t.offsetTop,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&l(n)}}n!==u.current&&(u.current=n)}),[t,n,i,a]),(0,r.useEffect)((()=>{c&&requestAnimationFrame((()=>{l(null)}))}),[c]),c}({disabled:!ee,index:A,node:O,rect:T});return(0,r.useEffect)((()=>{q&&Y.current!==X&&(Y.current=X),k!==J.current&&(J.current=k),w!==Z.current&&(Z.current=w)}),[q,X,k,w]),{active:M,attributes:L,activatorEvent:j,rect:T,index:A,isSorting:q,isDragging:F,listeners:z,node:O,overIndex:C,over:U,setNodeRef:$,setDroppableNodeRef:D,setDraggableNodeRef:B,transform:null!=te?te:G,transition:function(){if(te||Q&&Y.current===A)return m;if(K||!v)return;if(q||ee)return o.ux.Transition.toString({...v,property:y});return}()}}s.g4.Down,s.g4.Right,s.g4.Up,s.g4.Left},41883:(e,t,n)=>{"use strict";n.d(t,{$X:()=>k,DC:()=>_,FJ:()=>o,Gj:()=>g,HB:()=>i,IH:()=>w,Jj:()=>c,LI:()=>h,Ld:()=>b,Nq:()=>s,Re:()=>u,UG:()=>a,Yz:()=>f,qk:()=>l,r3:()=>p,ux:()=>S,vZ:()=>d,vd:()=>E,wm:()=>y});var r=n(92950);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)((()=>e=>{t.forEach((t=>t(e)))}),t)}const s="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function o(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function a(e){return"nodeType"in e}function c(e){var t,n;return e?o(e)?e:a(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function l(e){const{Document:t}=c(e);return e instanceof t}function u(e){return!o(e)&&e instanceof c(e).HTMLElement}function d(e){return e instanceof c(e).SVGElement}function p(e){return e?o(e)?e.document:a(e)?l(e)?e:u(e)?e.ownerDocument:document:document:document}const h=s?r.useLayoutEffect:r.useEffect;function f(){const e=(0,r.useRef)(null);return[(0,r.useCallback)(((t,n)=>{e.current=setInterval(t,n)}),[]),(0,r.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}function g(e,t){const n=(0,r.useRef)();return(0,r.useMemo)((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function y(e){const t=function(e){const t=(0,r.useRef)(e);return h((()=>{t.current=e})),(0,r.useCallback)((function(){return null==t.current?void 0:t.current(...arguments)}),[])}(e),n=(0,r.useRef)(null),i=(0,r.useCallback)((e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e}),[]);return[n,i]}let m={};function b(e,t){return(0,r.useMemo)((()=>{if(t)return t;const n=null==m[e]?0:m[e]+1;return m[e]=n,`${e}-${n}`}),[e,t])}function v(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[i,s]of r){const n=t[i];null!=n&&(t[i]=n+e*s)}return t}),{...t})}}const w=v(1),k=v(-1);function E(e){if(!e)return!1;const{KeyboardEvent:t}=c(e.target);return t&&e instanceof t}function _(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=c(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const S=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return`translate3d(${t?Math.round(t):0}px, ${n?Math.round(n):0}px, 0)`}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return`scaleX(${t}) scaleY(${n})`}},Transform:{toString(e){if(e)return[S.Translate.toString(e),S.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return`${t} ${n}ms ${r}`}}})},41630:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(45263),i=n(92950),s=n(19068),o=n(6863),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const l=(0,i.forwardRef)((function(e,t){var n=e.name,l=e.className,u=c(e,["name","className"]),d=l?"anticon "+l:"anticon";return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(o.q,{children:(0,r.jsx)("script",{type:"module",src:"https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"})}),(0,r.jsx)("span",a({className:d},u,{children:s.O[n]?(0,r.jsx)("ion-icon",{ref:t,src:s.O[n]}):(0,r.jsx)("ion-icon",{ref:t,name:n})}))]})}))},67013:(e,t,n)=>{"use strict";n.d(t,{oR:()=>u});var r=n(15861),i=n(87757),s=n.n(i),o=(n(45263),function(e){var t=e.url,n=e.module;return[t,e.scope,n].join()}),a=function(e){var t=o(e),n=document.getElementById(t);if(n)return window[e.scope]?Promise.resolve(!0):new Promise((function(e){n.onload=function(t){e(!0)}}));var r=document.createElement("script");r.src=e.url,r.type="text/javascript",r.async=!0,r.id=t;var i=new Promise((function(e,t){r.onload=function(){return e(r)},r.onerror=function(e){t(e)}}));return document.head.appendChild(r),i},c=function(e,t,i){return(0,r.Z)(s().mark((function r(){var o,a,c,l;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.I("default");case 3:if((o=window[t]).isInitialized){r.next=8;break}return o.isInitialized=!0,r.next=8,o.init(n.S.default);case 8:return r.next=10,window[t].get(i);case 10:return a=r.sent,c=a(),r.abrupt("return",c);case 15:throw r.prev=15,r.t0=r.catch(0),(l=new Error("There was a problem loading the remote module. Please check the parameters (url: ".concat(e," scope: ").concat(t," module: ").concat(i,"). Details:\n\n").concat(r.t0.message))).name="RemoteModuleLoadingError",l;case 20:case"end":return r.stop()}}),r,null,[[0,15]])})))},l=function(e){window.remoteObjectDictionary=window.remoteObjectDictionary||{};var t=o(e),n=window.remoteObjectDictionary[t];if(n)return n();var i=function(e){var t,n="pending",r=e.then((function(e){n="success",t=e}),(function(e){n="error",t=e}));return function(){switch(n){case"pending":throw r;case"error":throw t;default:return t}}}(function(e){window.remoteModuleDictionary=window.remoteModuleDictionary||{};var t=o(e);return window.remoteModuleDictionary[t]||(window.remoteModuleDictionary[t]=new Promise(function(){var t=(0,r.Z)(s().mark((function t(n,r){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a(e);case 3:return t.next=5,c(e.url,e.scope,e.module)();case 5:i=t.sent,n(i),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()),window.remoteModuleDictionary[t])}(e));return window.remoteObjectDictionary[t]=i,i()},u=function(e){return l(e)}},71256:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Account:()=>Vt,Authorized:()=>Si,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Zn,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Gt,BPF_LOADER_PROGRAM_ID:()=>On,BpfLoader:()=>Dn,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Nn,ComputeBudgetInstruction:()=>Mn,ComputeBudgetProgram:()=>jn,Connection:()=>vi,Ed25519Program:()=>Ei,Enum:()=>Bt,EpochSchedule:()=>Wn,FeeCalculatorLayout:()=>kn,Keypair:()=>wi,LAMPORTS_PER_SOL:()=>Qi,Loader:()=>Tn,Lockup:()=>Ci,MAX_SEED_LENGTH:()=>Ft,Message:()=>tn,NONCE_ACCOUNT_LENGTH:()=>_n,NonceAccount:()=>Sn,PACKET_DATA_SIZE:()=>Xt,PublicKey:()=>Ut,SIGNATURE_LENGTH_IN_BYTES:()=>Zt,SOLANA_SCHEMA:()=>zt,STAKE_CONFIG_ID:()=>_i,STAKE_INSTRUCTION_LAYOUTS:()=>xi,SYSTEM_INSTRUCTION_LAYOUTS:()=>Pn,SYSVAR_CLOCK_PUBKEY:()=>cn,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>ln,SYSVAR_INSTRUCTIONS_PUBKEY:()=>un,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>dn,SYSVAR_RENT_PUBKEY:()=>pn,SYSVAR_REWARDS_PUBKEY:()=>hn,SYSVAR_SLOT_HASHES_PUBKEY:()=>fn,SYSVAR_SLOT_HISTORY_PUBKEY:()=>gn,SYSVAR_STAKE_HISTORY_PUBKEY:()=>yn,Secp256k1Program:()=>Di,SendTransactionError:()=>$n,StakeAuthorizationLayout:()=>Pi,StakeInstruction:()=>Ii,StakeProgram:()=>Ai,Struct:()=>Lt,SystemInstruction:()=>xn,SystemProgram:()=>An,Transaction:()=>an,TransactionInstruction:()=>on,TransactionStatus:()=>rn,VALIDATOR_INFO_KEY:()=>Mi,VOTE_PROGRAM_ID:()=>Li,ValidatorInfo:()=>ji,VoteAccount:()=>zi,VoteAuthorizationLayout:()=>Ki,VoteInit:()=>$i,VoteInstruction:()=>qi,VoteProgram:()=>Vi,clusterApiUrl:()=>Zi,sendAndConfirmRawTransaction:()=>Gi,sendAndConfirmTransaction:()=>mn});var r=n(44967),i=n.n(r),s=n(97713),o=n(48744),a=n.n(o),c=n(68532),l=n.n(c),u=n(21215),d=n(25047),p=n(68706),h=n(54338),f=n(85606),g=n(32908),y=n.n(g),m=n(91747),b=n.n(m),v=n(16348),w=n.n(v);const k=e=>s.lW.isBuffer(e)?e:e instanceof Uint8Array?s.lW.from(e.buffer,e.byteOffset,e.byteLength):s.lW.from(e);var E={},_={},S=C;function C(e,t){if(!e)throw new Error(t||"Assertion failed")}C.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var I={exports:{}};"function"===typeof Object.create?I.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:I.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var x=S,P=I.exports;function A(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function R(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function T(e){return 1===e.length?"0"+e:e}function O(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}_.inherits=P,_.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=63&s|128):A(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=63&s|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=63&s|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},_.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=T(e[n].toString(16));return t},_.htonl=R,_.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=R(i)),n+=O(i.toString(16))}return n},_.zero2=T,_.zero8=O,_.join32=function(e,t,n,r){var i=n-t;x(i%4===0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var c;c="big"===r?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=c>>>0}return s},_.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var s=e[r];"big"===t?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=255&s):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=255&s)}return n},_.rotr32=function(e,t){return e>>>t|e<<32-t},_.rotl32=function(e,t){return e<<t|e>>>32-t},_.sum32=function(e,t){return e+t>>>0},_.sum32_3=function(e,t,n){return e+t+n>>>0},_.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},_.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},_.sum64=function(e,t,n,r){var i=e[t],s=r+e[t+1]>>>0,o=(s<r?1:0)+n+i;e[t]=o>>>0,e[t+1]=s},_.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},_.sum64_lo=function(e,t,n,r){return t+r>>>0},_.sum64_4_hi=function(e,t,n,r,i,s,o,a){var c=0,l=t;return c+=(l=l+r>>>0)<t?1:0,c+=(l=l+s>>>0)<s?1:0,e+n+i+o+(c+=(l=l+a>>>0)<a?1:0)>>>0},_.sum64_4_lo=function(e,t,n,r,i,s,o,a){return t+r+s+a>>>0},_.sum64_5_hi=function(e,t,n,r,i,s,o,a,c,l){var u=0,d=t;return u+=(d=d+r>>>0)<t?1:0,u+=(d=d+s>>>0)<s?1:0,u+=(d=d+a>>>0)<a?1:0,e+n+i+o+c+(u+=(d=d+l>>>0)<l?1:0)>>>0},_.sum64_5_lo=function(e,t,n,r,i,s,o,a,c,l){return t+r+s+a+l>>>0},_.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},_.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},_.shr64_hi=function(e,t,n){return e>>>n},_.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0};var D={},M=_,N=S;function j(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}D.BlockHash=j,j.prototype.update=function(e,t){if(e=M.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=M.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},j.prototype.digest=function(e){return this.update(this._pad()),N(null===this.pending),this._digest(e)},j.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,s=8;s<this.padLength;s++)r[i++]=0;return r};var L={},B={},z=_.rotr32;function F(e,t,n){return e&t^~e&n}function U(e,t,n){return e&t^e&n^t&n}function W(e,t,n){return e^t^n}B.ft_1=function(e,t,n,r){return 0===e?F(t,n,r):1===e||3===e?W(t,n,r):2===e?U(t,n,r):void 0},B.ch32=F,B.maj32=U,B.p32=W,B.s0_256=function(e){return z(e,2)^z(e,13)^z(e,22)},B.s1_256=function(e){return z(e,6)^z(e,11)^z(e,25)},B.g0_256=function(e){return z(e,7)^z(e,18)^e>>>3},B.g1_256=function(e){return z(e,17)^z(e,19)^e>>>10};var $=_,q=D,H=B,K=$.rotl32,V=$.sum32,G=$.sum32_5,X=H.ft_1,Z=q.BlockHash,Q=[1518500249,1859775393,2400959708,3395469782];function Y(){if(!(this instanceof Y))return new Y;Z.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}$.inherits(Y,Z);var J=Y;Y.blockSize=512,Y.outSize=160,Y.hmacStrength=80,Y.padLength=64,Y.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=K(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4];for(r=0;r<n.length;r++){var l=~~(r/20),u=G(K(i,5),X(l,s,o,a),c,n[r],Q[l]);c=a,a=o,o=K(s,30),s=i,i=u}this.h[0]=V(this.h[0],i),this.h[1]=V(this.h[1],s),this.h[2]=V(this.h[2],o),this.h[3]=V(this.h[3],a),this.h[4]=V(this.h[4],c)},Y.prototype._digest=function(e){return"hex"===e?$.toHex32(this.h,"big"):$.split32(this.h,"big")};var ee=_,te=D,ne=B,re=S,ie=ee.sum32,se=ee.sum32_4,oe=ee.sum32_5,ae=ne.ch32,ce=ne.maj32,le=ne.s0_256,ue=ne.s1_256,de=ne.g0_256,pe=ne.g1_256,he=te.BlockHash,fe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ge(){if(!(this instanceof ge))return new ge;he.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=fe,this.W=new Array(64)}ee.inherits(ge,he);var ye=ge;ge.blockSize=512,ge.outSize=256,ge.hmacStrength=192,ge.padLength=64,ge.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=se(pe(n[r-2]),n[r-7],de(n[r-15]),n[r-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],d=this.h[7];for(re(this.k.length===n.length),r=0;r<n.length;r++){var p=oe(d,ue(c),ae(c,l,u),this.k[r],n[r]),h=ie(le(i),ce(i,s,o));d=u,u=l,l=c,c=ie(a,p),a=o,o=s,s=i,i=ie(p,h)}this.h[0]=ie(this.h[0],i),this.h[1]=ie(this.h[1],s),this.h[2]=ie(this.h[2],o),this.h[3]=ie(this.h[3],a),this.h[4]=ie(this.h[4],c),this.h[5]=ie(this.h[5],l),this.h[6]=ie(this.h[6],u),this.h[7]=ie(this.h[7],d)},ge.prototype._digest=function(e){return"hex"===e?ee.toHex32(this.h,"big"):ee.split32(this.h,"big")};var me=_,be=ye;function ve(){if(!(this instanceof ve))return new ve;be.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}me.inherits(ve,be);var we=ve;ve.blockSize=512,ve.outSize=224,ve.hmacStrength=192,ve.padLength=64,ve.prototype._digest=function(e){return"hex"===e?me.toHex32(this.h.slice(0,7),"big"):me.split32(this.h.slice(0,7),"big")};var ke=_,Ee=D,_e=S,Se=ke.rotr64_hi,Ce=ke.rotr64_lo,Ie=ke.shr64_hi,xe=ke.shr64_lo,Pe=ke.sum64,Ae=ke.sum64_hi,Re=ke.sum64_lo,Te=ke.sum64_4_hi,Oe=ke.sum64_4_lo,De=ke.sum64_5_hi,Me=ke.sum64_5_lo,Ne=Ee.BlockHash,je=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Le(){if(!(this instanceof Le))return new Le;Ne.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=je,this.W=new Array(160)}ke.inherits(Le,Ne);var Be=Le;function ze(e,t,n,r,i){var s=e&n^~e&i;return s<0&&(s+=4294967296),s}function Fe(e,t,n,r,i,s){var o=t&r^~t&s;return o<0&&(o+=4294967296),o}function Ue(e,t,n,r,i){var s=e&n^e&i^n&i;return s<0&&(s+=4294967296),s}function We(e,t,n,r,i,s){var o=t&r^t&s^r&s;return o<0&&(o+=4294967296),o}function $e(e,t){var n=Se(e,t,28)^Se(t,e,2)^Se(t,e,7);return n<0&&(n+=4294967296),n}function qe(e,t){var n=Ce(e,t,28)^Ce(t,e,2)^Ce(t,e,7);return n<0&&(n+=4294967296),n}function He(e,t){var n=Se(e,t,14)^Se(e,t,18)^Se(t,e,9);return n<0&&(n+=4294967296),n}function Ke(e,t){var n=Ce(e,t,14)^Ce(e,t,18)^Ce(t,e,9);return n<0&&(n+=4294967296),n}function Ve(e,t){var n=Se(e,t,1)^Se(e,t,8)^Ie(e,t,7);return n<0&&(n+=4294967296),n}function Ge(e,t){var n=Ce(e,t,1)^Ce(e,t,8)^xe(e,t,7);return n<0&&(n+=4294967296),n}function Xe(e,t){var n=Se(e,t,19)^Se(t,e,29)^Ie(e,t,6);return n<0&&(n+=4294967296),n}function Ze(e,t){var n=Ce(e,t,19)^Ce(t,e,29)^xe(e,t,6);return n<0&&(n+=4294967296),n}Le.blockSize=1024,Le.outSize=512,Le.hmacStrength=192,Le.padLength=128,Le.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=Xe(n[r-4],n[r-3]),s=Ze(n[r-4],n[r-3]),o=n[r-14],a=n[r-13],c=Ve(n[r-30],n[r-29]),l=Ge(n[r-30],n[r-29]),u=n[r-32],d=n[r-31];n[r]=Te(i,s,o,a,c,l,u,d),n[r+1]=Oe(i,s,o,a,c,l,u,d)}},Le.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=this.h[5],l=this.h[6],u=this.h[7],d=this.h[8],p=this.h[9],h=this.h[10],f=this.h[11],g=this.h[12],y=this.h[13],m=this.h[14],b=this.h[15];_e(this.k.length===n.length);for(var v=0;v<n.length;v+=2){var w=m,k=b,E=He(d,p),_=Ke(d,p),S=ze(d,p,h,f,g),C=Fe(d,p,h,f,g,y),I=this.k[v],x=this.k[v+1],P=n[v],A=n[v+1],R=De(w,k,E,_,S,C,I,x,P,A),T=Me(w,k,E,_,S,C,I,x,P,A);w=$e(r,i),k=qe(r,i),E=Ue(r,i,s,o,a),_=We(r,i,s,o,a,c);var O=Ae(w,k,E,_),D=Re(w,k,E,_);m=g,b=y,g=h,y=f,h=d,f=p,d=Ae(l,u,R,T),p=Re(u,u,R,T),l=a,u=c,a=s,c=o,s=r,o=i,r=Ae(R,T,O,D),i=Re(R,T,O,D)}Pe(this.h,0,r,i),Pe(this.h,2,s,o),Pe(this.h,4,a,c),Pe(this.h,6,l,u),Pe(this.h,8,d,p),Pe(this.h,10,h,f),Pe(this.h,12,g,y),Pe(this.h,14,m,b)},Le.prototype._digest=function(e){return"hex"===e?ke.toHex32(this.h,"big"):ke.split32(this.h,"big")};var Qe=_,Ye=Be;function Je(){if(!(this instanceof Je))return new Je;Ye.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Qe.inherits(Je,Ye);var et=Je;Je.blockSize=1024,Je.outSize=384,Je.hmacStrength=192,Je.padLength=128,Je.prototype._digest=function(e){return"hex"===e?Qe.toHex32(this.h.slice(0,12),"big"):Qe.split32(this.h.slice(0,12),"big")},L.sha1=J,L.sha224=we,L.sha256=ye,L.sha384=et,L.sha512=Be;var tt={},nt=_,rt=D,it=nt.rotl32,st=nt.sum32,ot=nt.sum32_3,at=nt.sum32_4,ct=rt.BlockHash;function lt(){if(!(this instanceof lt))return new lt;ct.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function ut(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function dt(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function pt(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}nt.inherits(lt,ct),tt.ripemd160=lt,lt.blockSize=512,lt.outSize=160,lt.hmacStrength=192,lt.padLength=64,lt.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=n,c=r,l=i,u=s,d=o,p=0;p<80;p++){var h=st(it(at(n,ut(p,r,i,s),e[ht[p]+t],dt(p)),gt[p]),o);n=o,o=s,s=it(i,10),i=r,r=h,h=st(it(at(a,ut(79-p,c,l,u),e[ft[p]+t],pt(p)),yt[p]),d),a=d,d=u,u=it(l,10),l=c,c=h}h=ot(this.h[1],i,u),this.h[1]=ot(this.h[2],s,d),this.h[2]=ot(this.h[3],o,a),this.h[3]=ot(this.h[4],n,c),this.h[4]=ot(this.h[0],r,l),this.h[0]=h},lt.prototype._digest=function(e){return"hex"===e?nt.toHex32(this.h,"little"):nt.split32(this.h,"little")};var ht=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ft=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],gt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],yt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],mt=_,bt=S;function vt(e,t,n){if(!(this instanceof vt))return new vt(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(mt.toArray(t,n))}var wt=vt;vt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),bt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},vt.prototype.update=function(e,t){return this.inner.update(e,t),this},vt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=_,t.common=D,t.sha=L,t.ripemd=tt,t.hmac=wt,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(E);var kt=E;let Et=!1,_t=!1;const St={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ct=St.default,It=null;const xt=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Pt,At;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Pt||(Pt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(At||(At={}));const Rt="0123456789abcdef";class Tt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==St[n]&&this.throwArgumentError("invalid log level name","logLevel",e),Ct>St[n]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(Tt.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(Tt.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(Tt.levels.WARNING,t)}makeError(e,t,n){if(_t)return this.makeError("censored error",t,{});t||(t=Tt.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=Rt[t[e]>>4],n+=Rt[15&t[e]];r.push(e+"=Uint8Array(0x"+n+")")}else r.push(e+"="+JSON.stringify(t))}catch(o){r.push(e+"="+JSON.stringify(n[e].toString()))}})),r.push(`code=${t}`),r.push(`version=${this.version}`);const i=e;let s="";switch(t){case At.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case At.CALL_EXCEPTION:case At.INSUFFICIENT_FUNDS:case At.MISSING_NEW:case At.NONCE_EXPIRED:case At.REPLACEMENT_UNDERPRICED:case At.TRANSACTION_REPLACED:case At.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(n).forEach((function(e){o[e]=n[e]})),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Tt.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){xt&&this.throwError("platform missing String.prototype.normalize",Tt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:xt})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Tt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Tt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,Tt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Tt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Tt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Tt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Tt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return It||(It=new Tt("logger/5.6.0")),It}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Tt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Et){if(!e)return;this.globalLogger().throwError("error censorship permanent",Tt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_t=!!e,Et=!!t}static setLogLevel(e){const t=St[e.toLowerCase()];null!=t?Ct=t:Tt.globalLogger().warn("invalid log level - "+e)}static from(e){return new Tt(e)}}Tt.errors=At,Tt.levels=Pt;const Ot=new Tt("bytes/5.6.0");function Dt(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Dt(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Mt(e){return"number"===typeof e&&e==e&&e%1===0}function Nt(e,t){if(t||(t={}),"number"===typeof e){Ot.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Dt(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0x0"+n.substring(2):"right"===t.hexPad?n+="0":Ot.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return Dt(new Uint8Array(r))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Mt(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!Mt(n)||n<0||n>=256)return!1}return!0}(e)?Dt(new Uint8Array(e)):Ot.throwArgumentError("invalid arrayify value","value",e)}function jt(e){return"0x"+kt.sha256().update(Nt(e)).digest("hex")}new Tt("sha2/5.6.0");class Lt{constructor(e){Object.assign(this,e)}encode(){return s.lW.from((0,u.serialize)(zt,this))}static decode(e){return(0,u.deserialize)(zt,this,e)}static decodeUnchecked(e){return(0,u.deserializeUnchecked)(zt,this,e)}}class Bt extends Lt{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const zt=new Map,Ft=32;class Ut extends Lt{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=l().decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new(a())(t)}else this._bn=new(a())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return l().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(s.lW);if(32===e.length)return e;const t=s.lW.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const r=s.lW.concat([e.toBuffer(),s.lW.from(t),n.toBuffer()]),i=jt(new Uint8Array(r)).slice(2);return new Ut(s.lW.from(i,"hex"))}static createProgramAddressSync(e,t){let n=s.lW.alloc(0);e.forEach((function(e){if(e.length>Ft)throw new TypeError("Max seed length exceeded");n=s.lW.concat([n,k(e)])})),n=s.lW.concat([n,t.toBuffer(),s.lW.from("ProgramDerivedAddress")]);let r=jt(new Uint8Array(n)).slice(2),i=new(a())(r,16).toArray(void 0,32);if($t(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ut(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,r=255;for(;0!=r;){try{const i=e.concat(s.lW.from([r]));n=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return 1==$t(new Ut(e).toBytes())}}Ut.default=new Ut("11111111111111111111111111111111"),zt.set(Ut,{kind:"struct",fields:[["_bn","u256"]]});let Wt=i().lowlevel;function $t(e){var t=[Wt.gf(),Wt.gf(),Wt.gf(),Wt.gf()],n=Wt.gf(),r=Wt.gf(),i=Wt.gf(),s=Wt.gf(),o=Wt.gf(),a=Wt.gf(),c=Wt.gf();return Wt.set25519(t[2],qt),Wt.unpack25519(t[1],e),Wt.S(i,t[1]),Wt.M(s,i,Wt.D),Wt.Z(i,i,t[2]),Wt.A(s,t[2],s),Wt.S(o,s),Wt.S(a,o),Wt.M(c,a,o),Wt.M(n,c,i),Wt.M(n,n,s),Wt.pow2523(n,n),Wt.M(n,n,i),Wt.M(n,n,s),Wt.M(n,n,s),Wt.M(t[0],n,s),Wt.S(r,t[0]),Wt.M(r,r,s),Kt(r,i)&&Wt.M(t[0],t[0],Ht),Wt.S(r,t[0]),Wt.M(r,r,s),Kt(r,i)?0:1}let qt=Wt.gf([1]),Ht=Wt.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Kt(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return Wt.pack25519(n,e),Wt.pack25519(r,t),Wt.crypto_verify_32(n,0,r,0)}class Vt{constructor(e){this._keypair=void 0,this._keypair=e?i().sign.keyPair.fromSecretKey(k(e)):i().sign.keyPair()}get publicKey(){return new Ut(this._keypair.publicKey)}get secretKey(){return k(this._keypair.secretKey)}}const Gt=new Ut("BPFLoader1111111111111111111111111111111111"),Xt=1232,Zt=64,Qt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return d.Ik(32,e)},Yt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=d.n_([d.Jq("length"),d.Jq("lengthPadding"),d.Ik(d.cv(d.Jq(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(e,t)=>n(e,t).chars.toString(),i.encode=(e,t,n)=>{const i={chars:s.lW.from(e,"utf8")};return r(i,t,n)},i.alloc=e=>d.Jq().span+d.Jq().span+s.lW.from(e,"utf8").length,i};function Jt(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,0===(128&r))break}return t}function en(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}class tn{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Ut(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];en(t,e);const n=this.instructions.map((e=>{const{accounts:t,programIdIndex:n}=e,r=Array.from(l().decode(e.data));let i=[];en(i,t.length);let o=[];return en(o,r.length),{programIdIndex:n,keyIndicesCount:s.lW.from(i),keyIndices:t,dataLength:s.lW.from(o),data:r}}));let r=[];en(r,n.length);let i=s.lW.alloc(Xt);s.lW.from(r).copy(i);let o=r.length;n.forEach((e=>{const t=d.n_([d.u8("programIdIndex"),d.Ik(e.keyIndicesCount.length,"keyIndicesCount"),d.A9(d.u8("keyIndex"),e.keyIndices.length,"keyIndices"),d.Ik(e.dataLength.length,"dataLength"),d.A9(d.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const a=d.n_([d.Ik(1,"numRequiredSignatures"),d.Ik(1,"numReadonlySignedAccounts"),d.Ik(1,"numReadonlyUnsignedAccounts"),d.Ik(t.length,"keyCount"),d.A9(Qt("key"),e,"keys"),Qt("recentBlockhash")]),c={numRequiredSignatures:s.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:s.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:s.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:s.lW.from(t),keys:this.accountKeys.map((e=>k(e.toBytes()))),recentBlockhash:l().decode(this.recentBlockhash)};let u=s.lW.alloc(2048);const p=a.encode(c,u);return i.copy(u,p),u.slice(0,p+i.length)}static from(e){let t=[...e];const n=t.shift(),r=t.shift(),i=t.shift(),o=Jt(t);let a=[];for(let h=0;h<o;h++){const e=t.slice(0,32);t=t.slice(32),a.push(l().encode(s.lW.from(e)))}const c=t.slice(0,32);t=t.slice(32);const u=Jt(t);let d=[];for(let h=0;h<u;h++){const e=t.shift(),n=Jt(t),r=t.slice(0,n);t=t.slice(n);const i=Jt(t),o=t.slice(0,i),a=l().encode(s.lW.from(o));t=t.slice(i),d.push({programIdIndex:e,accounts:r,data:a})}const p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:i},recentBlockhash:l().encode(s.lW.from(c)),accountKeys:a,instructions:d};return new tn(p)}}function nn(e,t){if(!e)throw new Error(t||"Assertion failed")}let rn;!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(rn||(rn={}));const sn=s.lW.alloc(Zt).fill(0);class on{constructor(e){this.keys=void 0,this.programId=void 0,this.data=s.lW.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;return{pubkey:t.toJSON(),isSigner:n,isWritable:r}})),programId:this.programId.toJSON(),data:[...this.data]}}}class an{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,e)if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const t=e;Object.assign(this,t),this.recentBlockhash=t.blockhash,this.lastValidBlockHeight=t.lastValidBlockHeight}else{const t=e;Object.assign(this,t),this.recentBlockhash=t.recentBlockhash}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new on(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:t}=this;if(!t)throw new Error("Transaction recentBlockhash required");let n;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let l=0;l<this.instructions.length;l++)if(void 0===this.instructions[l].programId)throw new Error(`Transaction instruction index ${l} has undefined program id`);const r=[],i=[];this.instructions.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();r.includes(t)||r.push(t)})),r.forEach((e=>{i.push({pubkey:new Ut(e),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((e=>{const t=e.pubkey.toString(),n=s.findIndex((e=>e.pubkey.toString()===t));n>-1?(s[n].isWritable=s[n].isWritable||e.isWritable,s[n].isSigner=s[n].isSigner||e.isSigner):s.push(e)})),s.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));const o=s.findIndex((e=>e.pubkey.equals(n)));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const l of this.signatures){const e=s.findIndex((e=>e.pubkey.equals(l.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${l.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const d=[],p=[];s.forEach((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;n?(d.push(t.toString()),a+=1,r||(c+=1)):(p.push(t.toString()),r||(u+=1))}));const h=d.concat(p),f=this.instructions.map((e=>{const{data:t,programId:n}=e;return{programIdIndex:h.indexOf(n.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:l().encode(t)}}));return f.forEach((e=>{nn(e.programIdIndex>=0),e.accounts.forEach((e=>nn(e>=0)))})),new tn({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:t,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,n)=>t[n].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!r.has(t)&&(r.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const o of t){const e=o.publicKey.toString();r.has(e)||(r.add(e),i.push(o))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const s=this._compile();this._partialSign(s,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const o of t){const e=o.publicKey.toString();r.has(e)||(r.add(e),i.push(o))}const s=this._compile();this._partialSign(s,...i)}_partialSign(e){const t=e.serialize();for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];r.forEach((e=>{const n=i().sign.detached(t,e.secretKey);this._addSignature(e.publicKey,k(n))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){nn(64===t.length);const n=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=s.lW.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:n,publicKey:r}of this.signatures)if(null===n){if(t)return!1}else if(!i().sign.detached.verify(e,n,r.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n&&!this._verifySignatures(r,t))throw new Error("Signature verification failed");return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];en(n,t.length);const r=n.length+64*t.length+e.length,i=s.lW.alloc(r);return nn(t.length<256),s.lW.from(n).copy(i,0),t.forEach(((e,t)=>{let{signature:r}=e;null!==r&&(nn(64===r.length,"signature has invalid length"),s.lW.from(r).copy(i,n.length+64*t))})),e.copy(i,n.length+64*t.length),nn(i.length<=Xt,`Transaction too large: ${i.length} > ${Xt}`),i}get keys(){return nn(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return nn(1===this.instructions.length),this.instructions[0].programId}get data(){return nn(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=Jt(t);let r=[];for(let i=0;i<n;i++){const e=t.slice(0,Zt);t=t.slice(Zt),r.push(l().encode(s.lW.from(e)))}return an.populate(tn.from(t),r)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=new an;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach(((t,r)=>{const i={signature:t==l().encode(sn)?null:l().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)})),e.instructions.forEach((t=>{const r=t.accounts.map((t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new on({keys:r,programId:e.accountKeys[t.programIdIndex],data:l().decode(t.data)}))})),n._message=e,n._json=n.toJSON(),n}}const cn=new Ut("SysvarC1ock11111111111111111111111111111111"),ln=new Ut("SysvarEpochSchedu1e111111111111111111111111"),un=new Ut("Sysvar1nstructions1111111111111111111111111"),dn=new Ut("SysvarRecentB1ockHashes11111111111111111111"),pn=new Ut("SysvarRent111111111111111111111111111111111"),hn=new Ut("SysvarRewards111111111111111111111111111111"),fn=new Ut("SysvarS1otHashes111111111111111111111111111"),gn=new Ut("SysvarS1otHistory11111111111111111111111111"),yn=new Ut("SysvarStakeHistory1111111111111111111111111");async function mn(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries},s=await e.sendTransaction(t,n,i),o=null!=t.recentBlockhash&&null!=t.lastValidBlockHeight?(await e.confirmTransaction({signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value:(await e.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function bn(e){return new Promise((t=>setTimeout(t,e)))}function vn(e,t){const n=e.layout.span>=0?e.layout.span:function(e,t){let n=0;return e.layout.fields.forEach((e=>{e.span>=0?n+=e.span:"function"===typeof e.alloc&&(n+=e.alloc(t[e.property]))})),n}(e,t),r=s.lW.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}function wn(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const kn=d._O("lamportsPerSignature"),En=d.n_([d.Jq("version"),d.Jq("state"),Qt("authorizedPubkey"),Qt("nonce"),d.n_([kn],"feeCalculator")]),_n=En.span;class Sn{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=En.decode(k(e),0);return new Sn({authorizedPubkey:new Ut(t.authorizedPubkey),nonce:new Ut(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Cn=(In=8,e=>{const t=(0,d.Ik)(In,e),{encode:n,decode:r}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const n=r(e,t);return(0,p.oU)(s.lW.from(n))},i.encode=(e,t,r)=>{const i=(0,p.k$)(e,In);return n(i,t,r)},i});var In;class xn{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(Pn))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:r}=wn(Pn.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new Ut(r)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=wn(Pn.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:r}=wn(Pn.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new Ut(r)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=wn(Pn.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:r,programId:i}=wn(Pn.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ut(t),seed:n,space:r,programId:new Ut(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=wn(Pn.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ut(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:r}=wn(Pn.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ut(t),seed:n,programId:new Ut(r)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:r,space:i,programId:s}=wn(Pn.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ut(t),seed:n,lamports:r,space:i,programId:new Ut(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=wn(Pn.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ut(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),wn(Pn.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=wn(Pn.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=wn(Pn.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ut(t)}}static checkProgramId(e){if(!e.equals(An.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Pn=Object.freeze({Create:{index:0,layout:d.n_([d.Jq("instruction"),d.gM("lamports"),d.gM("space"),Qt("programId")])},Assign:{index:1,layout:d.n_([d.Jq("instruction"),Qt("programId")])},Transfer:{index:2,layout:d.n_([d.Jq("instruction"),Cn("lamports")])},CreateWithSeed:{index:3,layout:d.n_([d.Jq("instruction"),Qt("base"),Yt("seed"),d.gM("lamports"),d.gM("space"),Qt("programId")])},AdvanceNonceAccount:{index:4,layout:d.n_([d.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},InitializeNonceAccount:{index:6,layout:d.n_([d.Jq("instruction"),Qt("authorized")])},AuthorizeNonceAccount:{index:7,layout:d.n_([d.Jq("instruction"),Qt("authorized")])},Allocate:{index:8,layout:d.n_([d.Jq("instruction"),d.gM("space")])},AllocateWithSeed:{index:9,layout:d.n_([d.Jq("instruction"),Qt("base"),Yt("seed"),d.gM("space"),Qt("programId")])},AssignWithSeed:{index:10,layout:d.n_([d.Jq("instruction"),Qt("base"),Yt("seed"),Qt("programId")])},TransferWithSeed:{index:11,layout:d.n_([d.Jq("instruction"),Cn("lamports"),Yt("seed"),Qt("programId")])},UpgradeNonceAccount:{index:12,layout:d.n_([d.Jq("instruction")])}});class An{constructor(){}static createAccount(e){const t=vn(Pn.Create,{lamports:e.lamports,space:e.space,programId:k(e.programId.toBuffer())});return new on({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;if("basePubkey"in e){t=vn(Pn.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:k(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=vn(Pn.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new on({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){t=vn(Pn.AssignWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,programId:k(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=vn(Pn.Assign,{programId:k(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new on({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=vn(Pn.CreateWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:k(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new on({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new an;"basePubkey"in e&&"seed"in e?t.add(An.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:_n,programId:this.programId})):t.add(An.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:_n,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=vn(Pn.InitializeNonceAccount,{authorized:k(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:pn,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new on(n)}static nonceAdvance(e){const t=vn(Pn.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new on(n)}static nonceWithdraw(e){const t=vn(Pn.WithdrawNonceAccount,{lamports:e.lamports});return new on({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:dn,isSigner:!1,isWritable:!1},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=vn(Pn.AuthorizeNonceAccount,{authorized:k(e.newAuthorizedPubkey.toBuffer())});return new on({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;if("basePubkey"in e){t=vn(Pn.AllocateWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:k(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=vn(Pn.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new on({keys:n,programId:this.programId,data:t})}}An.programId=new Ut("11111111111111111111111111111111");const Rn=Xt-300;class Tn{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Tn.chunkSize)+1+1)}static async load(e,t,n,r,i){{const s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new an,a.add(An.allocate({accountPubkey:n.publicKey,space:i.length}))),o.owner.equals(r)||(a=a||new an,a.add(An.assign({accountPubkey:n.publicKey,programId:r}))),o.lamports<s&&(a=a||new an,a.add(An.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:s-o.lamports})))}else a=(new an).add(An.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:s>0?s:1,space:i.length,programId:r}));null!==a&&await mn(e,a,[t,n],{commitment:"confirmed"})}const o=d.n_([d.Jq("instruction"),d.Jq("offset"),d.Jq("bytesLength"),d.Jq("bytesLengthPadding"),d.A9(d.u8("byte"),d.cv(d.Jq(),-8),"bytes")]),a=Tn.chunkSize;let c=0,l=i,u=[];for(;l.length>0;){const i=l.slice(0,a),d=s.lW.alloc(a+16);o.encode({instruction:0,offset:c,bytes:i,bytesLength:0,bytesLengthPadding:0},d);const p=(new an).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:d});if(u.push(mn(e,p,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await bn(1e3/e)}c+=a,l=l.slice(a)}await Promise.all(u);{const i=d.n_([d.Jq("instruction")]),o=s.lW.alloc(i.span);i.encode({instruction:1},o);const a=(new an).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!1}],programId:r,data:o});await mn(e,a,[t,n],{commitment:"confirmed"})}return!0}}Tn.chunkSize=Rn;const On=new Ut("BPFLoader2111111111111111111111111111111111");class Dn{static getMinNumSignatures(e){return Tn.getMinNumSignatures(e)}static load(e,t,n,r,i){return Tn.load(e,t,n,i,r)}}class Mn{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.u8("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(Nn))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=wn(Nn.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=wn(Nn.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=wn(Nn.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=wn(Nn.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(jn.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Nn=Object.freeze({RequestUnits:{index:0,layout:d.n_([d.u8("instruction"),d.Jq("units"),d.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:d.n_([d.u8("instruction"),d.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:d.n_([d.u8("instruction"),d.Jq("units")])},SetComputeUnitPrice:{index:3,layout:d.n_([d.u8("instruction"),Cn("microLamports")])}});class jn{constructor(){}static requestUnits(e){const t=vn(Nn.RequestUnits,e);return new on({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=vn(Nn.RequestHeapFrame,e);return new on({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=vn(Nn.SetComputeUnitLimit,e);return new on({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=vn(Nn.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new on({keys:[],programId:this.programId,data:t})}}jn.programId=new Ut("ComputeBudget111111111111111111111111111111");var Ln=Object.prototype.toString,Bn=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function zn(e,t){var n,r,i,s,o,a,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"===typeof e.toJSON)return zn(e.toJSON(),t);if("[object Array]"===(c=Ln.call(e))){for(i="[",r=e.length-1,n=0;n<r;n++)i+=zn(e[n],!0)+",";return r>-1&&(i+=zn(e[n],!0)),i+"]"}if("[object Object]"===c){for(r=(s=Bn(e).sort()).length,i="",n=0;n<r;)void 0!==(a=zn(e[o=s[n]],!1))&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),n++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var Fn=function(e){var t=zn(e,!1);if(void 0!==t)return""+t};function Un(e){let t=0;for(;e>1;)e/=2,t++;return t}class Wn{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Un(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Un(32)-1;return[n,e-(this.getSlotsInEpoch(n)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Un(32)):this.slotsPerEpoch}}class $n extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}var qn=globalThis.fetch;class Hn extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Hn.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Kn extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Kn.prototype,"name",{value:"TransactionExpiredTimeoutError"});const Vn=(0,h.oQ)((0,h.eE)(Ut),(0,h.Z_)(),(e=>new Ut(e))),Gn=(0,h.bc)([(0,h.Z_)(),(0,h.i0)("base64")]),Xn=(0,h.oQ)((0,h.eE)(s.lW),Gn,(e=>s.lW.from(e[0],"base64"))),Zn=3e4;function Qn(e){return(0,h.G0)([(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),result:e}),(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),error:(0,h.dt)({code:(0,h._4)(),message:(0,h.Z_)(),data:(0,h.jt)((0,h.Yj)())})})])}const Yn=Qn((0,h._4)());function Jn(e){return(0,h.oQ)(Qn(e),Yn,(t=>"error"in t?t:{...t,result:(0,h.Ue)(t.result,e)}))}function er(e){return Jn((0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e}))}function tr(e){return(0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e})}const nr=(0,h.dt)({foundation:(0,h.Rx)(),foundationTerm:(0,h.Rx)(),initial:(0,h.Rx)(),taper:(0,h.Rx)(),terminal:(0,h.Rx)()}),rr=Jn((0,h.IX)((0,h.AG)((0,h.dt)({epoch:(0,h.Rx)(),effectiveSlot:(0,h.Rx)(),amount:(0,h.Rx)(),postBalance:(0,h.Rx)()})))),ir=(0,h.dt)({epoch:(0,h.Rx)(),slotIndex:(0,h.Rx)(),slotsInEpoch:(0,h.Rx)(),absoluteSlot:(0,h.Rx)(),blockHeight:(0,h.jt)((0,h.Rx)()),transactionCount:(0,h.jt)((0,h.Rx)())}),sr=(0,h.dt)({slotsPerEpoch:(0,h.Rx)(),leaderScheduleSlotOffset:(0,h.Rx)(),warmup:(0,h.O7)(),firstNormalEpoch:(0,h.Rx)(),firstNormalSlot:(0,h.Rx)()}),or=(0,h.IM)((0,h.Z_)(),(0,h.IX)((0,h.Rx)())),ar=(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),cr=(0,h.dt)({err:ar}),lr=(0,h.i0)("receivedSignature"),ur=(0,h.dt)({"solana-core":(0,h.Z_)(),"feature-set":(0,h.jt)((0,h.Rx)())}),dr=er((0,h.dt)({err:(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),logs:(0,h.AG)((0,h.IX)((0,h.Z_)())),accounts:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.AG)((0,h.dt)({executable:(0,h.O7)(),owner:(0,h.Z_)(),lamports:(0,h.Rx)(),data:(0,h.IX)((0,h.Z_)()),rentEpoch:(0,h.jt)((0,h.Rx)())}))))),unitsConsumed:(0,h.jt)((0,h.Rx)())})),pr=er((0,h.dt)({byIdentity:(0,h.IM)((0,h.Z_)(),(0,h.IX)((0,h.Rx)())),range:(0,h.dt)({firstSlot:(0,h.Rx)(),lastSlot:(0,h.Rx)()})}));const hr=Jn(nr),fr=Jn(ir),gr=Jn(sr),yr=Jn(or),mr=Jn((0,h.Rx)()),br=er((0,h.dt)({total:(0,h.Rx)(),circulating:(0,h.Rx)(),nonCirculating:(0,h.Rx)(),nonCirculatingAccounts:(0,h.IX)(Vn)})),vr=(0,h.dt)({amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}),wr=er((0,h.IX)((0,h.dt)({address:Vn,amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}))),kr=er((0,h.IX)((0,h.dt)({pubkey:Vn,account:(0,h.dt)({executable:(0,h.O7)(),owner:Vn,lamports:(0,h.Rx)(),data:Xn,rentEpoch:(0,h.Rx)()})}))),Er=(0,h.dt)({program:(0,h.Z_)(),parsed:(0,h._4)(),space:(0,h.Rx)()}),_r=er((0,h.IX)((0,h.dt)({pubkey:Vn,account:(0,h.dt)({executable:(0,h.O7)(),owner:Vn,lamports:(0,h.Rx)(),data:Er,rentEpoch:(0,h.Rx)()})}))),Sr=er((0,h.IX)((0,h.dt)({lamports:(0,h.Rx)(),address:Vn}))),Cr=(0,h.dt)({executable:(0,h.O7)(),owner:Vn,lamports:(0,h.Rx)(),data:Xn,rentEpoch:(0,h.Rx)()}),Ir=(0,h.dt)({pubkey:Vn,account:Cr}),xr=(0,h.oQ)((0,h.G0)([(0,h.eE)(s.lW),Er]),(0,h.G0)([Gn,Er]),(e=>Array.isArray(e)?(0,h.Ue)(e,Xn):e)),Pr=(0,h.dt)({executable:(0,h.O7)(),owner:Vn,lamports:(0,h.Rx)(),data:xr,rentEpoch:(0,h.Rx)()}),Ar=(0,h.dt)({pubkey:Vn,account:Pr}),Rr=(0,h.dt)({state:(0,h.G0)([(0,h.i0)("active"),(0,h.i0)("inactive"),(0,h.i0)("activating"),(0,h.i0)("deactivating")]),active:(0,h.Rx)(),inactive:(0,h.Rx)()}),Tr=Jn((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:ar,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),Or=Jn((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:ar,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),Dr=(0,h.dt)({subscription:(0,h.Rx)(),result:tr(Cr)}),Mr=(0,h.dt)({pubkey:Vn,account:Cr}),Nr=(0,h.dt)({subscription:(0,h.Rx)(),result:tr(Mr)}),jr=(0,h.dt)({parent:(0,h.Rx)(),slot:(0,h.Rx)(),root:(0,h.Rx)()}),Lr=(0,h.dt)({subscription:(0,h.Rx)(),result:jr}),Br=(0,h.G0)([(0,h.dt)({type:(0,h.G0)([(0,h.i0)("firstShredReceived"),(0,h.i0)("completed"),(0,h.i0)("optimisticConfirmation"),(0,h.i0)("root")]),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("createdBank"),parent:(0,h.Rx)(),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("frozen"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),stats:(0,h.dt)({numTransactionEntries:(0,h.Rx)(),numSuccessfulTransactions:(0,h.Rx)(),numFailedTransactions:(0,h.Rx)(),maxTransactionsPerEntry:(0,h.Rx)()})}),(0,h.dt)({type:(0,h.i0)("dead"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),err:(0,h.Z_)()})]),zr=(0,h.dt)({subscription:(0,h.Rx)(),result:Br}),Fr=(0,h.dt)({subscription:(0,h.Rx)(),result:tr((0,h.G0)([cr,lr]))}),Ur=(0,h.dt)({subscription:(0,h.Rx)(),result:(0,h.Rx)()}),Wr=(0,h.dt)({pubkey:(0,h.Z_)(),gossip:(0,h.AG)((0,h.Z_)()),tpu:(0,h.AG)((0,h.Z_)()),rpc:(0,h.AG)((0,h.Z_)()),version:(0,h.AG)((0,h.Z_)())}),$r=(0,h.dt)({votePubkey:(0,h.Z_)(),nodePubkey:(0,h.Z_)(),activatedStake:(0,h.Rx)(),epochVoteAccount:(0,h.O7)(),epochCredits:(0,h.IX)((0,h.bc)([(0,h.Rx)(),(0,h.Rx)(),(0,h.Rx)()])),commission:(0,h.Rx)(),lastVote:(0,h.Rx)(),rootSlot:(0,h.AG)((0,h.Rx)())}),qr=Jn((0,h.dt)({current:(0,h.IX)($r),delinquent:(0,h.IX)($r)})),Hr=(0,h.G0)([(0,h.i0)("processed"),(0,h.i0)("confirmed"),(0,h.i0)("finalized")]),Kr=(0,h.dt)({slot:(0,h.Rx)(),confirmations:(0,h.AG)((0,h.Rx)()),err:ar,confirmationStatus:(0,h.jt)(Hr)}),Vr=er((0,h.IX)((0,h.AG)(Kr))),Gr=Jn((0,h.Rx)()),Xr=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.Z_)()),header:(0,h.dt)({numRequiredSignatures:(0,h.Rx)(),numReadonlySignedAccounts:(0,h.Rx)(),numReadonlyUnsignedAccounts:(0,h.Rx)()}),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()})),recentBlockhash:(0,h.Z_)()})}),Zr=(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:Vn}),Qr=(0,h.dt)({accounts:(0,h.IX)(Vn),data:(0,h.Z_)(),programId:Vn}),Yr=(0,h.G0)([Qr,Zr]),Jr=(0,h.G0)([(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:(0,h.Z_)()}),(0,h.dt)({accounts:(0,h.IX)((0,h.Z_)()),data:(0,h.Z_)(),programId:(0,h.Z_)()})]),ei=(0,h.oQ)(Yr,Jr,(e=>"accounts"in e?(0,h.Ue)(e,Qr):(0,h.Ue)(e,Zr))),ti=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.dt)({pubkey:Vn,signer:(0,h.O7)(),writable:(0,h.O7)()})),instructions:(0,h.IX)(ei),recentBlockhash:(0,h.Z_)()})}),ni=(0,h.dt)({accountIndex:(0,h.Rx)(),mint:(0,h.Z_)(),owner:(0,h.jt)((0,h.Z_)()),uiTokenAmount:vr}),ri=(0,h.dt)({err:ar,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()}))})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(ni))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(ni)))}),ii=(0,h.dt)({err:ar,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)(ei)})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(ni))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(ni)))}),si=Jn((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:Xr,meta:(0,h.AG)(ri)})),rewards:(0,h.jt)((0,h.IX)((0,h.dt)({pubkey:(0,h.Z_)(),lamports:(0,h.Rx)(),postBalance:(0,h.AG)((0,h.Rx)()),rewardType:(0,h.AG)((0,h.Z_)())}))),blockTime:(0,h.AG)((0,h.Rx)()),blockHeight:(0,h.AG)((0,h.Rx)())}))),oi=Jn((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:Xr,meta:(0,h.AG)(ri)})),rewards:(0,h.jt)((0,h.IX)((0,h.dt)({pubkey:(0,h.Z_)(),lamports:(0,h.Rx)(),postBalance:(0,h.AG)((0,h.Rx)()),rewardType:(0,h.AG)((0,h.Z_)())}))),blockTime:(0,h.AG)((0,h.Rx)())}))),ai=Jn((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),signatures:(0,h.IX)((0,h.Z_)()),blockTime:(0,h.AG)((0,h.Rx)())}))),ci=Jn((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),meta:ri,blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)())),transaction:Xr}))),li=Jn((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),transaction:ti,meta:(0,h.AG)(ii),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),ui=er((0,h.dt)({blockhash:(0,h.Z_)(),feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})})),di=er((0,h.dt)({blockhash:(0,h.Z_)(),lastValidBlockHeight:(0,h.Rx)()})),pi=(0,h.dt)({slot:(0,h.Rx)(),numTransactions:(0,h.Rx)(),numSlots:(0,h.Rx)(),samplePeriodSecs:(0,h.Rx)()}),hi=Jn((0,h.IX)(pi)),fi=er((0,h.AG)((0,h.dt)({feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})}))),gi=Jn((0,h.Z_)()),yi=Jn((0,h.Z_)()),mi=(0,h.dt)({err:ar,logs:(0,h.IX)((0,h.Z_)()),signature:(0,h.Z_)()}),bi=(0,h.dt)({result:tr(mi),subscription:(0,h.Rx)()});class vi{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n=new URL(e);n.protocol;let r,i,s,o,a;var c;t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=r||function(e){let t=new URL(e);const n="https:"===t.protocol;return t.protocol=n?"wss:":"ws:",t.host="",""!==t.port&&(t.port=String(Number(t.port)+1)),t.toString()}(e),this._rpcClient=function(e,t,n,r,i,s){const o=r||qn;let a;return i&&(a=async(e,t)=>{const n=await new Promise(((n,r)=>{try{i(e,t,((e,t)=>n([e,t])))}catch(s){r(s)}}));return await o(...n)}),new(y())((async(t,r)=>{const i={method:"POST",body:t,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},n||{})};try{let t,n=5,c=500;for(;t=a?await a(e,i):await o(e,i),429===t.status&&!0!==s&&(n-=1,0!==n);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await bn(c),c*=2;const l=await t.text();t.ok?r(null,l):r(new Error(`${t.status} ${t.statusText}: ${l}`))}catch(c){c instanceof Error&&r(c)}}),{})}(n.toString(),0,i,s,o,a),this._rpcRequest=(c=this._rpcClient,(e,t)=>new Promise(((n,r)=>{c.request(e,t,((e,t)=>{e?r(e):n(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((n,r)=>{0===t.length&&n([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?r(e):n(t)}))}))}(this._rpcClient),this._rpcWebSocket=new f.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getBalance",n),i=(0,h.Ue)(r,er((0,h.Rx)()));if("error"in i)throw new Error("failed to get balance for "+e.toBase58()+": "+i.error.message);return i.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),n=(0,h.Ue)(t,Jn((0,h.AG)((0,h.Rx)())));if("error"in n)throw new Error("failed to get block time for slot "+e+": "+n.error.message);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,h.Ue)(e,Jn((0,h.Rx)()));if("error"in t)throw new Error("failed to get minimum ledger slot: "+t.error.message);return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,h.Ue)(e,mr);if("error"in t)throw new Error("failed to get first available block: "+t.error.message);return t.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=await this._rpcRequest("getSupply",[t]),r=(0,h.Ue)(n,br);if("error"in r)throw new Error("failed to get supply: "+r.error.message);return r.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenSupply",n),i=(0,h.Ue)(r,er(vr));if("error"in i)throw new Error("failed to get token supply: "+i.error.message);return i.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenAccountBalance",n),i=(0,h.Ue)(r,er(vr));if("error"in i)throw new Error("failed to get token account balance: "+i.error.message);return i.result}async getTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"base64"),s=await this._rpcRequest("getTokenAccountsByOwner",i),o=(0,h.Ue)(s,kr);if("error"in o)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+o.error.message);return o.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),o=(0,h.Ue)(s,_r);if("error"in o)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+o.error.message);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=await this._rpcRequest("getLargestAccounts",n),i=(0,h.Ue)(r,Sr);if("error"in i)throw new Error("failed to get largest accounts: "+i.error.message);return i.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenLargestAccounts",n),i=(0,h.Ue)(r,wr);if("error"in i)throw new Error("failed to get token largest accounts: "+i.error.message);return i.result}async getAccountInfoAndContext(e,t){const n=this._buildArgs([e.toBase58()],t,"base64"),r=await this._rpcRequest("getAccountInfo",n),i=(0,h.Ue)(r,er((0,h.AG)(Cr)));if("error"in i)throw new Error("failed to get info about account "+e.toBase58()+": "+i.error.message);return i.result}async getParsedAccountInfo(e,t){const n=this._buildArgs([e.toBase58()],t,"jsonParsed"),r=await this._rpcRequest("getAccountInfo",n),i=(0,h.Ue)(r,er((0,h.AG)(Pr)));if("error"in i)throw new Error("failed to get info about account "+e.toBase58()+": "+i.error.message);return i.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleAccountsInfoAndContext(e,t){const n=e.map((e=>e.toBase58())),r=this._buildArgs([n],t,"base64"),i=await this._rpcRequest("getMultipleAccounts",r),s=(0,h.Ue)(i,er((0,h.IX)((0,h.AG)(Cr))));if("error"in s)throw new Error("failed to get info for accounts "+n+": "+s.error.message);return s.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const r=this._buildArgs([e.toBase58()],t,void 0,void 0!==n?{epoch:n}:void 0),i=await this._rpcRequest("getStakeActivation",r),s=(0,h.Ue)(i,Jn(Rr));if("error"in s)throw new Error(`failed to get Stake Activation ${e.toBase58()}: ${s.error.message}`);return s.result}async getProgramAccounts(e,t){const n={};let r,i;t&&("string"===typeof t?r=t:(r=t.commitment,i=t.encoding,t.dataSlice&&(n.dataSlice=t.dataSlice),t.filters&&(n.filters=t.filters)));const s=this._buildArgs([e.toBase58()],r,i||"base64",n),o=await this._rpcRequest("getProgramAccounts",s),a=(0,h.Ue)(o,Jn((0,h.IX)(Ir)));if("error"in a)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+a.error.message);return a.result}async getParsedProgramAccounts(e,t){const n={};let r;t&&("string"===typeof t?r=t:(r=t.commitment,t.filters&&(n.filters=t.filters)));const i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),s=await this._rpcRequest("getProgramAccounts",i),o=(0,h.Ue)(s,Jn((0,h.IX)(Ar)));if("error"in o)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+o.error.message);return o.result}async confirmTransaction(e,t){let n,r;if("string"==typeof e)n=e;else{n=e.signature}try{r=l().decode(n)}catch(h){throw new Error("signature must be base58 encoded: "+n)}nn(64===r.length,"signature has invalid length");const i=t||this.commitment;let s,o,a=!1;const c=new Promise(((e,t)=>{try{o=this.onSignature(n,((t,n)=>{o=void 0;const r={context:n,value:t};a=!0,e({__type:rn.PROCESSED,response:r})}),i)}catch(h){t(h)}})),u=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}},d=new Promise((t=>{if("string"===typeof e){let e=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":e=this._confirmTransactionInitialTimeout||3e4}s=setTimeout((()=>t({__type:rn.TIMED_OUT,timeoutMs:e})),e)}else{let n=e;(async()=>{let e=await u();if(!a){for(;e<=n.lastValidBlockHeight;){if(await bn(1e3),a)return;if(e=await u(),a)return}t({__type:rn.BLOCKHEIGHT_EXCEEDED})}})()}}));let p;try{const e=await Promise.race([c,d]);switch(e.__type){case rn.BLOCKHEIGHT_EXCEEDED:throw new Hn(n);case rn.PROCESSED:p=e.response;break;case rn.TIMED_OUT:throw new Kn(n,e.timeoutMs/1e3)}}finally{clearTimeout(s),o&&this.removeSignatureListener(o)}return p}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,h.Ue)(e,Jn((0,h.IX)(Wr)));if("error"in t)throw new Error("failed to get cluster nodes: "+t.error.message);return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),r=(0,h.Ue)(n,qr);if("error"in r)throw new Error("failed to get vote accounts: "+r.error.message);return r.result}async getSlot(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getSlot",t),r=(0,h.Ue)(n,Jn((0,h.Rx)()));if("error"in r)throw new Error("failed to get slot: "+r.error.message);return r.result}async getSlotLeader(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getSlotLeader",t),r=(0,h.Ue)(n,Jn((0,h.Z_)()));if("error"in r)throw new Error("failed to get slot leader: "+r.error.message);return r.result}async getSlotLeaders(e,t){const n=[e,t],r=await this._rpcRequest("getSlotLeaders",n),i=(0,h.Ue)(r,Jn((0,h.IX)(Vn)));if("error"in i)throw new Error("failed to get slot leaders: "+i.error.message);return i.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);nn(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=await this._rpcRequest("getSignatureStatuses",n),i=(0,h.Ue)(r,Vr);if("error"in i)throw new Error("failed to get signature status: "+i.error.message);return i.result}async getTransactionCount(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getTransactionCount",t),r=(0,h.Ue)(n,Jn((0,h.Rx)()));if("error"in r)throw new Error("failed to get transaction count: "+r.error.message);return r.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),r=(0,h.Ue)(n,hr);if("error"in r)throw new Error("failed to get inflation: "+r.error.message);return r.result}async getInflationReward(e,t,n){const r=this._buildArgs([e.map((e=>e.toBase58()))],n,void 0,{epoch:t}),i=await this._rpcRequest("getInflationReward",r),s=(0,h.Ue)(i,rr);if("error"in s)throw new Error("failed to get inflation reward: "+s.error.message);return s.result}async getEpochInfo(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getEpochInfo",t),r=(0,h.Ue)(n,fr);if("error"in r)throw new Error("failed to get epoch info: "+r.error.message);return r.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,h.Ue)(e,gr);if("error"in t)throw new Error("failed to get epoch schedule: "+t.error.message);const n=t.result;return new Wn(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,h.Ue)(e,yr);if("error"in t)throw new Error("failed to get leader schedule: "+t.error.message);return t.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=(0,h.Ue)(r,Gr);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",t),r=(0,h.Ue)(n,ui);if("error"in r)throw new Error("failed to get recent blockhash: "+r.error.message);return r.result}async getRecentPerformanceSamples(e){const t=this._buildArgs(e?[e]:[]),n=await this._rpcRequest("getRecentPerformanceSamples",t),r=(0,h.Ue)(n,hi);if("error"in r)throw new Error("failed to get recent performance samples: "+r.error.message);return r.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=(0,h.Ue)(r,fi);if("error"in i)throw new Error("failed to get fee calculator: "+i.error.message);const{context:s,value:o}=i.result;return{context:s,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const n=e.serialize().toString("base64"),r=this._buildArgs([n],t),i=await this._rpcRequest("getFeeForMessage",r),s=(0,h.Ue)(i,er((0,h.AG)((0,h.Rx)())));if("error"in s)throw new Error("failed to get slot: "+s.error.message);if(null===s.result)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getLatestBlockhash",t),r=(0,h.Ue)(n,di);if("error"in r)throw new Error("failed to get latest blockhash: "+r.error.message);return r.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,h.Ue)(e,Jn(ur));if("error"in t)throw new Error("failed to get version: "+t.error.message);return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,h.Ue)(e,Jn((0,h.Z_)()));if("error"in t)throw new Error("failed to get genesis hash: "+t.error.message);return t.result}async getBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),r=await this._rpcRequest("getBlock",n),i=(0,h.Ue)(r,si);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const s=i.result;return s?{...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:n}=e;const r=new tn(t.message);return{meta:n,transaction:{...t,message:r}}}))}:s}async getBlockHeight(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getBlockHeight",t),r=(0,h.Ue)(n,Jn((0,h.Rx)()));if("error"in r)throw new Error("failed to get block height information: "+r.error.message);return r.result}async getBlockProduction(e){let t,n;if("string"===typeof e)n=e;else if(e){const{commitment:r,...i}=e;n=r,t=i}const r=this._buildArgs([],n,"base64",t),i=await this._rpcRequest("getBlockProduction",r),s=(0,h.Ue)(i,pr);if("error"in s)throw new Error("failed to get block production information: "+s.error.message);return s.result}async getTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),r=await this._rpcRequest("getTransaction",n),i=(0,h.Ue)(r,ci);if("error"in i)throw new Error("failed to get transaction: "+i.error.message);const s=i.result;return s?{...s,transaction:{...s.transaction,message:new tn(s.transaction.message)}}:s}async getParsedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=await this._rpcRequest("getTransaction",n),i=(0,h.Ue)(r,li);if("error"in i)throw new Error("failed to get transaction: "+i.error.message);return i.result}async getParsedTransactions(e,t){const n=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=(0,h.Ue)(e,li);if("error"in t)throw new Error("failed to get transactions: "+t.error.message);return t.result}))}async getTransactions(e,t){const n=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t)})));return(await this._rpcBatchRequest(n)).map((e=>{const t=(0,h.Ue)(e,ci);if("error"in t)throw new Error("failed to get transactions: "+t.error.message);return t.result}))}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=await this._rpcRequest("getConfirmedBlock",n),i=(0,h.Ue)(r,oi);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");const o={...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:n}=e;const r=new tn(t.message);return{meta:n,transaction:{...t,message:r}}}))};return{...o,transactions:o.transactions.map((e=>{let{transaction:t,meta:n}=e;return{meta:n,transaction:an.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=await this._rpcRequest("getBlocks",r),s=(0,h.Ue)(i,Jn((0,h.IX)((0,h.Rx)())));if("error"in s)throw new Error("failed to get blocks: "+s.error.message);return s.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=await this._rpcRequest("getBlock",n),i=(0,h.Ue)(r,ai);if("error"in i)throw new Error("failed to get block: "+i.error.message);const s=i.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=await this._rpcRequest("getConfirmedBlock",n),i=(0,h.Ue)(r,ai);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=await this._rpcRequest("getConfirmedTransaction",n),i=(0,h.Ue)(r,ci);if("error"in i)throw new Error("failed to get transaction: "+i.error.message);const s=i.result;if(!s)return s;const o=new tn(s.transaction.message),a=s.transaction.signatures;return{...s,transaction:an.populate(o,a)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=await this._rpcRequest("getConfirmedTransaction",n),i=(0,h.Ue)(r,li);if("error"in i)throw new Error("failed to get confirmed transaction: "+i.error.message);return i.result}async getParsedConfirmedTransactions(e,t){const n=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=(0,h.Ue)(e,li);if("error"in t)throw new Error("failed to get confirmed transactions: "+t.error.message);return t.result}))}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let s=await this.getSlot("finalized");for(;!("before"in r)&&!(++n>s);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(e,r)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",r),s=(0,h.Ue)(i,Tr);if("error"in s)throw new Error("failed to get confirmed signatures for address: "+s.error.message);return s.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",r),s=(0,h.Ue)(i,Or);if("error"in s)throw new Error("failed to get signatures for address: "+s.error.message);return s.result}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=Sn.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),r=(0,h.Ue)(n,gi);if("error"in r)throw new Error("airdrop to "+e.toBase58()+" failed: "+r.error.message);return r.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await bn(100);const e=Date.now()-this._blockhashInfo.lastFetch>=Zn;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let r=0;r<50;r++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await bn(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async simulateTransaction(e,t,n){let r;if(e instanceof an){let t=e;r=new an,r.feePayer=t.feePayer,r.instructions=e.instructions,r.nonceInfo=t.nonceInfo,r.signatures=t.signatures}else r=an.populate(e),r._message=r._json=void 0;if(r.nonceInfo&&t)r.sign(...t);else{let e=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(e);if(r.lastValidBlockHeight=n.lastValidBlockHeight,r.recentBlockhash=n.blockhash,!t)break;if(r.sign(...t),!r.signature)throw new Error("!signature");const i=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(i)&&!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.simulatedSignatures.push(i);break}e=!0}}const i=r._compile(),s=i.serialize(),o=r._serialize(s).toString("base64"),a={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:i.nonProgramIds()).map((e=>e.toBase58()));a.accounts={encoding:"base64",addresses:e}}t&&(a.sigVerify=!0);const c=[o,a],l=await this._rpcRequest("simulateTransaction",c),u=(0,h.Ue)(l,dr);if("error"in u){let e;if("data"in u.error&&(e=u.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(u.error.message,n)}throw new $n("failed to simulate transaction: "+u.error.message,e)}return u.result}async sendTransaction(e,t,n){if(e.nonceInfo)e.sign(...t);else{let n=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(n);if(e.lastValidBlockHeight=r.lastValidBlockHeight,e.recentBlockhash=r.blockhash,e.sign(...t),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}n=!0}}const r=e.serialize();return await this.sendRawTransaction(r,n)}async sendRawTransaction(e,t){const n=k(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries&&(n.maxRetries=t.maxRetries),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const s=[e,n],o=await this._rpcRequest("sendTransaction",s),a=(0,h.Ue)(o,yi);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new $n("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((e=>{let[t,n]=e;this._subscriptionsByHash[t]={...n,state:"pending"}}))):this._updateSubscriptions()}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:i}=n;try{this._subscriptionsByHash[e]={...n,state:"subscribing"};const t=await this._rpcWebSocket.call(i,r);this._subscriptionsByHash[e]={...n,serverSubscriptionId:t,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(s){if(s instanceof Error&&console.error(`${i} error for argument`,r,s.message),!t())return;this._subscriptionsByHash[e]={...n,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._subscriptionsByHash[e]={...n,state:"unsubscribing"};try{await this._rpcWebSocket.call(i,[r])}catch(s){if(s instanceof Error&&console.error(`${i} error:`,s.message),!t())return;return this._subscriptionsByHash[e]={...n,state:"subscribed"},void await this._updateSubscriptions()}}this._subscriptionsByHash[e]={...n,state:"unsubscribed"},await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...t)}catch(n){console.error(n)}}))}_wsOnAccountNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,Dr);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=Fn([e.method,t],!0),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];nn(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const r=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},r)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,Nr);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",r?{filters:r}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,bi);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,Lr);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,zr);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,Fr);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(i)}catch(r){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(e,t,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],r,void 0,i),o=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(o)}catch(r){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=(0,h.Ue)(e,Ur);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class wi{constructor(e){this._keypair=void 0,this._keypair=e||i().sign.keyPair()}static generate(){return new wi(i().sign.keyPair())}static fromSecretKey(e,t){const n=i().sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=i().sign.detached(e,n.secretKey);if(!i().sign.detached.verify(e,t,n.publicKey))throw new Error("provided secretKey is invalid")}return new wi(n)}static fromSeed(e){return new wi(i().sign.keyPair.fromSeed(e))}get publicKey(){return new Ut(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const ki=d.n_([d.u8("numSignatures"),d.u8("padding"),d.KB("signatureOffset"),d.KB("signatureInstructionIndex"),d.KB("publicKeyOffset"),d.KB("publicKeyInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.KB("messageInstructionIndex")]);class Ei{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,instructionIndex:i}=e;nn(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),nn(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const o=ki.span,a=o+t.length,c=a+r.length,l=s.lW.alloc(c+n.length),u=null==i?65535:i;return ki.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:u,publicKeyOffset:o,publicKeyInstructionIndex:u,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:u},l),l.fill(t,o),l.fill(r,a),l.fill(n,c),new on({keys:[],programId:Ei.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;nn(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=wi.fromSecretKey(t),s=e.publicKey.toBytes(),o=i().sign.detached(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:o,instructionIndex:r})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Ei.programId=new Ut("Ed25519SigVerify111111111111111111111111111");const _i=new Ut("StakeConfig11111111111111111111111111111111");class Si{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Ci{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}Ci.default=new Ci(0,0,Ut.default);class Ii{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(xi))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=wn(xi.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Si(new Ut(t.staker),new Ut(t.withdrawer)),lockup:new Ci(n.unixTimestamp,n.epoch,new Ut(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),wn(xi.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=wn(xi.Authorize,e.data),r={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ut(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(r.custodianPubkey=e.keys[3].pubkey),r}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=wn(xi.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:r,authorityOwner:new Ut(i),newAuthorizedPubkey:new Ut(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=wn(xi.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),wn(xi.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=wn(xi.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),wn(xi.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Ai.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const xi=Object.freeze({Initialize:{index:0,layout:d.n_([d.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return d.n_([Qt("staker"),Qt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return d.n_([d.gM("unixTimestamp"),d.gM("epoch"),Qt("custodian")],e)}()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),Qt("newAuthorized"),d.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:d.n_([d.Jq("instruction")])},Split:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Withdraw:{index:4,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Deactivate:{index:5,layout:d.n_([d.Jq("instruction")])},Merge:{index:7,layout:d.n_([d.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:d.n_([d.Jq("instruction"),Qt("newAuthorized"),d.Jq("stakeAuthorizationType"),Yt("authoritySeed"),Qt("authorityOwner")])}}),Pi=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Ai{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||Ci.default,s=vn(xi.Initialize,{authorized:{staker:k(n.staker.toBuffer()),withdrawer:k(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:k(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new on(o)}static createAccountWithSeed(e){const t=new an;t.add(An.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new an;t.add(An.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=vn(xi.Delegate);return(new an).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:yn,isSigner:!1,isWritable:!1},{pubkey:_i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:s}=e,o=vn(xi.Authorize,{newAuthorized:k(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new an).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,c=vn(xi.AuthorizeWithSeed,{newAuthorized:k(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:r,authorityOwner:k(i.toBuffer())}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:cn,isSigner:!1,isWritable:!1}];return a&&l.push({pubkey:a,isSigner:!1,isWritable:!1}),(new an).add({keys:l,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,s=vn(xi.Split,{lamports:i});return new on({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e){const t=new an;return t.add(An.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,basePubkey:i,seed:s,lamports:o}=e,a=new an;return a.add(An.allocate({accountPubkey:r,basePubkey:i,seed:s,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:o}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=vn(xi.Merge);return(new an).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:yn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:s}=e,o=vn(xi.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:yn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new an).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=vn(xi.Deactivate);return(new an).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}Ai.programId=new Ut("Stake11111111111111111111111111111111111111"),Ai.space=200;const{publicKeyCreate:Ri,ecdsaSign:Ti}=b(),Oi=d.n_([d.u8("numSignatures"),d.KB("signatureOffset"),d.u8("signatureInstructionIndex"),d.KB("ethAddressOffset"),d.u8("ethAddressInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.u8("messageInstructionIndex"),d.Ik(20,"ethAddress"),d.Ik(64,"signature"),d.u8("recoveryId")]);class Di{constructor(){}static publicKeyToEthAddress(e){nn(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return s.lW.from(w().keccak_256.update(k(e)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:s}=e;return Di.createInstructionWithEthAddress({ethAddress:Di.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:r,recoveryId:i,instructionIndex:o=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?s.lW.from(t.substr(2),"hex"):s.lW.from(t,"hex"):t,nn(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,l=c+r.length+1,u=s.lW.alloc(Oi.span+n.length);return Oi.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:o,signature:k(r),ethAddress:k(a),recoveryId:i},u),u.fill(k(n),Oi.span),new on({keys:[],programId:Di.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;nn(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=k(t),i=Ri(e,!1).slice(1),o=s.lW.from(w().keccak_256.update(k(n)).digest()),{signature:a,recid:c}=Ti(o,e);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:a,recoveryId:c,instructionIndex:r})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Di.programId=new Ut("KeccakSecp256k11111111111111111111111111111");const Mi=new Ut("Va1idator1nfo111111111111111111111111111111"),Ni=(0,h.dt)({name:(0,h.Z_)(),website:(0,h.jt)((0,h.Z_)()),details:(0,h.jt)((0,h.Z_)()),keybaseUsername:(0,h.jt)((0,h.Z_)())});class ji{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==Jt(t))return null;const n=[];for(let r=0;r<2;r++){const e=new Ut(t.slice(0,32));t=t.slice(32);const r=1===t.slice(0,1)[0];t=t.slice(1),n.push({publicKey:e,isSigner:r})}if(n[0].publicKey.equals(Mi)&&n[1].isSigner){const e=Yt().decode(s.lW.from(t)),r=JSON.parse(e);return(0,h.hu)(r,Ni),new ji(n[1].publicKey,r)}return null}}const Li=new Ut("Vote111111111111111111111111111111111111111"),Bi=d.n_([Qt("nodePubkey"),Qt("authorizedWithdrawer"),d.u8("commission"),d._O(),d.A9(d.n_([d._O("slot"),d.Jq("confirmationCount")]),d.cv(d.Jq(),-8),"votes"),d.u8("rootSlotValid"),d._O("rootSlot"),d._O(),d.A9(d.n_([d._O("epoch"),Qt("authorizedVoter")]),d.cv(d.Jq(),-8),"authorizedVoters"),d.n_([d.A9(d.n_([Qt("authorizedPubkey"),d._O("epochOfLastAuthorizedSwitch"),d._O("targetEpoch")]),32,"buf"),d._O("idx"),d.u8("isEmpty")],"priorVoters"),d._O(),d.A9(d.n_([d._O("epoch"),d._O("credits"),d._O("prevCredits")]),d.cv(d.Jq(),-8),"epochCredits"),d.n_([d._O("slot"),d._O("timestamp")],"lastTimestamp")]);class zi{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=Bi.decode(k(e),4);let n=t.rootSlot;return t.rootSlotValid||(n=null),new zi({nodePubkey:new Ut(t.nodePubkey),authorizedWithdrawer:new Ut(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:n,authorizedVoters:t.authorizedVoters.map(Fi),priorVoters:Wi(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function Fi(e){let{authorizedVoter:t,epoch:n}=e;return{epoch:n,authorizedVoter:new Ut(t)}}function Ui(e){let{authorizedPubkey:t,epochOfLastAuthorizedSwitch:n,targetEpoch:r}=e;return{authorizedPubkey:new Ut(t),epochOfLastAuthorizedSwitch:n,targetEpoch:r}}function Wi(e){let{buf:t,idx:n,isEmpty:r}=e;return r?[]:[...t.slice(n+1).map(Ui),...t.slice(0,n).map(Ui)]}class $i{constructor(e,t,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=r}}class qi{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(Hi))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=wn(Hi.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new $i(new Ut(t.nodePubkey),new Ut(t.authorizedVoter),new Ut(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=wn(Hi.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ut(t),voteAuthorizationType:{index:n}}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=wn(Hi.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Vi.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Hi=Object.freeze({InitializeAccount:{index:0,layout:d.n_([d.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return d.n_([Qt("nodePubkey"),Qt("authorizedVoter"),Qt("authorizedWithdrawer"),d.u8("commission")],e)}()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),Qt("newAuthorized"),d.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])}}),Ki=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Vi{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=vn(Hi.InitializeAccount,{voteInit:{nodePubkey:k(r.nodePubkey.toBuffer()),authorizedVoter:k(r.authorizedVoter.toBuffer()),authorizedWithdrawer:k(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new on(s)}static createAccount(e){const t=new an;return t.add(An.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,s=vn(Hi.Authorize,{newAuthorized:k(r.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new an).add({keys:o,programId:this.programId,data:s})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,s=vn(Hi.Withdraw,{lamports:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new an).add({keys:o,programId:this.programId,data:s})}}async function Gi(e,t,n,r){let i,s;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")?(i=n,s=r):s=n;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment},a=await e.sendRawTransaction(t,o),c=s&&s.commitment,l=i?e.confirmTransaction(i,c):e.confirmTransaction(a,c),u=(await l).value;if(u.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(u)})`);return a}Vi.programId=new Ut("Vote111111111111111111111111111111111111111"),Vi.space=3731;const Xi={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Zi(e,t){const n=!1===t?"http":"https";if(!e)return Xi[n].devnet;const r=Xi[n][e];if(!r)throw new Error(`Unknown ${n} cluster: ${e}`);return r}const Qi=1e9},40316:(e,t)=>{"use strict";const n=Math.exp;e.exports=function(e){if("number"!==typeof e)throw new Error("must provide a timespan to the moving average constructor");if(e<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let t,r,i=0,s=0,o=0,a={};return a.push=function(a,c){if(r){const l=1-n(-(a-r)/e),u=c-t;t=l*c+(1-l)*t,i=(1-l)*(i+u*(l*u)),s=Math.sqrt(i),o=t+l*u}else t=c;r=a},a.movingAverage=function(){return t},a.variance=function(){return i},a.deviation=function(){return s},a.forecast=function(){return o},a}},98691:e=>{function t(e){const t=new globalThis.AbortController;function n(){t.abort();for(const t of e)t&&t.removeEventListener&&t.removeEventListener("abort",n)}for(const r of e)if(r&&r.addEventListener){if(r.aborted){n();break}r.addEventListener("abort",n)}return t.signal}e.exports=t,e.exports.anySignal=t},76297:e=>{"use strict";e.exports=e=>{if(!Array.isArray(e))throw new TypeError("Expected an array, got "+typeof e);for(let t=(e=[...e]).length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}},12009:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,s=c(e),o=s[0],a=s[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,a)),u=0,d=a>0?o-4:o;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=16383,a=0,c=r-i;a<c;a+=o)s.push(l(e,a,a+o>c?c:a+o));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)n[o]=s[o],r[s.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,s,o=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},31156:(e,t,n)=>{"use strict";const r=n(55194);e.exports=function(e){return"function"===typeof e.stream?r(e.stream()):r(new Response(e).body)}},55194:e=>{"use strict";e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.getReader();try{for(;;){const e=await n.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&n.cancel(),n.releaseLock()}}},77073:e=>{"use strict";e.exports=function(e,t){if("string"===typeof e)return o(e);if("number"===typeof e)return s(e,t);return null},e.exports.format=s,e.exports.parse=o;var t=/\B(?=(\d{3})+(?!\d))/g,n=/(?:\.0*|(\.[^0]+)0+)$/,r={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function s(e,i){if(!Number.isFinite(e))return null;var s=Math.abs(e),o=i&&i.thousandsSeparator||"",a=i&&i.unitSeparator||"",c=i&&void 0!==i.decimalPlaces?i.decimalPlaces:2,l=Boolean(i&&i.fixedDecimals),u=i&&i.unit||"";u&&r[u.toLowerCase()]||(u=s>=r.pb?"PB":s>=r.tb?"TB":s>=r.gb?"GB":s>=r.mb?"MB":s>=r.kb?"KB":"B");var d=(e/r[u.toLowerCase()]).toFixed(c);return l||(d=d.replace(n,"$1")),o&&(d=d.split(".").map((function(e,n){return 0===n?e.replace(t,o):e})).join(".")),d+a+u}function o(e){if("number"===typeof e&&!isNaN(e))return e;if("string"!==typeof e)return null;var t,n=i.exec(e),s="b";return n?(t=parseFloat(n[1]),s=n[4].toLowerCase()):(t=parseInt(e,10),s="b"),isNaN(t)?null:Math.floor(r[s]*t)}},29548:(e,t,n)=>{"use strict";var r=n(21533),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,s,o,a,c,l,u=!1;t||(t={}),n=t.debug||!1;try{if(o=r(),a=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var s=i[t.format]||i.default;window.clipboardData.setData(s,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),a.selectNodeContents(l),c.addRange(a),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),s=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(s,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(a):c.removeAllRanges()),l&&document.body.removeChild(l),o()}return u}},58735:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.toGeneral=t.code=t.name=void 0;const a=o(n(53692)),c=o(n(515)),l=s(n(86888));function u(e){return"payload"in e&&"string"===typeof e.payload&&"signatures"in e&&Array.isArray(e.signatures)}function d(e){return"ciphertext"in e&&"string"===typeof e.ciphertext&&"iv"in e&&"string"===typeof e.iv&&"protected"in e&&"string"===typeof e.protected&&"tag"in e&&"string"===typeof e.tag}function p(e){if("string"===typeof e){const t=e.split(".");if(3===t.length)return a.default.fromSplit(t);if(5===t.length)return c.default.fromSplit(t);throw new Error("Not a valid JOSE string")}if(u(e)||d(e))return e;throw new Error("Not a valid unencoded JOSE object")}t.name="dag-jose",t.code=133,t.toGeneral=p,t.encode=function(e){let t;if("string"===typeof e&&(e=p(e)),u(e))t=a.default.encode(e);else{if(!d(e))throw new Error("Not a valid JOSE object");t=c.default.encode(e)}return new Uint8Array(l.encode(t))},t.decode=function(e){let t;try{t=l.decode(e)}catch(r){throw new Error("Not a valid DAG-JOSE object")}if("payload"in(n=t)&&n.payload instanceof Uint8Array&&"signatures"in n&&Array.isArray(n.signatures))return a.default.decode(t);if(function(e){return"ciphertext"in e&&e.ciphertext instanceof Uint8Array&&"iv"in e&&e.iv instanceof Uint8Array&&"protected"in e&&e.protected instanceof Uint8Array&&"tag"in e&&e.tag instanceof Uint8Array}(t))return c.default.decode(t);throw new Error("Not a valid DAG-JOSE object");var n}},60720:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_ID:"lightning_tunnel",REACT_APP_NAME:"Lightning Tunnel",REACT_APP_AUTHOR_NAME:"Sentre",REACT_APP_AUTHOR_EMAIL:"hi@sentre.io",REACT_APP_TAGS:"solana,dapps,utility",REACT_APP_DESCRIPTION:"\ud83c\udf26 The Solana Tool for Mega Airdrops with less-than- Transaction Fee.",REACT_APP_URL:"https://descartesnetwork.github.io/lightning-tunnel/index.js"}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(87565)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},99693:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function o(e,t){try{return t in e}catch(n){return!1}}function a(e,t,n){var i={};return n.isMergeableObject(e)&&s(e).forEach((function(t){i[t]=r(e[t],n)})),s(t).forEach((function(s){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,s)||(o(e,s)&&n.isMergeableObject(t[s])?i[s]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"===typeof n?n:c}(s,n)(e[s],t[s],n):i[s]=r(t[s],n))})),i}function c(e,n,s){(s=s||{}).arrayMerge=s.arrayMerge||i,s.isMergeableObject=s.isMergeableObject||t,s.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(n);return o===Array.isArray(e)?o?s.arrayMerge(e,n,s):a(e,n,s):r(n,s)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var l=c;e.exports=l},21613:function(e){e.exports=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}},15504:e=>{"use strict";function t(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,n,r){if(!e||"string"===typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"===typeof n&&(r=n,n=""),n&&(r.code=n);try{return t(e,r)}catch(i){r.message=e.message,r.stack=e.stack;const n=function(){};n.prototype=Object.create(Object.getPrototypeOf(e));return t(new n,r)}}},36571:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,s,o,l;if(a(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"===typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):f(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var l=c.length,u=f(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},14361:(e,t,n)=>{var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),s={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},87167:e=>{e.exports=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function i(i,s){n[i]=s,++t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(e){return void 0!==n[e]||void 0!==r[e]},remove:function(e){void 0!==n[e]&&(n[e]=void 0),void 0!==r[e]&&(r[e]=void 0)},get:function(e){var t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(i(e,t),t):void 0},set:function(e,t){void 0!==n[e]?n[e]=t:i(e,t)},clear:function(){n=Object.create(null),r=Object.create(null)}}}},4813:(e,t,n)=>{"use strict";var r={};(0,n(11824).assign)(r,n(60961),n(11829),n(52168)),e.exports=r},41257:(e,t,n)=>{"use strict";const r=n(46861),i="object"===typeof window&&"object"===typeof document&&9===document.nodeType,s=r(),o=i&&!s,a=s&&!i,c=s&&i,l="undefined"!==typeof globalThis.process&&"undefined"!==typeof globalThis.process.release&&"node"===globalThis.process.release.name&&!s,u="function"===typeof importScripts&&"undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,d="undefined"!==typeof globalThis.process&&"undefined"!==typeof globalThis.process.env&&"test"===globalThis.process.env.NODE_ENV,p="undefined"!==typeof navigator&&"ReactNative"===navigator.product;e.exports={isTest:d,isElectron:s,isElectronMain:a,isElectronRenderer:c,isNode:l,isBrowser:o,isWebWorker:u,isEnvWithDom:i,isReactNative:p}},68170:(e,t,n)=>{"use strict";const{fetch:r,Request:i,Headers:s}=n(42453),{TimeoutError:o,HTTPError:a}=n(90140),c=n(47250).bind({ignoreUndefined:!0}),{URL:l,URLSearchParams:u}=n(41094),d=n(98691),p={throwHttpErrors:!0,credentials:"same-origin"};class h{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=c(p,e)}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=c(this.opts,t),p=new s(n.headers);if("string"!==typeof e&&!(e instanceof l||e instanceof i))throw new TypeError("`resource` must be a string, URL, or Request");const h=new l(e.toString(),n.base),{searchParams:y,transformSearchParams:m,json:b}=n;y&&(h.search="function"===typeof m?m(new u(n.searchParams)):new u(n.searchParams)),b&&(n.body=JSON.stringify(n.json),p.set("content-type","application/json"));const v=new AbortController,w=d([v.signal,n.signal]),k=await((e,t,n)=>{if(void 0===t)return e;const r=Date.now(),i=()=>Date.now()-r>=t;return new Promise(((r,s)=>{const a=setTimeout((()=>{i()&&(s(new o),n.abort())}),t),c=e=>t=>{clearTimeout(a),i()?s(new o):e(t)};e.then(c(r),c(s))}))})(r(h.toString(),{...n,signal:w,timeout:void 0,headers:p}),n.timeout,v);if(!k.ok&&n.throwHttpErrors)throw n.handleError&&await n.handleError(k),new a(k);return k.iterator=function(){return g(k.body)},k.ndjson=async function*(){for await(const e of f(k.iterator()))t.transform?yield t.transform(e):yield e},k}post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"POST"})}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"GET"})}put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"PUT"})}delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"DELETE"})}options(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"OPTIONS"})}}const f=async function*(e){const t=new TextDecoder;let n="";for await(const r of e){n+=t.decode(r,{stream:!0});const e=n.split(/\r?\n/);for(let t=0;t<e.length-1;t++){const n=e[t].trim();n.length>0&&(yield JSON.parse(n))}n=e[e.length-1]}n+=t.decode(),n=n.trim(),0!==n.length&&(yield JSON.parse(n))},g=e=>{if(b(e)){const t=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:t.next.bind(t),return:n=>(e.destroy(),"function"===typeof t.return?t.return():Promise.resolve({done:!0,value:n}))})}}if(m(e)){const t=e.getReader();return async function*(){try{for(;;){const{done:e,value:n}=await t.read();if(e)return;n&&(yield n)}}finally{t.releaseLock()}}()}if(y(e))return e;throw new TypeError("Body can't be converted to AsyncIterable")},y=e=>"object"===typeof e&&null!==e&&"function"===typeof e[Symbol.asyncIterator],m=e=>e&&"function"===typeof e.getReader,b=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable");h.HTTPError=a,h.TimeoutError=o,h.streamToAsyncIterator=g,h.post=(e,t)=>new h(t).post(e,t),h.get=(e,t)=>new h(t).get(e,t),h.put=(e,t)=>new h(t).put(e,t),h.delete=(e,t)=>new h(t).delete(e,t),h.options=(e,t)=>new h(t).options(e,t),e.exports=h},47937:e=>{"use strict";var t=/^(?:[a-z0-9](?:[a-z0-9\-]{0,61}[a-z0-9])?\.){0,126}(?:[a-z0-9](?:[a-z0-9\-]{0,61}[a-z0-9]))\.?$/i;e.exports=function(e,n){if(null==n&&(n=!1),e.length<2)return!1;if(e.length>255)return!1;var r=e[e.length-1];if(n){if("."!==r)return!1}else if("."===r)return!1;return t.test(e)}},21958:e=>{"use strict";e.exports=async e=>{const t=[];for await(const n of e)t.push(n);return t}},20838:e=>{"use strict";e.exports=async e=>{for await(const t of e);}},45454:e=>{"use strict";e.exports=async e=>{for await(const t of e)return t}},16586:e=>{"use strict";e.exports=async e=>{let t;for await(const n of e)t=n;return t}},7213:(e,t,n)=>{"use strict";t.encode=n(57158),t.decode=n(16811),t.varintEncode=n(16225),t.varintDecode=n(67369),t.int32BEEncode=n(9538),t.int32BEDecode=n(25012)},88411:(e,t,n)=>{"use strict";const r=n(19635);e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for await(const n of r(e,t)){const e=n.map((e=>e().then((e=>({ok:!0,value:e})),(e=>({ok:!1,err:e})))));for(let t=0;t<e.length;t++){const n=await e[t];if(!n.ok)throw n.err;yield n.value}}}},1833:(e,t,n)=>{"use strict";const r=n(61135),i=n(36571).EventEmitter;e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.concurrency||1/0;n<1&&(n=1/0);const s=null!=t.ordered&&t.ordered,o=new i,a=[];let c,l=r(),u=r(),d=!1,p=!1;function h(){return s?Boolean(a[0]&&a[0].done):Boolean(a.find((e=>e.done)))}function*f(){for(;a.length&&a[0].done;){const e=a[0];if(a.shift(),!e.ok)throw p=!0,l.resolve(),e.err;yield e.value,l.resolve()}}function*g(){for(;h();)for(let e=0;e<a.length;e++)if(a[e].done){const t=a[e];if(a.splice(e,1),e--,!t.ok)throw p=!0,l.resolve(),t.err;yield t.value,l.resolve()}}for(o.on("task-complete",(()=>{u.resolve()})),Promise.resolve().then((async()=>{try{for await(const t of e){if(a.length===n&&(l=r(),await l.promise),p)break;const e={done:!1};a.push(e),t().then((t=>{e.done=!0,e.ok=!0,e.value=t,o.emit("task-complete")}),(t=>{e.done=!0,e.err=t,o.emit("task-complete")}))}d=!0,o.emit("task-complete")}catch(t){c=t,o.emit("task-complete")}}));;){if(h()||(u=r(),await u.promise),c)throw c;if(s?yield*f():yield*g(),d&&0===a.length)break}}},62469:e=>{"use strict";e.exports=function(e){const[t,n]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:e=>{r.push(e)},next:()=>r.length?{done:!1,value:r.shift()}:t.next(),[n](){return this}}}},31730:(e,t,n)=>{const r=n(39047);e.exports=e=>{let t;"function"===typeof(e=e||{})?(t=e,e={}):t=e.onEnd;let n,i,s,o=new r;const a=e=>i?i(e):(o.push(e),n),c=e=>s?n:a({done:!1,value:e}),l=e=>s?n:(s=!0,e?(e=>(o=new r,i?i({error:e}):(o.push({error:e}),n)))(e):a({done:!0}));if(n={[Symbol.asyncIterator](){return this},next:()=>{if(!o.isEmpty()){if(e.writev){let e;const t=[];for(;!o.isEmpty();){if(e=o.shift(),e.error)throw e.error;t.push(e.value)}return{done:e.done,value:t}}const t=o.shift();if(t.error)throw t.error;return t}return s?{done:!0}:new Promise(((t,r)=>{i=s=>(i=null,s.error?r(s.error):e.writev&&!s.done?t({done:s.done,value:[s.value]}):t(s),n)}))},return:()=>(o=new r,l(),{done:!0}),throw:e=>(l(e),{done:!0}),push:c,end:l},!t)return n;const u=n;return n={[Symbol.asyncIterator](){return this},next:()=>u.next(),throw:e=>(u.throw(e),t&&(t(e),t=null),{done:!0}),return:()=>(u.return(),t&&(t(),t=null),{done:!0}),push:c,end:e=>(u.end(e),t&&(t(e),t=null),n)},n}},91703:(e,t,n)=>{"use strict";const r=n(21958);e.exports=async function*(e,t){const n=await r(e);yield*n.sort(t)}},53659:(e,t,n)=>{n(89869),t.pack=n(56113)},56113:(e,t,n)=>{const{Buffer:r}=n(97429),i=n(74439),{S_IFMT:s,S_IFBLK:o,S_IFCHR:a,S_IFDIR:c,S_IFIFO:l,S_IFLNK:u}=n(24416),d=n(46905),p=n(95336),h=parseInt("755",8),f=parseInt("644",8),g=r.alloc(1024);function y(e){switch(e&s){case o:return"block-device";case a:return"character-device";case c:return"directory";case l:return"fifo";case u:return"symlink"}return"file"}function m(e){if(e&=511)return new i(g.slice(0,512-e))}function b(e){if(!e.pax){const t=p.encode(e);if(t)return t}return function(e){const t=p.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};return new i([p.encode(n),t,m(t.length),p.encode({...n,size:e.size,type:e.type})])}(e)}e.exports=()=>async function*(e){for await(let{header:t,body:n}of e){if(t.size&&"symlink"!==t.type||(t.size=0),t.type||(t.type=y(t.mode)),t.mode||(t.mode="directory"===t.type?h:f),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),"string"===typeof n&&(n=r.from(n)),r.isBuffer(n)||i.isBufferList(n)){t.size=n.length,yield new i([b(t),n,m(t.size)]);continue}if("symlink"===t.type&&!t.linkname){t.linkname=(await d(n)).toString(),yield b(t);continue}if(yield b(t),"file"!==t.type&&"contiguous-file"!==t.type)continue;let e=0;for await(const t of n)e+=t.length,yield i.isBufferList(t)?t:new i(t);if(e!==t.size)throw new Error("size mismatch");const s=m(t.size);s&&(yield s)}yield new i(g)}},42407:(e,t,n)=>{"use strict";const{concat:r}=n(52769);e.exports=async function(e){let t=new Uint8Array(0);for await(const n of e)t=r([t,n],t.length+n.length);return t}},88898:e=>{e.exports=function(e,t,n){var r=null,i=null,s=function(){r&&(clearTimeout(r),i=null,r=null)},o=function(){if(!t)return e.apply(this,arguments);var o=this,a=arguments,c=n&&!r;return s(),i=function(){e.apply(o,a)},r=setTimeout((function(){if(r=null,!c){var e=i;return i=null,e()}}),t),c?i():void 0};return o.cancel=s,o.flush=function(){var e=i;s(),e&&e()},o}},2548:e=>{e.exports=function(e,t,n){if(!e)return n;var r,i;Array.isArray(t)&&(r=t.slice(0));"string"==typeof t&&(r=t.split("."));"symbol"==typeof t&&(r=[t]);if(!Array.isArray(r))throw new Error("props arg must be an array, a string or a symbol");for(;r.length;){if(i=r.shift(),!e)return n;if(void 0===(e=e[i]))return n}return e}},69201:e=>{function t(e){if("__proto__"===e||"constructor"===e||"prototype"===e)throw new Error("setting of prototype values not supported")}e.exports=function(e,n,r){var i,s,o;Array.isArray(n)&&(i=n.slice(0));"string"==typeof n&&(i=n.split("."));"symbol"==typeof n&&(i=[n]);if(!Array.isArray(i))throw new Error("props arg must be an array, a string or a symbol");if(!(s=i.pop()))return!1;t(s);for(;o=i.shift();)if(t(o),"undefined"==typeof e[o]&&(e[o]={}),!(e=e[o])||"object"!=typeof e)return!1;return e[s]=r,!0}},77420:(e,t,n)=>{e.exports=n(67469)(n(39850))},95067:(e,t,n)=>{"use strict";const r=n(91401),{Multiaddr:i}=n(10006),s=n(44021),{EventEmitter:o}=n(36571),a=n(60720),c=Object.assign(a("libp2p:bootstrap"),{error:a("libp2p:bootstrap:error")});(e.exports=class extends o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[]};if(!e.list||!e.list.length)throw new Error("Bootstrap requires a list of peer addresses");super(),this._list=e.list,this._interval=e.interval||1e4,this._timer=null}start(){this._timer||(this._timer=setInterval((()=>this._discoverBootstrapPeers()),this._interval),c("Starting bootstrap node discovery"),this._discoverBootstrapPeers())}_discoverBootstrapPeers(){this._timer&&this._list.forEach((e=>{if(!s.P2P.matches(e))return c.error("Invalid multiaddr");const t=new i(e),n=t.getPeerId();if(!n)return void c.error("Invalid bootstrap multiaddr without peer id");const o=r.createFromB58String(n);try{this.emit("peer",{id:o,multiaddrs:[t]})}catch(a){c.error("Invalid bootstrap peer id",a)}}))}stop(){this._timer&&clearInterval(this._timer),this._timer=null}}).tag="bootstrap"},8711:(e,t,n)=>{"use strict";const r=n(60720),i=n(91401),s=n(20838),{default:o}=n(60185),a=n(61135),c=r("libp2p-delegated-content-routing");c.error=r("libp2p-delegated-content-routing:error");e.exports=class{constructor(e,t){if(null==e)throw new Error("missing self peerId");if(null==t)throw new Error("missing ipfs http client");this._client=t,this.peerId=e;const n={concurrency:4};this._httpQueue=new o(n),this._httpQueueRefs=new o(Object.assign({},n,{concurrency:2}));const{protocol:r,host:i,port:s}=t.getEndpointConfig();c(`enabled DelegatedContentRouting via ${r}://${i}:${s}`)}async*findProviders(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(`findProviders starts: ${e}`),t.timeout=t.timeout||3e4;let n=0;const r=a(),s=a();this._httpQueue.add((()=>(r.resolve(),s.promise)));try{await r.promise;for await(const{id:r,addrs:s}of this._client.dht.findProvs(e,{numProviders:t.numProviders,timeout:t.timeout}))yield{id:i.parse(r),multiaddrs:s},n++}catch(o){throw c.error("findProviders errored:",o),o}finally{s.resolve(),c(`findProviders finished: ${e} found ${n} providers`)}}async provide(e){c(`provide starts: ${e}`),await this._httpQueueRefs.add((async()=>{await this._client.block.stat(e),await s(this._client.dht.provide(e))})),c(`provide finished: ${e}`)}}},55585:(e,t,n)=>{"use strict";const r=n(91401),{base58btc:i}=n(43019),{default:s}=n(60185),o=n(61135),a=n(60720),c=a("libp2p-delegated-peer-routing");c.error=a("libp2p-delegated-peer-routing:error");e.exports=class{constructor(e){if(null==e)throw new Error("missing ipfs http client");this._client=e,this._httpQueue=new s({concurrency:4});const{protocol:t,host:n,port:r}=e.getEndpointConfig();c(`enabled DelegatedPeerRouting via ${t}://${n}:${r}`)}async findPeer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;r.isPeerId(n)&&(n=e.toB58String()),c("findPeer starts: "+e),t.timeout=t.timeout||3e4;try{return await this._httpQueue.add((async()=>{const{addrs:r}=await this._client.dht.findPeer(n,{timeout:t.timeout});return{id:e,multiaddrs:r}}))}catch(i){if(i.message.includes("not found"))return;throw i}finally{c("findPeer finished: "+e)}}async*getClosestPeers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=i.encode(e).substring(1);c("getClosestPeers starts:",n),t.timeout=t.timeout||3e4;const s=o(),a=o();this._httpQueue.add((()=>(s.resolve(),a.promise)));try{await s.promise;for await(const e of this._client.dht.query(n,{timeout:t.timeout}))if(1===e.type)for(const t of e.responses)yield{id:r.parse(t.id),multiaddrs:t.addrs};else c("getClosestPeers unhandled response",e)}catch(l){throw c.error("getClosestPeers errored:",l),l}finally{a.resolve(),c("getClosestPeers finished:",n)}}}},97153:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const a=s(n(20008)),c=n(57904),l=n(19971),u=s(n(76371)),d=n(29519),p=n(22687),h=n(38071),f=n(97389),g=n(99375),y=n(53112),m=n(91401),b=n(50650),v=n(76371);class w extends a.default{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=[u.GossipsubIDv11,u.GossipsubIDv10],i=Object.assign(Object.assign({gossipIncoming:!0,fallbackToFloodsub:!0,floodPublish:!0,doPX:!1,directPeers:[],D:u.GossipsubD,Dlo:u.GossipsubDlo,Dhi:u.GossipsubDhi,Dscore:u.GossipsubDscore,Dout:u.GossipsubDout,Dlazy:u.GossipsubDlazy,heartbeatInterval:u.GossipsubHeartbeatInterval,fanoutTTL:u.GossipsubFanoutTTL,mcacheLength:u.GossipsubHistoryLength,mcacheGossip:u.GossipsubHistoryGossip,seenTTL:u.GossipsubSeenTTL},t),{scoreParams:f.createPeerScoreParams(t.scoreParams),scoreThresholds:f.createPeerScoreThresholds(t.scoreThresholds)});i.fallbackToFloodsub&&r.push(u.FloodsubID),super(Object.assign({debugName:"libp2p:gossipsub",multicodecs:r,libp2p:e},i)),this._options=i,this.direct=new Set(i.directPeers.map((e=>e.id.toB58String()))),this.acceptFromWhitelist=new Map,i.directPeers.forEach((t=>{e.peerStore.addressBook.add(t.id,t.addrs)})),this.seenCache=new y.SimpleTimeCache({validityMs:i.seenTTL}),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.messageCache=t.messageCache||new c.MessageCache(i.mcacheGossip,i.mcacheLength),this.getFastMsgIdStr=null!==(n=t.fastMsgIdFn)&&void 0!==n?n:void 0,this.fastMsgIdCache=t.fastMsgIdFn?new y.SimpleTimeCache({validityMs:i.seenTTL}):void 0,this.heartbeat=new d.Heartbeat(this),this.heartbeatTicks=0,this.gossipTracer=new g.IWantTracer,this._libp2p=e,this.score=new f.PeerScore(this._options.scoreParams,e.connectionManager)}_decodeRpc(e){return l.RPC.decode(e)}_encodeRpc(e){return l.RPC.encode(e).finish()}_addPeer(e,t){const n=super._addPeer(e,t);this.score.addPeer(e.toB58String());let r=!1;for(const i of this._libp2p.connectionManager.getAll(e))if("outbound"===i.stat.direction&&Array.from(i.registry.values()).some((e=>t===e.protocol))){r=!0;break}return this.outbound.set(n.id.toB58String(),r),n}_removePeer(e){const t=super._removePeer(e),n=e.toB58String();for(const r of this.mesh.values())r.delete(n);for(const r of this.fanout.values())r.delete(n);return this.gossip.delete(n),this.control.delete(n),this.outbound.delete(n),this.score.removePeer(n),this.acceptFromWhitelist.delete(n),t}_processRpc(e,t,n){const r=Object.create(null,{_processRpc:{get:()=>super._processRpc}});return o(this,void 0,void 0,(function*(){return!!(yield r._processRpc.call(this,e,t,n))&&(n.control&&(yield this._processRpcControlMessage(e,n.control)),!0)}))}_processRpcControlMessage(e,t){return o(this,void 0,void 0,(function*(){if(!t)return;const n=t.ihave?this._handleIHave(e,t.ihave):[],r=t.iwant?this._handleIWant(e,t.iwant):[],i=t.graft?yield this._handleGraft(e,t.graft):[];if(t.prune&&this._handlePrune(e,t.prune),!n.length&&!r.length&&!i.length)return;const s=h.createGossipRpc(r,{iwant:n,prune:i});this._sendRpc(e,s)}))}_processRpcMessage(e){const t=Object.create(null,{_processRpcMessage:{get:()=>super._processRpcMessage}});return o(this,void 0,void 0,(function*(){let n;if(this.getFastMsgIdStr&&this.fastMsgIdCache){const t=yield this.getFastMsgIdStr(e);if(n=this.fastMsgIdCache.get(t),void 0!==n)return void this.score.duplicateMessage(e,n);n=h.messageIdToString(yield this.getMsgId(e)),this.fastMsgIdCache.put(t,n)}else if(n=h.messageIdToString(yield this.getMsgId(e)),this.seenCache.has(n))return void this.score.duplicateMessage(e,n);this.seenCache.put(n),yield this.score.validateMessage(n),yield t._processRpcMessage.call(this,e)}))}_acceptFrom(e){if(this.direct.has(e))return!0;const t=Date.now(),n=this.acceptFromWhitelist.get(e);if(n&&n.messagesAccepted<v.ACCEPT_FROM_WHITELIST_MAX_MESSAGES&&n.acceptUntil>=t)return n.messagesAccepted+=1,!0;const r=this.score.score(e);return r>=v.ACCEPT_FROM_WHITELIST_THRESHOLD_SCORE?this.acceptFromWhitelist.set(e,{messagesAccepted:0,acceptUntil:t+v.ACCEPT_FROM_WHITELIST_DURATION_MS}):this.acceptFromWhitelist.delete(e),r>=this._options.scoreThresholds.graylistThreshold}validate(e){const t=Object.create(null,{validate:{get:()=>super.validate}});return o(this,void 0,void 0,(function*(){try{yield t.validate.call(this,e)}catch(n){const t=yield this.getCanonicalMsgIdStr(e);throw this.score.rejectMessage(e,t,n.code),this.gossipTracer.rejectMessage(t,n.code),n}}))}_handleIHave(e,t){if(!t.length)return[];const n=this.score.score(e);if(n<this._options.scoreThresholds.gossipThreshold)return this.log("IHAVE: ignoring peer %s with score below threshold [ score = %d ]",e,n),[];const r=(this.peerhave.get(e)||0)+1;if(this.peerhave.set(e,r),r>u.GossipsubMaxIHaveMessages)return this.log("IHAVE: peer %s has advertised too many times (%d) within this heartbeat interval; ignoring",e,r),[];const i=this.iasked.get(e)||0;if(i>=u.GossipsubMaxIHaveLength)return this.log("IHAVE: peer %s has already advertised too many messages (%d); ignoring",e,i),[];const s=new Map;if(t.forEach((e=>{let{topicID:t,messageIDs:n}=e;t&&n&&this.mesh.has(t)&&n.forEach((e=>{const t=h.messageIdToString(e);this.seenCache.has(t)||s.set(t,e)}))})),!s.size)return[];let o=s.size;o+i>u.GossipsubMaxIHaveLength&&(o=u.GossipsubMaxIHaveLength-i),this.log("IHAVE: Asking for %d out of %d messages from %s",o,s.size,e);let a=Array.from(s.values());return h.shuffle(a),a=a.slice(0,o),this.iasked.set(e,i+o),this.gossipTracer.addPromise(e,a),[{messageIDs:a}]}_handleIWant(e,t){if(!t.length)return[];const n=this.score.score(e);if(n<this._options.scoreThresholds.gossipThreshold)return this.log("IWANT: ignoring peer %s with score below threshold [score = %d]",e,n),[];const r=new Map;return t.forEach((t=>{let{messageIDs:n}=t;n&&n.forEach((t=>{const n=h.messageIdToString(t),[i,s]=this.messageCache.getForPeer(n,e);i&&(s>u.GossipsubGossipRetransmission?this.log("IWANT: Peer %s has asked for message %s too many times: ignoring request",e,t):r.set(n,i))}))})),r.size?(this.log("IWANT: Sending %d messages to %s",r.size,e),Array.from(r.values()).map(a.utils.normalizeOutRpcMessage)):[]}_handleGraft(e,t){return o(this,void 0,void 0,(function*(){const n=[],r=this.score.score(e),i=this._now();let s=this._options.doPX;return t.forEach((t=>{let{topicID:o}=t;var a;if(!o)return;const c=this.mesh.get(o);if(!c)return void(s=!1);if(c.has(e))return;if(this.direct.has(e))return this.log("GRAFT: ignoring request from direct peer %s",e),n.push(o),void(s=!1);const l=null===(a=this.backoff.get(o))||void 0===a?void 0:a.get(e);if("number"===typeof l&&i<l){this.log("GRAFT: ignoring backed off peer %s",e),this.score.addPenalty(e,1),s=!1;const t=l+u.GossipsubGraftFloodThreshold-u.GossipsubPruneBackoff;return i<t&&this.score.addPenalty(e,1),this._addBackoff(e,o),void n.push(o)}return r<0?(this.log("GRAFT: ignoring peer %s with negative score: score=%d, topic=%s",e,r,o),n.push(o),s=!1,void this._addBackoff(e,o)):c.size>=this._options.Dhi&&!this.outbound.get(e)?(n.push(o),void this._addBackoff(e,o)):(this.log("GRAFT: Add mesh link from %s in %s",e,o),this.score.graft(e,o),void c.add(e))})),n.length?Promise.all(n.map((t=>this._makePrune(e,t,s)))):[]}))}_handlePrune(e,t){const n=this.score.score(e);t.forEach((t=>{let{topicID:r,backoff:i,peers:s}=t;if(!r)return;const o=this.mesh.get(r);if(o&&(this.log("PRUNE: Remove mesh link to %s in %s",e,r),this.score.prune(e,r),o.delete(e),"number"===typeof i&&i>0?this._doAddBackoff(e,r,1e3*i):this._addBackoff(e,r),s&&s.length)){if(n<this._options.scoreThresholds.acceptPXThreshold)return void this.log("PRUNE: ignoring PX from peer %s with insufficient score [score = %d, topic = %s]",e,n,r);this._pxConnect(s)}}))}_addBackoff(e,t){this._doAddBackoff(e,t,u.GossipsubPruneBackoff)}_doAddBackoff(e,t,n){let r=this.backoff.get(t);r||(r=new Map,this.backoff.set(t,r));const i=this._now()+n;(r.get(e)||0)<i&&r.set(e,i)}_applyIwantPenalties(){this.gossipTracer.getBrokenPromises().forEach(((e,t)=>{this.log("peer %s didn't follow up in %d IWANT requests; adding penalty",t,e),this.score.addPenalty(t,e)}))}_clearBackoff(){if(this.heartbeatTicks%u.GossipsubPruneBackoffTicks!==0)return;const e=this._now();this.backoff.forEach(((t,n)=>{t.forEach(((n,r)=>{n<e&&t.delete(r)})),0===t.size&&this.backoff.delete(n)}))}_directConnect(){if(this.heartbeatTicks%u.GossipsubDirectConnectTicks!==0)return;const e=[];this.direct.forEach((t=>{const n=this.peers.get(t);n&&n.isWritable||e.push(t)})),e.length&&e.forEach((e=>{this._connect(e)}))}_pxConnect(e){return o(this,void 0,void 0,(function*(){e.length>u.GossipsubPrunePeers&&(h.shuffle(e),e=e.slice(0,u.GossipsubPrunePeers));const t=[];yield Promise.all(e.map((e=>o(this,void 0,void 0,(function*(){if(!e.peerID)return;const n=m.createFromBytes(e.peerID).toB58String();if(!this.peers.has(n))if(e.signedPeerRecord)try{const r=yield b.openAndCertify(e.signedPeerRecord,"libp2p-peer-record"),i=r.peerId.toB58String();if(n!==i)return void this.log("bogus peer record obtained through px: peer ID %s doesn't match expected peer %s",i,n);if(!this._libp2p.peerStore.addressBook.consumePeerRecord(r))return void this.log("bogus peer record obtained through px: could not add peer record to address book");t.push(n)}catch(r){this.log("bogus peer record obtained through px: invalid signature or not a peer record")}else t.push(n)}))))),t.length&&t.forEach((e=>this._connect(e)))}))}start(){const e=Object.create(null,{start:{get:()=>super.start}});return o(this,void 0,void 0,(function*(){yield e.start.call(this),this.heartbeat.start(),this.score.start(),this._directPeerInitial=setTimeout((()=>{this.direct.forEach((e=>{this._connect(e)}))}),u.GossipsubDirectConnectInitialDelay)}))}stop(){const e=Object.create(null,{stop:{get:()=>super.stop}});return o(this,void 0,void 0,(function*(){yield e.stop.call(this),this.heartbeat.stop(),this.score.stop(),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.gossipTracer.clear(),this.seenCache.clear(),this.fastMsgIdCache&&this.fastMsgIdCache.clear(),clearTimeout(this._directPeerInitial)}))}_connect(e){this.log("Initiating connection with %s",e),this._libp2p.dialProtocol(m.createFromB58String(e),this.multicodecs)}subscribe(e){super.subscribe(e),this.join(e)}unsubscribe(e){super.unsubscribe(e),this.leave(e)}join(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("JOIN %s",e);const t=this.fanout.get(e);if(t)t.forEach((e=>{this.score.score(e)<0&&t.delete(e)})),t.size<this._options.D&&p.getGossipPeers(this,e,this._options.D-t.size,(e=>!t.has(e)&&!this.direct.has(e)&&this.score.score(e)>=0)).forEach((e=>t.add(e))),this.mesh.set(e,t),this.fanout.delete(e),this.lastpub.delete(e);else{const t=p.getGossipPeers(this,e,this._options.D,(e=>!this.direct.has(e)&&this.score.score(e)>=0));this.mesh.set(e,t)}this.mesh.get(e).forEach((t=>{this.log("JOIN: Add mesh link to %s in %s",t,e),this._sendGraft(t,e)}))}leave(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("LEAVE %s",e);const t=this.mesh.get(e);t&&(t.forEach((t=>{this.log("LEAVE: Remove mesh link to %s in %s",t,e),this._sendPrune(t,e)})),this.mesh.delete(e))}getCanonicalMsgIdStr(e){var t,n;return o(this,void 0,void 0,(function*(){return this.fastMsgIdCache&&this.getFastMsgIdStr&&null!==(n=null!==(t=this.getCachedMsgIdStr(e))&&void 0!==t?t:this.fastMsgIdCache.get(this.getFastMsgIdStr(e)))&&void 0!==n?n:h.messageIdToString(yield this.getMsgId(e))}))}getCachedMsgIdStr(e){}_publish(e){return o(this,void 0,void 0,(function*(){const t=yield this.getCanonicalMsgIdStr(e);e.receivedFrom!==this.peerId.toB58String()&&(this.score.deliverMessage(e,t),this.gossipTracer.deliverMessage(t)),this.seenCache.put(t),this.messageCache.put(e,t);const n=new Set;e.topicIDs.forEach((t=>{const r=this.topics.get(t);if(r)if(this._options.floodPublish&&e.from===this.peerId.toB58String())r.forEach((e=>{(this.direct.has(e)||this.score.score(e)>=this._options.scoreThresholds.publishThreshold)&&n.add(e)}));else{this.direct.forEach((e=>{n.add(e)})),r.forEach((e=>{const t=this.score.score(e),r=this.peers.get(e);r&&r.protocol===u.FloodsubID&&t>=this._options.scoreThresholds.publishThreshold&&n.add(e)}));let e=this.mesh.get(t);if(!e||!e.size){if(e=this.fanout.get(t),!e){const n=p.getGossipPeers(this,t,this._options.D,(e=>this.score.score(e)>=this._options.scoreThresholds.publishThreshold));n.size>0?(e=n,this.fanout.set(t,n)):e=new Set}this.lastpub.set(t,this._now())}e.forEach((e=>{n.add(e)}))}}));const r=h.createGossipRpc([a.utils.normalizeOutRpcMessage(e)]);n.forEach((t=>{t!==e.from&&this._sendRpc(t,r)}))}))}_sendGraft(e,t){const n=[{topicID:t}],r=h.createGossipRpc([],{graft:n});this._sendRpc(e,r)}_sendPrune(e,t){return o(this,void 0,void 0,(function*(){const n=[yield this._makePrune(e,t,this._options.doPX)],r=h.createGossipRpc([],{prune:n});this._sendRpc(e,r)}))}_sendRpc(e,t){const n=this.peers.get(e);if(!n||!n.isWritable)return;const r=this.control.get(e);r&&(this._piggybackControl(e,t,r),this.control.delete(e));const i=this.gossip.get(e);i&&(this._piggybackGossip(e,t,i),this.gossip.delete(e)),n.write(l.RPC.encode(t).finish())}_piggybackControl(e,t,n){const r=(n.graft||[]).filter((t=>{let{topicID:n}=t;return(n&&this.mesh.get(n)||new Set).has(e)})),i=(n.prune||[]).filter((t=>{let{topicID:n}=t;return!(n&&this.mesh.get(n)||new Set).has(e)}));(r.length||i.length)&&(t.control?(t.control.graft=t.control.graft&&t.control.graft.concat(r),t.control.prune=t.control.prune&&t.control.prune.concat(i)):t.control={ihave:[],iwant:[],graft:r,prune:i})}_piggybackGossip(e,t,n){t.control||(t.control={ihave:[],iwant:[],graft:[],prune:[]}),t.control.ihave=n}_sendGraftPrune(e,t,n){return o(this,void 0,void 0,(function*(){const r=this._options.doPX;for(const[i,s]of e){const e=s.map((e=>({topicID:e})));let o=[];const a=t.get(i);a&&(o=yield Promise.all(a.map((e=>this._makePrune(i,e,r&&!n.get(i))))),t.delete(i));const c=h.createGossipRpc([],{graft:e,prune:o});this._sendRpc(i,c)}for(const[e,i]of t){const t=yield Promise.all(i.map((t=>this._makePrune(e,t,r&&!n.get(e))))),s=h.createGossipRpc([],{prune:t});this._sendRpc(e,s)}}))}_emitGossip(e,t){const n=this.messageCache.getGossipIDs(e);if(!n.length)return;h.shuffle(n),n.length>u.GossipsubMaxIHaveLength&&this.log("too many messages for gossip; will truncate IHAVE list (%d messages)",n.length);const r=[],i=this.topics.get(e);if(!i)return;i.forEach((e=>{const n=this.peers.get(e);n&&!t.has(e)&&!this.direct.has(e)&&h.hasGossipProtocol(n.protocol)&&this.score.score(e)>=this._options.scoreThresholds.gossipThreshold&&r.push(e)}));let s=this._options.Dlazy;const o=u.GossipsubGossipFactor*r.length;o>s&&(s=o),s>r.length?s=r.length:h.shuffle(r),r.slice(0,s).forEach((t=>{let r=n;n.length>u.GossipsubMaxIHaveLength&&(r=h.shuffle(r.slice()).slice(0,u.GossipsubMaxIHaveLength)),this._pushGossip(t,{topicID:e,messageIDs:r})}))}_flush(){for(const[e,t]of this.gossip.entries()){this.gossip.delete(e);const n=h.createGossipRpc([],{ihave:t});this._sendRpc(e,n)}for(const[e,t]of this.control.entries()){this.control.delete(e);const n=h.createGossipRpc([],{graft:t.graft,prune:t.prune});this._sendRpc(e,n)}}_pushGossip(e,t){this.log("Add gossip to %s",e);const n=this.gossip.get(e)||[];this.gossip.set(e,n.concat(t))}_now(){return Date.now()}_makePrune(e,t,n){return o(this,void 0,void 0,(function*(){if(this.peers.get(e).protocol===u.GossipsubIDv10)return{topicID:t,peers:[]};const r=u.GossipsubPruneBackoff/1e3;if(!n)return{topicID:t,peers:[],backoff:r};const i=p.getGossipPeers(this,t,u.GossipsubPrunePeers,(t=>t!==e&&this.score.score(t)>=0)),s=yield Promise.all(Array.from(i).map((e=>o(this,void 0,void 0,(function*(){const t=m.createFromB58String(e);return{peerID:t.toBytes(),signedPeerRecord:yield this._libp2p.peerStore.addressBook.getRawEnvelope(t)}})))));return{topicID:t,peers:s,backoff:r}}))}}w.multicodec=u.GossipsubIDv11,e.exports=w},90983:(e,t,n)=>{"use strict";const r=n(37567),i=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),s=n(60720),o=Object.assign(s("libp2p:topology:multicodec-topology"),{error:s("libp2p:topology:multicodec-topology:error")});class a extends r{constructor(e){let{min:t,max:n,multicodecs:r,handlers:i}=e;if(super({min:t,max:n,handlers:i}),!r)throw new Error("one or more multicodec should be provided");if(!i)throw new Error("the handlers should be provided");if("function"!==typeof i.onConnect)throw new Error("the 'onConnect' handler must be provided");if("function"!==typeof i.onDisconnect)throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(r)?r:[r],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[i](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[i])}async setRegistrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),await this._updatePeers(this._registrar.peerStore.getPeers())}async _updatePeers(e){for await(const{id:t,protocols:n}of e)if(this.multicodecs.filter((e=>n.includes(e))).length){this.peers.add(t.toB58String());const e=this._registrar.getConnection(t);e&&this._onConnect(t,e)}else this.peers.delete(t.toB58String())}async _onProtocolChange(e){let{peerId:t,protocols:n}=e;try{const e=this.peers.has(t.toB58String()),r=n.filter((e=>this.multicodecs.includes(e)));e&&0===r.length&&this._onDisconnect(t);for(const i of n)if(this.multicodecs.includes(i)){const e=await this._registrar.peerStore.get(t);return void await this._updatePeers([e])}}catch(r){o.error(r)}}async _onPeerConnect(e){try{const t=e.remotePeer,n=await this._registrar.peerStore.protoBook.get(t);if(!n)return;this.multicodecs.find((e=>n.includes(e)))&&(this.peers.add(t.toB58String()),this._onConnect(t,e))}catch(t){o.error(t)}}}e.exports=a},49616:(e,t,n)=>{"use strict";const{KadDHT:r}=n(58415),{DualKadDHT:i}=n(70022);e.exports={create:e=>new i(new r({...e,protocol:"/ipfs/kad/1.0.0",lan:!1}),new r({...e,protocol:"/ipfs/lan/kad/1.0.0",clientMode:!1,lan:!0}),e.libp2p)}},48402:(e,t,n)=>{"use strict";e.exports=n(64736)},64736:(e,t,n)=>{"use strict";const r=n(89962),i=n(31730),s=n(60720)("libp2p:mplex"),o=n(7155),a=n(14910),c=n(11999),{MessageTypes:l,MessageTypeNames:u}=n(88809),d=n(91126);class p{constructor(e){e="function"===typeof(e=e||{})?{onStream:e}:e,this._streamId=0,this._streams={initiators:new Map,receivers:new Map},this._options=e,this.sink=this._createSink(),this.source=this._createSource(),this.onStream=e.onStream,this.onStreamEnd=e.onStreamEnd}get streams(){const e=[];return this._streams.initiators.forEach((t=>{e.push(t)})),this._streams.receivers.forEach((t=>{e.push(t)})),e}newStream(e){const t=this._streamId++;e=null==e?t.toString():String(e);const n=this._streams.initiators;return this._newStream({id:t,name:e,type:"initiator",registry:n})}_newReceiverStream(e){let{id:t,name:n}=e;const r=this._streams.receivers;return this._newStream({id:t,name:n,type:"receiver",registry:r})}_newStream(e){let{id:t,name:n,type:r,registry:i}=e;if(i.has(t))throw new Error(`${r} stream ${t} already exists!`);s("new %s stream %s %s",r,t,n);const o=d({id:t,name:n,send:e=>(s.enabled&&s("%s stream %s %s send",r,t,n,{...e,type:u[e.type],data:e.data&&e.data.slice()}),this.source.push(e)),type:r,onEnd:()=>{s("%s stream %s %s ended",r,t,n),i.delete(t),this.onStreamEnd&&this.onStreamEnd(o)},maxMsgSize:this._options.maxMsgSize});return i.set(t,o),o}_createSink(){return async e=>{this._options.signal&&(e=o(e,this._options.signal));try{await r(e,a.decode,c(this._options.maxMsgSize),(async e=>{for await(const t of e)for(const e of t)this._handleIncoming(e)}))}catch(t){return s("error in sink",t),this.source.end(t)}this.source.end()}}_createSource(){const e=i({onEnd:e=>{const{initiators:t,receivers:n}=this._streams;for(const r of t.values())r.abort(e);for(const r of n.values())r.abort(e)},writev:!0});return Object.assign(a.encode(e),{push:e.push,end:e.end,return:e.return})}_handleIncoming(e){let{id:t,type:n,data:r}=e;if(s.enabled&&s("incoming message",{id:t,type:u[n],data:r.slice()}),n===l.NEW_STREAM&&this.onStream){const e=this._newReceiverStream({id:t,name:r.toString()});return this.onStream(e)}const i=(1&n?this._streams.initiators:this._streams.receivers).get(t);if(!i)return s("missing stream %s",t);switch(n){case l.MESSAGE_INITIATOR:case l.MESSAGE_RECEIVER:i.source.push(r);break;case l.CLOSE_INITIATOR:case l.CLOSE_RECEIVER:i.close();break;case l.RESET_INITIATOR:case l.RESET_RECEIVER:i.reset();break;default:s("unknown message type %s",n)}}}p.multicodec="/mplex/6.7.0",e.exports=p},16758:(e,t,n)=>{"use strict";e.exports={Record:n(91453),validator:n(36782),selection:n(55980)}},84856:(e,t,n)=>{"use strict";const r=n(60720),i=r("libp2p:webrtc-star");i.error=r("libp2p:webrtc-star:error");const{EventEmitter:s}=n(36571),o=n(15504),a=n(24177),{AbortError:c}=n(7155),l=n(33192),{supportsWebRTCDataChannels:u}=n(11747),{Multiaddr:d}=n(10006),p=n(44021),h=n(91401),{CODE_CIRCUIT:f}=n(85146),g=n(17931),y=n(92380),{cleanMultiaddr:m,cleanUrlSIO:b}=n(480);function v(){}e.exports=a(class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.upgrader)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=e.upgrader,this.sioOptions={transports:["websocket"],"force new connection":!0},e.wrtc&&(this.wrtc=e.wrtc),this.sigReferences=new Map,this.discovery=new s,this.discovery.tag="webRTCStar",this.discovery._isStarted=!1,this.discovery.start=()=>{this.discovery._isStarted=!0},this.discovery.stop=()=>{this.discovery._isStarted=!1},this._peerDiscovered=this._peerDiscovered.bind(this)}async dial(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await this._connect(e,t),r=y(n,{remoteAddr:e,signal:t.signal});i("new outbound connection %s",r.remoteAddr);const s=await this._upgrader.upgradeOutbound(r);return i("outbound connection %s upgraded",r.remoteAddr),s}_connect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.signal&&t.signal.aborted)throw new c;const n={initiator:!0,trickle:!1,...t.spOptions||{}};this.wrtc&&(n.wrtc=this.wrtc);const r=e.toOptions(),s=(~~(1e9*Math.random())).toString(36)+Date.now();return new Promise(((a,u)=>{const d=this.sigReferences.get(b(e));if(!d||!d.listener)return u(o(new Error("unknown signal server to use"),"ERR_UNKNOWN_SIGNAL_SERVER"));const p=d.listener.io,h=Date.now();let f;i("dialing %s:%s",r.host,r.port);const g=new l(n),y=e=>{if(!f){const t=`connection error ${r.host}:${r.port}: ${e.message}`;i.error(t),k(e)}},m=()=>{i("connnection timeout %s:%s",r.host,r.port);const e=o(new Error(`connection timeout after ${Date.now()-h}ms`),"ERR_CONNECT_TIMEOUT");g.emit("error",e)},v=()=>{f=!0,i("connection opened %s:%s",r.host,r.port),k(null)},w=()=>{i.error("connection aborted %s:%s",r.host,r.port),g.destroy(),k(new c)},k=e=>{g.removeListener("timeout",m),g.removeListener("connect",v),t.signal&&t.signal.removeEventListener("abort",w),e?u(e):a(g)};g.on("error",y),g.once("timeout",m),g.once("connect",v),g.on("close",(()=>{g.removeListener("error",y)})),t.signal&&t.signal.addEventListener("abort",w),g.on("signal",(t=>{p.emit("ss-handshake",{intentId:s,srcMultiaddr:d.signallingAddr.toString(),dstMultiaddr:e.toString(),signal:t})})),p.on("ws-handshake",(e=>{e.intentId===s&&e.err&&(g.destroy(),u(o(e.err instanceof Error?e.err:new Error(e.err),"ERR_SIGNALLING_FAILED"))),e.intentId===s&&e.answer&&!g.destroyed&&g.signal(e.signal)}))}))}createListener(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!u&&!this.wrtc)throw o(new Error("no WebRTC support"),"ERR_NO_WEBRTC_SUPPORT");return"function"===typeof e&&(t=e,e={}),t=t||v,g({handler:t,upgrader:this._upgrader},this,e)}filter(e){return(e=Array.isArray(e)?e:[e]).filter((e=>!e.protoCodes().includes(f)&&p.WebRTCStar.matches(e)))}_peerDiscovered(e){if(!this.discovery._isStarted)return;i("Peer Discovered:",e),e=m(e);const t=new d(e),n=h.createFromB58String(t.getPeerId());this.discovery.emit("peer",{id:n,multiaddrs:[t]})}},{className:"WebRTCStar",symbolName:"@libp2p/js-libp2p-webrtc-star/webrtcstar"})},62162:(e,t,n)=>{"use strict";const r=n(8317),i=n(24177),s=n(36381),{AbortError:o}=n(7155),a=n(61135),c=n(60720),l=c("libp2p:websockets");l.error=c("libp2p:websockets:error");const u=n(41257),d=n(53779),p=n(63221),h=n(17946);e.exports=i(class{constructor(e){let{upgrader:t,filter:n}=e;if(!t)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=t,this._filter=n}async dial(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l("dialing %s",e);const n=await this._connect(e,t),r=p(n,{remoteAddr:e,signal:t.signal});l("new outbound connection %s",r.remoteAddr);const i=await this._upgrader.upgradeOutbound(r);return l("outbound connection %s upgraded",r.remoteAddr),i}async _connect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.signal&&t.signal.aborted)throw new o;const n=e.toOptions();l("dialing %s:%s",n.host,n.port);const i=a(),c=e=>{const t=`connection error: ${e.message}`;l.error(t),i.reject(e)},u=r(s(e),Object.assign({binary:!0},t));if(u.socket.on?u.socket.on("error",c):u.socket.onerror=c,!t.signal)return await Promise.race([u.connected(),i.promise]),l("connected %s",e),u;let d;const p=new Promise(((e,n)=>{if(d=()=>{n(new o),setTimeout((()=>{u.close()}))},t.signal.aborted)return d();t.signal.addEventListener("abort",d)}));try{await Promise.race([p,i.promise,u.connected()])}finally{t.signal.removeEventListener("abort",d)}return l("connected %s",e),u}createListener(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"function"===typeof e&&(t=e,e={}),d({handler:t,upgrader:this._upgrader},e)}filter(e){return e=Array.isArray(e)?e:[e],this._filter?this._filter(e):u.isBrowser||u.isWebWorker?h.dnsWss(e):h.all(e)}},{className:"WebSockets",symbolName:"@libp2p/js-libp2p-websockets/websockets"})},60403:(e,t,n)=>{"use strict";const r=n(60720),i=Object.assign(r("libp2p"),{error:r("libp2p:err")}),{EventEmitter:s}=n(36571),o=n(15504),a=n(91401),{Multiaddr:c}=n(10006),{MemoryDatastore:l}=n(51854),u=n(41216),d=n(34646),p=n(95096),{validate:h}=n(22586),{codes:f,messages:g}=n(90707),y=n(41404),m=n(27069),b=n(27202),v=n(66537),w=n(12271),k=n(44546),E=n(71464),_=n(67340),S=n(69725),C=n(61704),I=n(28623),x=n(80796),P=n(30324),A=n(74166),R=n(55763),T=n(6944),O=n(80850),{updateSelfPeerRecord:D}=n(23055);class M extends s{static async create(e){if(e.peerId)return new M(e);const t=await a.create();return e.peerId=t,new M(e)}constructor(e){if(super(),this._options=h(e),this.peerId=this._options.peerId,this.datastore=this._options.datastore,this._options.metrics.enabled){const e=new _({...this._options.metrics});this.metrics=e}if(this.connectionGater={denyDialPeer:async()=>Promise.resolve(!1),denyDialMultiaddr:async()=>Promise.resolve(!1),denyInboundConnection:async()=>Promise.resolve(!1),denyOutboundConnection:async()=>Promise.resolve(!1),denyInboundEncryptedConnection:async()=>Promise.resolve(!1),denyOutboundEncryptedConnection:async()=>Promise.resolve(!1),denyInboundUpgradedConnection:async()=>Promise.resolve(!1),denyOutboundUpgradedConnection:async()=>Promise.resolve(!1),filterMultiaddrForPeer:async()=>Promise.resolve(!0),...this._options.connectionGater},this.peerStore=new I({peerId:this.peerId,datastore:this.datastore&&this._options.peerStore.persistence?this.datastore:new l,addressFilter:this.connectionGater.filterMultiaddrForPeer}),this.addresses=this._options.addresses,this.addressManager=new y(this.peerId,this._options.addresses),this.addressManager.on("change:addresses",(()=>{D(this).catch((e=>{i.error("Error updating self peer record",e)}))})),this._modules=this._options.modules,this._config=this._options.config,this._transport=[],this._discovery=new Map,this.connectionManager=new m(this,{...this._options.connectionManager}),this._autodialler=new b(this,{enabled:this._config.peerDiscovery.autoDial,minConnections:this._options.connectionManager.minConnections,autoDialInterval:this._options.connectionManager.autoDialInterval}),this._options.keychain&&this._options.keychain.datastore){i("creating keychain");const e=E.generateOptions();this.keychain=new E(this._options.keychain.datastore,{...e,...this._options.keychain}),i("keychain constructed")}if(this.upgrader=new C({connectionGater:this.connectionGater,localPeer:this.peerId,metrics:this.metrics,onConnection:e=>this.connectionManager.onConnect(e),onConnectionEnd:e=>this.connectionManager.onDisconnect(e)}),this.transportManager=new S({libp2p:this,upgrader:this.upgrader,faultTolerance:this._options.transportManager.faultTolerance}),this.natManager=new O({peerId:this.peerId,addressManager:this.addressManager,transportManager:this.transportManager,...this._options.config.nat}),this.registrar=new P({peerStore:this.peerStore,connectionManager:this.connectionManager}),this.handle=this.handle.bind(this),this.registrar.handle=this.handle,!this._modules.connEncryption||!this._modules.connEncryption.length)throw o(new Error(g.CONN_ENCRYPTION_REQUIRED),f.CONN_ENCRYPTION_REQUIRED);if(this._modules.connEncryption.forEach((e=>{this.upgrader.cryptos.set(e.protocol,e)})),this.dialer=new k({transportManager:this.transportManager,connectionGater:this.connectionGater,peerStore:this.peerStore,metrics:this.metrics,...this._options.dialer}),this._modules.transport.forEach((e=>{const t=e.prototype[Symbol.toStringTag],n=this._config.transport[t];this.transportManager.add(t,e,n)})),this._config.relay.enabled&&(this.transportManager.add(v.prototype[Symbol.toStringTag],v),this.relay=new w(this)),this._modules.streamMuxer){this._modules.streamMuxer.forEach((e=>{this.upgrader.muxers.set(e.multicodec,e)})),this.identifyService=new A({libp2p:this})}if(this._modules.connProtector)this.upgrader.protector=this._modules.connProtector;else if(void 0!==globalThis.process&&globalThis.process.env&&globalThis.process.env.LIBP2P_FORCE_PNET)throw new Error("Private network is enforced, but no protector was provided");if(this._modules.dht){const e=this._modules.dht;this._dht=e.create({libp2p:this,...this._config.dht})}if(this._modules.pubsub){const e=this._modules.pubsub;this.pubsub=x(e,this,this._config.pubsub)}this.peerRouting=new u(this),this.contentRouting=new d(this),this._onDiscoveryPeer=this._onDiscoveryPeer.bind(this),this.fetchService=new R(this),this.pingService=new T(this)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"error"!==e||this._events.error?super.emit(e,...n):(i.error(n),!1)}async start(){i("libp2p is starting"),this.identifyService&&await this.handle(Object.values(A.getProtocolStr(this)),this.identifyService.handleMessage),this.fetchService&&await this.handle(R.PROTOCOL,this.fetchService.handleMessage),this.pingService&&await this.handle(T.getProtocolStr(this),this.pingService.handleMessage);try{await this._onStarting(),await this._onDidStart(),i("libp2p has started")}catch(e){throw this.emit("error",e),i.error("An error occurred starting libp2p",e),await this.stop(),e}}async stop(){i("libp2p is stopping");try{this._isStarted=!1,this.identifyService&&await this.identifyService.stop(),this.relay&&this.relay.stop(),this.peerRouting.stop(),await this._autodialler.stop(),await(this._dht&&this._dht.stop());for(const e of this._discovery.values())e.removeListener("peer",this._onDiscoveryPeer);await Promise.all(Array.from(this._discovery.values(),(e=>e.stop()))),this._discovery=new Map,await this.connectionManager.stop(),await Promise.all([this.pubsub&&this.pubsub.stop(),this.metrics&&this.metrics.stop()]),await this.natManager.stop(),await this.transportManager.close(),await this.unhandle(R.PROTOCOL),await this.unhandle(T.getProtocolStr(this)),this.dialer.destroy()}catch(e){e&&(i.error(e),this.emit("error",e))}i("libp2p has stopped")}async loadKeychain(){if(this.keychain)try{await this.keychain.findKeyByName("self")}catch(e){await this.keychain.importPeer("self",this.peerId)}}isStarted(){return this._isStarted}get connections(){return this.connectionManager.connections}dial(e,t){return this._dial(e,t)}async dialProtocol(e,t,n){if(!t||!t.length)throw o(new Error("no protocols were provided to open a stream"),f.ERR_INVALID_PROTOCOLS_FOR_STREAM);return(await this._dial(e,n)).newStream(t)}async _dial(e,t){const{id:n,multiaddrs:r}=p(e);if(n.equals(this.peerId))throw o(new Error("Cannot dial self"),f.ERR_DIALED_SELF);let i=this.connectionManager.get(n);return i?r&&await this.peerStore.addressBook.add(n,r):i=await this.dialer.connectToPeer(e,t),i}get multiaddrs(){let e=this.addressManager.getAnnounceAddrs().map((e=>e.toString()));e.length||(e=this.transportManager.getAddrs().map((e=>e.toString()))),e=e.concat(this.addressManager.getObservedAddrs().map((e=>e.toString())));const t=this._options.addresses.announceFilter,n=new Set(e);return t(Array.from(n).map((e=>new c(e))))}async hangUp(e){const{id:t}=p(e),n=this.connectionManager.connections.get(t.toB58String());n&&await Promise.all(n.map((e=>e.close())))}fetch(e,t){return this.fetchService.fetch(e,t)}ping(e){const{id:t,multiaddrs:n}=p(e);return n?this.pingService.ping(n[0]):this.pingService.ping(t)}async handle(e,t){(e=Array.isArray(e)?e:[e]).forEach((e=>{this.upgrader.protocols.set(e,t)})),await this.peerStore.protoBook.add(this.peerId,e)}async unhandle(e){(e=Array.isArray(e)?e:[e]).forEach((e=>{this.upgrader.protocols.delete(e)})),await this.peerStore.protoBook.remove(this.peerId,e)}async _onStarting(){const e=this.addressManager.getListenAddrs();await this.transportManager.listen(e),this.natManager.start(),this._config.pubsub.enabled&&this.pubsub&&await this.pubsub.start(),this._config.dht.enabled&&(this._dht&&await this._dht.start(),this._dht.on("peer",this._onDiscoveryPeer)),this.metrics&&this.metrics.start(),this.identifyService&&await this.identifyService.start()}async _onDidStart(){this._isStarted=!0,this.peerStore.on("peer",(e=>{this.emit("peer:discovery",e),this._maybeConnect(e).catch((e=>{i.error(e)}))}));for await(const e of this.peerStore.getPeers())this.emit("peer:discovery",e.id);this.connectionManager.start(),await this._autodialler.start(),await this._setupPeerDiscovery(),this.relay&&this.relay.start(),this.peerRouting.start()}_onDiscoveryPeer(e){e.id.toB58String()!==this.peerId.toB58String()?(e.multiaddrs&&this.peerStore.addressBook.add(e.id,e.multiaddrs).catch((e=>i.error(e))),e.protocols&&this.peerStore.protoBook.set(e.id,e.protocols).catch((e=>i.error(e)))):i.error(new Error(f.ERR_DISCOVERED_SELF))}async _maybeConnect(e){if(!0===this._config.peerDiscovery.autoDial&&!this.connectionManager.get(e)){if((this._options.connectionManager.minConnections||0)>this.connectionManager.size){i("connecting to discovered peer %s",e.toB58String());try{await this.dialer.connectToPeer(e)}catch(t){i.error(`could not connect to discovered peer ${e.toB58String()} with ${t}`)}}}}async _setupPeerDiscovery(){const e=e=>{let t={enabled:!0};if(e.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[e.tag]&&(t={...t,...this._config.peerDiscovery[e.tag]}),t.enabled&&!this._discovery.has(e.tag)){let n;n="function"===typeof e?new e(Object.assign({},t,{peerId:this.peerId,libp2p:this})):e,n.on("peer",this._onDiscoveryPeer),this._discovery.set(e.tag,n)}};for(const t of this._modules.peerDiscovery||[])e(t);for(const t of this.transportManager.getTransports())t.discovery&&e(t.discovery);await Promise.all(Array.from(this._discovery.values(),(e=>e.start())))}}e.exports=M},71038:e=>{"use strict";class t extends Map{constructor(e){super();const{system:t,component:n,metric:r,metrics:i}=e;this._system=t,this._component=n,this._metric=r,this._metrics=i,this._metrics.updateComponentMetric({system:this._system,component:this._component,metric:this._metric,value:this.size})}set(e,t){return super.set(e,t),this._metrics.updateComponentMetric({system:this._system,component:this._component,metric:this._metric,value:this.size}),this}delete(e){const t=super.delete(e);return this._metrics.updateComponentMetric({system:this._system,component:this._component,metric:this._metric,value:this.size}),t}clear(){super.clear(),this._metrics.updateComponentMetric({system:this._system,component:this._component,metric:this._metric,value:this.size})}}e.exports=e=>{let n,{system:r="libp2p",component:i,metric:s,metrics:o}=e;return n=o?new t({system:r,component:i,metric:s,metrics:o}):new Map,n}},44021:(e,t,n)=>{"use strict";const{Multiaddr:r}=n(10006),i=R("dns4"),s=R("dns6"),o=R("dnsaddr"),a=A(R("dns"),o,i,s),c=A(R("ip4"),R("ip6")),l=A(P(c,R("tcp")),P(a,R("tcp"))),u=P(c,R("udp")),d=P(u,R("utp")),p=P(u,R("quic")),h=A(P(l,R("ws")),P(a,R("ws"))),f=A(P(l,R("wss")),P(a,R("wss"))),g=A(P(l,R("http")),P(c,R("http")),P(a,R("http"))),y=A(P(l,R("https")),P(c,R("https")),P(a,R("https"))),m=A(P(h,R("p2p-webrtc-star"),R("p2p")),P(f,R("p2p-webrtc-star"),R("p2p")),P(h,R("p2p-webrtc-star")),P(f,R("p2p-webrtc-star"))),b=A(P(h,R("p2p-websocket-star"),R("p2p")),P(f,R("p2p-websocket-star"),R("p2p")),P(h,R("p2p-websocket-star")),P(f,R("p2p-websocket-star"))),v=A(P(g,R("p2p-webrtc-direct"),R("p2p")),P(y,R("p2p-webrtc-direct"),R("p2p")),P(g,R("p2p-webrtc-direct")),P(y,R("p2p-webrtc-direct"))),w=A(h,f,g,y,m,v,l,d,p,a),k=A(P(w,R("p2p-stardust"),R("p2p")),P(w,R("p2p-stardust"))),E=A(P(w,R("p2p")),m,v,R("p2p")),_=A(P(E,R("p2p-circuit"),E),P(E,R("p2p-circuit")),P(R("p2p-circuit"),E),P(w,R("p2p-circuit")),P(R("p2p-circuit"),w),R("p2p-circuit")),S=()=>A(P(_,S),_),C=S(),I=A(P(C,E,C),P(E,C),P(C,E),C,E);function x(e){return function(t){if(!r.isMultiaddr(t))try{t=new r(t)}catch(i){return!1}const n=e(t.protoNames());return null!==n&&(!0===n||!1===n?n:0===n.length)}}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(e){if(e.length<t.length)return null;let n=e;return t.some((t=>(n="function"===typeof t?t().partialMatch(e):t.partialMatch(e),Array.isArray(n)&&(e=n),null===n))),n}return{toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:x(r),partialMatch:r}}function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(e){let n=null;return t.some((t=>{const r="function"===typeof t?t().partialMatch(e):t.partialMatch(e);return!!r&&(n=r,!0)})),n}const i={toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:x(r),partialMatch:r};return i}function R(e){const t=e;return{toString:function(){return t},matches:function(e){let n;if("string"===typeof e||e instanceof Uint8Array)try{n=new r(e)}catch(s){return!1}else n=e;const i=n.protoNames();return 1===i.length&&i[0]===t},partialMatch:function(e){return 0===e.length?null:e[0]===t?e.slice(1):null}}}e.exports={DNS:a,DNS4:i,DNS6:s,DNSADDR:o,IP:c,TCP:l,UDP:u,QUIC:p,UTP:d,HTTP:g,HTTPS:y,WebSockets:h,WebSocketsSecure:f,WebSocketStar:b,WebRTCStar:m,WebRTCDirect:v,Reliable:w,Stardust:k,Circuit:C,P2P:I,IPFS:I}},26494:(e,t,n)=>{const r=n(46338),i=n(23432),{default:s}=n(60185),{timeout:o}=n(17474),a=n(548),c={};let l;function u(e,t){let n;const r=new Promise((e=>{n=e}));return e.add((()=>o(new Promise((e=>{n((()=>{e()}))})),t.timeout))),r}const d={concurrency:1/0,timeout:846e5,global:n.g,singleProcess:!1};e.exports=(e,t)=>(t||(t={}),"object"===typeof e&&(t=e,e="lock"),e||(e="lock"),t=Object.assign({},d,t),l||(l=r(t)||i(t),l.isWorker||(l.on("requestReadLock",((e,t)=>{c[e]&&c[e].readLock().then((e=>t().finally((()=>e()))))})),l.on("requestWriteLock",(async(e,t)=>{c[e]&&c[e].writeLock().then((e=>t().finally((()=>e()))))})))),c[e]||(c[e]=((e,t)=>{if(l.isWorker)return{readLock:l.readLock(e,t),writeLock:l.writeLock(e,t)};const n=new s({concurrency:1});let r=null;return{readLock:()=>{if(r)return u(r,t);r=new s({concurrency:t.concurrency,autoStart:!1});const e=r,i=u(r,t);return n.add((()=>(e.start(),e.onIdle().then((()=>{r===e&&(r=null)}))))),i},writeLock:()=>(r=null,u(n,t))}})(e,t)),c[e]),e.exports.Worker=function(e,t){let r;t=t||n.g.Worker;try{r=new t(e)}catch(i){i.message.includes("not a constructor")&&(r=t(e))}if(!r)throw new Error("Could not create Worker from",t);return a(r),r}},36381:(e,t,n)=>{const{Multiaddr:r}=n(10006),i=(e,t)=>t,s={ip4:i,ip6:(e,t,n,r)=>1===r.length&&"ip6"===r[0].protocol?t:`[${t}]`,tcp:(e,t,n,r,i)=>r.some((e=>["http","https","ws","wss"].includes(e.protocol)))?`${e}:${t}`:((e,t,n,r)=>{if(r&&!1===r.assumeHttp)return`tcp://${e}:${t}`;let i="tcp",s=`:${t}`;return"tcp"===n[n.length-1].protocol&&(i="443"===t?"https":"http",s="443"===t||"80"===t?"":s),`${i}://${e}${s}`})(e,t,r,i),udp:(e,t)=>`udp://${e}:${t}`,dnsaddr:i,dns4:i,dns6:i,ipfs:(e,t)=>`${e}/ipfs/${t}`,p2p:(e,t)=>`${e}/p2p/${t}`,http:e=>`http://${e}`,https:e=>`https://${e}`,ws:e=>`ws://${e}`,wss:e=>`wss://${e}`,"p2p-websocket-star":e=>`${e}/p2p-websocket-star`,"p2p-webrtc-star":e=>`${e}/p2p-webrtc-star`,"p2p-webrtc-direct":e=>`${e}/p2p-webrtc-direct`};e.exports=(e,t)=>{const n=new r(e),i=e.toString().split("/").slice(1);return n.tuples().map((e=>({protocol:i.shift(),content:e[1]?i.shift():null}))).reduce(((e,n,r,i)=>{const o=s[n.protocol];if(!o)throw new Error(`Unsupported protocol ${n.protocol}`);return o(e,n.content,r,i,t)}),"")}},17134:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>E});var r,i=n(92950),s=n.n(i),o=Object.defineProperty,a=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&u(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&u(e,n,t[n]);return e},p=(e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n};(e=>{const t=class{constructor(e,n,r,i){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let o=[];for(let t=0;t<this.size;t++)o.push(!1);for(let t=0;t<this.size;t++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();const a=this.addEccAndInterleave(r);if(this.drawCodewords(a),-1==i){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(i=t,e=n),this.applyMask(t)}}s(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(n,r){const i=e.QrSegment.makeSegments(n);return t.encodeSegments(i,r)}static encodeBinary(n,r){const i=e.QrSegment.makeBytes(n);return t.encodeSegments([i],r)}static encodeSegments(e,n){let i,o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=c&&c<=l&&l<=t.MAX_VERSION)||u<-1||u>7)throw new RangeError("Invalid value");for(i=c;;i++){const r=8*t.getNumDataCodewords(i,n),s=a.getTotalBits(e,i);if(s<=r){o=s;break}if(i>=l)throw new RangeError("Data too long")}for(const r of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])d&&o<=8*t.getNumDataCodewords(i,r)&&(n=r);let p=[];for(const t of e){r(t.mode.modeBits,4,p),r(t.numChars,t.mode.numCharCountBits(i),p);for(const e of t.getData())p.push(e)}s(p.length==o);const h=8*t.getNumDataCodewords(i,n);s(p.length<=h),r(0,Math.min(4,h-p.length),p),r(0,(8-p.length%8)%8,p),s(p.length%8==0);for(let t=236;p.length<h;t^=253)r(t,8,p);let f=[];for(;8*f.length<p.length;)f.push(0);return p.forEach(((e,t)=>f[t>>>3]|=e<<7-(7&t))),new t(i,n,f,u)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)0==n&&0==r||0==n&&r==t-1||n==t-1&&0==r||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let i=0;i<10;i++)n=n<<1^1335*(n>>>9);const r=21522^(t<<10|n);s(r>>>15==0);for(let s=0;s<=5;s++)this.setFunctionModule(8,s,i(r,s));this.setFunctionModule(8,7,i(r,6)),this.setFunctionModule(8,8,i(r,7)),this.setFunctionModule(7,8,i(r,8));for(let s=9;s<15;s++)this.setFunctionModule(14-s,8,i(r,s));for(let s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,i(r,s));for(let s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,i(r,s));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;s(t>>>18==0);for(let n=0;n<18;n++){const e=i(t,n),r=this.size-11+n%3,s=Math.floor(n/3);this.setFunctionModule(r,s,e),this.setFunctionModule(s,r,e)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const i=Math.max(Math.abs(r),Math.abs(n)),s=e+r,o=t+n;0<=s&&s<this.size&&0<=o&&o<this.size&&this.setFunctionModule(s,o,2!=i&&4!=i)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");const i=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],o=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],a=Math.floor(t.getNumRawDataModules(n)/8),c=i-a%i,l=Math.floor(a/i);let u=[];const d=t.reedSolomonComputeDivisor(o);for(let s=0,h=0;s<i;s++){let n=e.slice(h,h+l-o+(s<c?0:1));h+=n.length;const r=t.reedSolomonComputeRemainder(n,d);s<c&&n.push(0),u.push(n.concat(r))}let p=[];for(let t=0;t<u[0].length;t++)u.forEach(((e,n)=>{(t!=l-o||n>=c)&&p.push(e[t])}));return s(p.length==a),p}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let r=0;r<this.size;r++)for(let s=0;s<2;s++){const o=t-s,a=0==(t+1&2)?this.size-1-r:r;!this.isFunction[a][o]&&n<8*e.length&&(this.modules[a][o]=i(e[n>>>3],7-(7&n)),n++)}}s(n==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let s=0;s<this.size;s++){let n=!1,r=0,i=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[s][o]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[s][o],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,i)*t.PENALTY_N3}for(let s=0;s<this.size;s++){let n=!1,r=0,i=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][s]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[o][s],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,i)*t.PENALTY_N3}for(let s=0;s<this.size-1;s++)for(let n=0;n<this.size-1;n++){const r=this.modules[s][n];r==this.modules[s][n+1]&&r==this.modules[s+1][n]&&r==this.modules[s+1][n+1]&&(e+=t.PENALTY_N2)}let n=0;for(const t of this.modules)n=t.reduce(((e,t)=>e+(t?1:0)),n);const r=this.size*this.size,i=Math.ceil(Math.abs(20*n-10*r)/r)-1;return s(0<=i&&i<=9),e+=i*t.PENALTY_N4,s(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return s(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let r=1;for(let i=0;i<e;i++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],r),e+1<n.length&&(n[e]^=n[e+1]);r=t.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(e,n){let r=n.map((e=>0));for(const i of e){const e=i^r.shift();r.push(0),n.forEach(((n,i)=>r[i]^=t.reedSolomonMultiply(n,e)))}return r}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return s(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];s(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};let n=t;function r(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function i(e,t){return 0!=(e>>>t&1)}function s(e){if(!e)throw new Error("Assertion error")}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;const o=class{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(e){let t=[];for(const n of e)r(n,8,t);return new o(o.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!o.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let n=0;n<e.length;){const i=Math.min(e.length-n,3);r(parseInt(e.substr(n,i),10),3*i+1,t),n+=i}return new o(o.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!o.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t,n=[];for(t=0;t+2<=e.length;t+=2){let i=45*o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));i+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),r(i,11,n)}return t<e.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,n),new o(o.Mode.ALPHANUMERIC,e.length,n)}static makeSegments(e){return""==e?[]:o.isNumeric(e)?[o.makeNumeric(e)]:o.isAlphanumeric(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)r(e,8,t);else if(e<16384)r(2,2,t),r(e,14,t);else{if(!(e<1e6))throw new RangeError("ECI assignment value out of range");r(6,3,t),r(e,21,t)}return new o(o.Mode.ECI,0,t)}static isNumeric(e){return o.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return o.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const r of e){const e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;n+=4+e+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}};let a=o;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(r||(r={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};let n=t;n.LOW=new t(0,1),n.MEDIUM=new t(1,0),n.QUARTILE=new t(2,3),n.HIGH=new t(3,2),e.Ecc=n})(t=e.QrCode||(e.QrCode={}))})(r||(r={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};let n=t;n.NUMERIC=new t(1,[10,12,14]),n.ALPHANUMERIC=new t(2,[9,11,13]),n.BYTE=new t(4,[8,16,16]),n.KANJI=new t(8,[8,10,12]),n.ECI=new t(7,[0,0,0]),e.Mode=n})(t=e.QrSegment||(e.QrSegment={}))})(r||(r={}));var h=r,f={L:h.QrCode.Ecc.LOW,M:h.QrCode.Ecc.MEDIUM,Q:h.QrCode.Ecc.QUARTILE,H:h.QrCode.Ecc.HIGH},g={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return e.forEach((function(e,r){let i=null;e.forEach((function(s,o){if(!s&&null!==i)return n.push(`M${i+t} ${r+t}h${o-i}v1H${i+t}z`),void(i=null);if(o!==e.length-1)s&&null===i&&(i=o);else{if(!s)return;null===i?n.push(`M${o+t},${r+t} h1v1H${o+t}z`):n.push(`M${i+t},${r+t} h${o+1-i}v1H${i+t}z`)}}))})),n.join("")}function m(e,t){return e.slice().map(((e,n)=>n<t.y||n>=t.y+t.h?e:e.map(((e,n)=>(n<t.x||n>=t.x+t.w)&&e))))}function b(e,t){const{imageSettings:n,size:r,includeMargin:i}=e;if(null==n)return null;const s=i?4:0,o=t.length+2*s,a=Math.floor(.1*r),c=o/r,l=(n.width||a)*c,u=(n.height||a)*c,d=null==n.x?t.length/2-l/2:n.x*c,p=null==n.y?t.length/2-u/2:n.y*c;let h=null;if(n.excavate){let e=Math.floor(d),t=Math.floor(p);h={x:e,y:t,w:Math.ceil(l+d-e),h:Math.ceil(u+p-t)}}return{x:d,y:p,h:u,w:l,excavation:h}}var v=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}();function w(e){const t=(0,i.useRef)(null),n=(0,i.useRef)(null);function r(){const{value:r,size:i,level:s,bgColor:o,fgColor:a,includeMargin:c}=e;if(null!=t.current){const l=t.current,u=l.getContext("2d");if(!u)return;let d=h.QrCode.encodeText(r,f[s]).getModules();const p=c?4:0,g=d.length+2*p,w=b(e,d),k=n.current,E=null!=w&&null!==k&&k.complete&&0!==k.naturalHeight&&0!==k.naturalWidth;E&&null!=w.excavation&&(d=m(d,w.excavation));const _=window.devicePixelRatio||1;l.height=l.width=i*_;const S=i/g*_;u.scale(S,S),u.fillStyle=o,u.fillRect(0,0,g,g),u.fillStyle=a,v?u.fill(new Path2D(y(d,p))):d.forEach((function(e,t){e.forEach((function(e,n){e&&u.fillRect(n+p,t+p,1,1)}))})),E&&u.drawImage(k,w.x+p,w.y+p,w.w,w.h)}}(0,i.useEffect)((()=>{r()}));const o=e,{value:a,size:c,level:l,bgColor:u,fgColor:g,style:w,includeMargin:k,imageSettings:E}=o,_=p(o,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),S=d({height:c,width:c},w);let C=null,I=null==E?void 0:E.src;return null!=I&&(C=s().createElement("img",{src:I,key:I,style:{display:"none"},onLoad:()=>{r()},ref:n})),s().createElement(s().Fragment,null,s().createElement("canvas",d({style:S,height:c,width:c,ref:t},_)),C)}function k(e){const t=e,{value:n,size:r,level:i,bgColor:o,fgColor:a,includeMargin:c,imageSettings:l}=t,u=p(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let g=h.QrCode.encodeText(n,f[i]).getModules();const v=c?4:0,w=g.length+2*v,k=b(e,g);let E=null;null!=l&&null!=k&&(null!=k.excavation&&(g=m(g,k.excavation)),E=s().createElement("image",{xlinkHref:l.src,height:k.h,width:k.w,x:k.x+v,y:k.y+v,preserveAspectRatio:"none"}));const _=y(g,v);return s().createElement("svg",d({shapeRendering:"crispEdges",height:r,width:r,viewBox:`0 0 ${w} ${w}`},u),s().createElement("path",{fill:o,d:`M0,0 h${w}v${w}H0z`}),s().createElement("path",{fill:a,d:_}),E)}w.defaultProps=g,k.defaultProps=g;var E=e=>{const t=e,{renderAs:n}=t,r=p(t,["renderAs"]);return"svg"===n?s().createElement(k,d({},r)):s().createElement(w,d({},r))};E.defaultProps=d({renderAs:"canvas"},g)},33016:(e,t,n)=>{"use strict";n.d(t,{FP:()=>Kt,Q_:()=>Gt,ZP:()=>Wn});var r=n(92950),i=n.n(r);function s(e){return function(t){return typeof t===e}}var o=s("function"),a=function(e){return"RegExp"===Object.prototype.toString.call(e).slice(8,-1)},c=function(e){return!l(e)&&!function(e){return null===e}(e)&&(o(e)||"object"===typeof e)},l=s("undefined"),u=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function d(e,t){if(e===t)return!0;if(e&&c(e)&&t&&c(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=n;0!==r--;)if(!d(e[r],t[r]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){var n,r,i,s;if(e.size!==t.size)return!1;try{for(var o=u(e.entries()),a=o.next();!a.done;a=o.next()){var c=a.value;if(!t.has(c[0]))return!1}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var l=u(e.entries()),p=l.next();!p.done;p=l.next())if(!d((c=p.value)[1],t.get(c[0])))return!1}catch(f){i={error:f}}finally{try{p&&!p.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){var n,r;if(e.size!==t.size)return!1;try{for(var i=u(e.entries()),s=i.next();!s.done;s=i.next()){var o=s.value;if(!t.has(o[0]))return!1}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e.buffer),r=new DataView(t.buffer),i=e.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}(e,t);if(a(e)&&a(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=n.length;0!==i--;)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(i=n.length;0!==i--;){var s=n[i];if(("_owner"!==s||!e.$$typeof)&&!d(e[s],t[s]))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}var p=["innerHTML","ownerDocument","style","attributes","nodeValue"],h=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],f=["bigint","boolean","null","number","string","symbol","undefined"];function g(e){var t,n=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(n)?"HTMLElement":(t=n,h.includes(t)?n:void 0)}function y(e){return function(t){return g(t)===e}}function m(e){return function(t){return typeof t===e}}function b(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(b.array(e))return"Array";if(b.plainFunction(e))return"Function";var t=g(e);return t||"Object"}b.array=Array.isArray,b.arrayOf=function(e,t){return!(!b.array(e)&&!b.function(t))&&e.every((function(e){return t(e)}))},b.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===g(e)},b.asyncFunction=y("AsyncFunction"),b.bigint=m("bigint"),b.boolean=function(e){return!0===e||!1===e},b.date=y("Date"),b.defined=function(e){return!b.undefined(e)},b.domElement=function(e){return b.object(e)&&!b.plainObject(e)&&1===e.nodeType&&b.string(e.nodeName)&&p.every((function(t){return t in e}))},b.empty=function(e){return b.string(e)&&0===e.length||b.array(e)&&0===e.length||b.object(e)&&!b.map(e)&&!b.set(e)&&0===Object.keys(e).length||b.set(e)&&0===e.size||b.map(e)&&0===e.size},b.error=y("Error"),b.function=m("function"),b.generator=function(e){return b.iterable(e)&&b.function(e.next)&&b.function(e.throw)},b.generatorFunction=y("GeneratorFunction"),b.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},b.iterable=function(e){return!b.nullOrUndefined(e)&&b.function(e[Symbol.iterator])},b.map=y("Map"),b.nan=function(e){return Number.isNaN(e)},b.null=function(e){return null===e},b.nullOrUndefined=function(e){return b.null(e)||b.undefined(e)},b.number=function(e){return m("number")(e)&&!b.nan(e)},b.numericString=function(e){return b.string(e)&&e.length>0&&!Number.isNaN(Number(e))},b.object=function(e){return!b.nullOrUndefined(e)&&(b.function(e)||"object"===typeof e)},b.oneOf=function(e,t){return!!b.array(e)&&e.indexOf(t)>-1},b.plainFunction=y("Function"),b.plainObject=function(e){if("Object"!==g(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},b.primitive=function(e){return b.null(e)||(t=typeof e,f.includes(t));var t},b.promise=y("Promise"),b.propertyOf=function(e,t,n){if(!b.object(e)||!t)return!1;var r=e[t];return b.function(n)?n(r):b.defined(r)},b.regexp=y("RegExp"),b.set=y("Set"),b.string=m("string"),b.symbol=m("symbol"),b.undefined=m("undefined"),b.weakMap=y("WeakMap"),b.weakSet=y("WeakSet");const v=b;function w(e,t,n){var r=n.actual,i=n.key,s=n.previous,o=n.type,a=P(e,i),c=P(t,i),l=[a,c].every(v.number)&&("increased"===o?a<c:a>c);return v.undefined(r)||(l=l&&c===r),v.undefined(s)||(l=l&&a===s),l}function k(e,t,n){var r=n.key,i=n.type,s=n.value,o=P(e,r),a=P(t,r),c="added"===i?o:a,l="added"===i?a:o;return v.nullOrUndefined(s)?[o,a].every(v.array)?!l.every(I(c)):[o,a].every(v.plainObject)?function(e,t){return t.some((function(t){return!e.includes(t)}))}(Object.keys(c),Object.keys(l)):![o,a].every((function(e){return v.primitive(e)&&v.defined(e)}))&&("added"===i?!v.defined(o)&&v.defined(a):v.defined(o)&&!v.defined(a)):v.defined(c)?!(!v.array(c)&&!v.plainObject(c))&&function(e,t,n){return!!x(e,t)&&([e,t].every(v.array)?!e.some(S(n))&&t.some(S(n)):[e,t].every(v.plainObject)?!Object.entries(e).some(_(n))&&Object.entries(t).some(_(n)):t===n)}(c,l,s):d(l,s)}function E(e,t,n){var r=(void 0===n?{}:n).key,i=P(e,r),s=P(t,r);if(!x(i,s))throw new TypeError("Inputs have different types");if(!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return v.string(e)||v.array(e)||v.plainObject(e)}))}(i,s))throw new TypeError("Inputs don't have length");return[i,s].every(v.plainObject)&&(i=Object.keys(i),s=Object.keys(s)),[i,s]}function _(e){return function(t){var n=t[0],r=t[1];return v.array(e)?d(e,r)||e.some((function(e){return d(e,r)||v.array(r)&&I(r)(e)})):v.plainObject(e)&&e[n]?!!e[n]&&d(e[n],r):d(e,r)}}function S(e){return function(t){return v.array(e)?e.some((function(e){return d(e,t)||v.array(t)&&I(t)(e)})):d(e,t)}}function C(e,t){return v.array(e)?e.some((function(e){return d(e,t)})):d(e,t)}function I(e){return function(t){return e.some((function(e){return d(e,t)}))}}function x(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(v.array)||e.every(v.number)||e.every(v.plainObject)||e.every(v.string)}function P(e,t){return v.plainObject(e)||v.array(e)?v.string(t)?t.split(".").reduce((function(e,t){return e&&e[t]}),e):v.number(t)?e[t]:e:e}function A(e,t){if([e,t].some(v.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every((function(e){return v.plainObject(e)||v.array(e)})))throw new Error("Expected plain objects or array");var n=function(n,r,i){try{var s=P(e,n),o=P(t,n),a=v.defined(r),c=v.defined(i);if(a||c){var l=c?C(i,s):!C(r,s),u=C(r,o);return l&&u}return[s,o].every(v.array)||[s,o].every(v.plainObject)?!d(s,o):s!==o}catch(p){return!1}};return{added:function(n,r){try{return k(e,t,{key:n,type:"added",value:r})}catch(i){return!1}},changed:n,changedFrom:function(n,r,i){if(!v.defined(n))return!1;try{var s=P(e,n),o=P(t,n),a=v.defined(i);return C(r,s)&&(a?C(i,o):!a)}catch(c){return!1}},changedTo:function(e,t){return!!v.defined(e)&&n(e,t)},decreased:function(n,r,i){if(!v.defined(n))return!1;try{return w(e,t,{key:n,actual:r,previous:i,type:"decreased"})}catch(s){return!1}},emptied:function(n){try{var r=E(e,t,{key:n}),i=r[0],s=r[1];return!!i.length&&!s.length}catch(o){return!1}},filled:function(n){try{var r=E(e,t,{key:n}),i=r[0],s=r[1];return!i.length&&!!s.length}catch(o){return!1}},increased:function(n,r,i){if(!v.defined(n))return!1;try{return w(e,t,{key:n,actual:r,previous:i,type:"increased"})}catch(s){return!1}},removed:function(n,r){try{return k(e,t,{key:n,type:"removed",value:r})}catch(i){return!1}}}}var R=n(12181),T=n.n(R),O=n(14361),D=n.n(O),M=n(22232),N=n.n(M),j=n(88199),L=n.n(j),B=n(85547),z=n(99693),F=n.n(z),U=n(43091),W=n.n(U),$=n(94701),q="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,H=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(q&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var K=q&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),H))}};function V(e){return e&&"[object Function]"==={}.toString.call(e)}function G(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function X(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Z(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=G(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:Z(X(e))}function Q(e){return e&&e.referenceNode?e.referenceNode:e}var Y=q&&!(!window.MSInputMethodContext||!document.documentMode),J=q&&/MSIE 10/.test(navigator.userAgent);function ee(e){return 11===e?Y:10===e?J:Y||J}function te(e){if(!e)return document.documentElement;for(var t=ee(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===G(n,"position")?te(n):n:e?e.ownerDocument.documentElement:document.documentElement}function ne(e){return null!==e.parentNode?ne(e.parentNode):e}function re(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var o=s.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||te(e.firstElementChild)===e)}(o)?o:te(o);var a=ne(e);return a.host?re(a.host,t):re(e,ne(t).host)}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,s=e.ownerDocument.scrollingElement||i;return s[n]}return e[n]}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ie(t,"top"),i=ie(t,"left"),s=n?-1:1;return e.top+=r*s,e.bottom+=r*s,e.left+=i*s,e.right+=i*s,e}function oe(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function ae(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],ee(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function ce(e){var t=e.body,n=e.documentElement,r=ee(10)&&getComputedStyle(n);return{height:ae("Height",t,n,r),width:ae("Width",t,n,r)}}var le=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),de=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function he(e){return pe({},e,{right:e.left+e.width,bottom:e.top+e.height})}function fe(e){var t={};try{if(ee(10)){t=e.getBoundingClientRect();var n=ie(e,"top"),r=ie(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(d){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?ce(e.ownerDocument):{},o=s.width||e.clientWidth||i.width,a=s.height||e.clientHeight||i.height,c=e.offsetWidth-o,l=e.offsetHeight-a;if(c||l){var u=G(e);c-=oe(u,"x"),l-=oe(u,"y"),i.width-=c,i.height-=l}return he(i)}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ee(10),i="HTML"===t.nodeName,s=fe(e),o=fe(t),a=Z(e),c=G(t),l=parseFloat(c.borderTopWidth),u=parseFloat(c.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var d=he({top:s.top-o.top-l,left:s.left-o.left-u,width:s.width,height:s.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var p=parseFloat(c.marginTop),h=parseFloat(c.marginLeft);d.top-=l-p,d.bottom-=l-p,d.left-=u-h,d.right-=u-h,d.marginTop=p,d.marginLeft=h}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(d=se(d,t)),d}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=ge(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:ie(n),a=t?0:ie(n,"left"),c={top:o-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:s};return he(c)}function me(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===G(e,"position"))return!0;var n=X(e);return!!n&&me(n)}function be(e){if(!e||!e.parentElement||ee())return document.documentElement;for(var t=e.parentElement;t&&"none"===G(t,"transform");)t=t.parentElement;return t||document.documentElement}function ve(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},o=i?be(e):re(e,Q(t));if("viewport"===r)s=ye(o,i);else{var a=void 0;"scrollParent"===r?"BODY"===(a=Z(X(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===r?e.ownerDocument.documentElement:r;var c=ge(a,o,i);if("HTML"!==a.nodeName||me(o))s=c;else{var l=ce(e.ownerDocument),u=l.height,d=l.width;s.top+=c.top-c.marginTop,s.bottom=u+c.top,s.left+=c.left-c.marginLeft,s.right=d+c.left}}var p="number"===typeof(n=n||0);return s.left+=p?n:n.left||0,s.top+=p?n:n.top||0,s.right-=p?n:n.right||0,s.bottom-=p?n:n.bottom||0,s}function we(e){return e.width*e.height}function ke(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=ve(n,r,s,i),a={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},c=Object.keys(a).map((function(e){return pe({key:e},a[e],{area:we(a[e])})})).sort((function(e,t){return t.area-e.area})),l=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=l.length>0?l[0].key:c[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function Ee(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?be(t):re(t,Q(n));return ge(n,i,r)}function _e(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function Se(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function Ce(e,t,n){n=n.split("-")[0];var r=_e(e),i={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(n),o=s?"top":"left",a=s?"left":"top",c=s?"height":"width",l=s?"width":"height";return i[o]=t[o]+t[c]/2-r[c]/2,i[a]=n===a?t[a]-r[l]:t[Se(a)],i}function Ie(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function xe(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=Ie(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&V(n)&&(t.offsets.popper=he(t.offsets.popper),t.offsets.reference=he(t.offsets.reference),t=n(t,e))})),t}function Pe(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Ee(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=ke(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Ce(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=xe(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Ae(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Re(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],s=i?""+i+n:e;if("undefined"!==typeof document.body.style[s])return s}return null}function Te(){return this.state.isDestroyed=!0,Ae(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Re("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Oe(e){var t=e.ownerDocument;return t?t.defaultView:window}function De(e,t,n,r){var i="BODY"===e.nodeName,s=i?e.ownerDocument.defaultView:e;s.addEventListener(t,n,{passive:!0}),i||De(Z(s.parentNode),t,n,r),r.push(s)}function Me(e,t,n,r){n.updateBound=r,Oe(e).addEventListener("resize",n.updateBound,{passive:!0});var i=Z(e);return De(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Ne(){this.state.eventsEnabled||(this.state=Me(this.reference,this.options,this.state,this.scheduleUpdate))}function je(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Oe(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Le(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Be(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Le(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var ze=q&&/Firefox/i.test(navigator.userAgent);function Fe(e,t,n){var r=Ie(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var s="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}var Ue=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],We=Ue.slice(3);function $e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=We.indexOf(e),r=We.slice(n+1).concat(We.slice(0,n));return t?r.reverse():r}var qe="flip",He="clockwise",Ke="counterclockwise";function Ve(e,t,n,r){var i=[0,0],s=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=o.indexOf(Ie(o,(function(e){return-1!==e.search(/,|\s/)})));o[a]&&-1===o[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==a?[o.slice(0,a).concat([o[a].split(c)[0]]),[o[a].split(c)[1]].concat(o.slice(a+1))]:[o];return l=l.map((function(e,r){var i=(1===r?!s:s)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],o=i[2];if(!s)return e;if(0===o.indexOf("%")){return he("%p"===o?n:r)[t]/100*s}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s;return s}(e,i,t,n)}))})),l.forEach((function(e,t){e.forEach((function(n,r){Le(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var Ge={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,s=i.reference,o=i.popper,a=-1!==["bottom","top"].indexOf(n),c=a?"left":"top",l=a?"width":"height",u={start:de({},c,s[c]),end:de({},c,s[c]+s[l]-o[l])};e.offsets.popper=pe({},o,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,s=i.popper,o=i.reference,a=r.split("-")[0],c=void 0;return c=Le(+n)?[+n,0]:Ve(n,s,o,a),"left"===a?(s.top+=c[0],s.left-=c[1]):"right"===a?(s.top+=c[0],s.left+=c[1]):"top"===a?(s.left+=c[0],s.top-=c[1]):"bottom"===a&&(s.left+=c[0],s.top+=c[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||te(e.instance.popper);e.instance.reference===n&&(n=te(n));var r=Re("transform"),i=e.instance.popper.style,s=i.top,o=i.left,a=i[r];i.top="",i.left="",i[r]="";var c=ve(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=s,i.left=o,i[r]=a,t.boundaries=c;var l=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(u[e],c[e])),de({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(u[n],c[e]-("right"===e?u.width:u.height))),de({},n,r)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=pe({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],s=Math.floor,o=-1!==["top","bottom"].indexOf(i),a=o?"right":"bottom",c=o?"left":"top",l=o?"width":"height";return n[a]<s(r[c])&&(e.offsets.popper[c]=s(r[c])-n[l]),n[c]>s(r[a])&&(e.offsets.popper[c]=s(r[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Fe(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],s=e.offsets,o=s.popper,a=s.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",u=c?"Top":"Left",d=u.toLowerCase(),p=c?"left":"top",h=c?"bottom":"right",f=_e(r)[l];a[h]-f<o[d]&&(e.offsets.popper[d]-=o[d]-(a[h]-f)),a[d]+f>o[h]&&(e.offsets.popper[d]+=a[d]+f-o[h]),e.offsets.popper=he(e.offsets.popper);var g=a[d]+a[l]/2-f/2,y=G(e.instance.popper),m=parseFloat(y["margin"+u]),b=parseFloat(y["border"+u+"Width"]),v=g-e.offsets.popper[d]-m-b;return v=Math.max(Math.min(o[l]-f,v),0),e.arrowElement=r,e.offsets.arrow=(de(n={},d,Math.round(v)),de(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Ae(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=ve(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=Se(r),s=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case qe:o=[r,i];break;case He:o=$e(r);break;case Ke:o=$e(r,!0);break;default:o=t.behavior}return o.forEach((function(a,c){if(r!==a||o.length===c+1)return e;r=e.placement.split("-")[0],i=Se(r);var l=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===r&&d(l.right)>d(u.left)||"right"===r&&d(l.left)<d(u.right)||"top"===r&&d(l.bottom)>d(u.top)||"bottom"===r&&d(l.top)<d(u.bottom),h=d(l.left)<d(n.left),f=d(l.right)>d(n.right),g=d(l.top)<d(n.top),y=d(l.bottom)>d(n.bottom),m="left"===r&&h||"right"===r&&f||"top"===r&&g||"bottom"===r&&y,b=-1!==["top","bottom"].indexOf(r),v=!!t.flipVariations&&(b&&"start"===s&&h||b&&"end"===s&&f||!b&&"start"===s&&g||!b&&"end"===s&&y),w=!!t.flipVariationsByContent&&(b&&"start"===s&&f||b&&"end"===s&&h||!b&&"start"===s&&y||!b&&"end"===s&&g),k=v||w;(p||m||k)&&(e.flipped=!0,(p||m)&&(r=o[c+1]),k&&(s=function(e){return"end"===e?"start":"start"===e?"end":e}(s)),e.placement=r+(s?"-"+s:""),e.offsets.popper=pe({},e.offsets.popper,Ce(e.instance.popper,e.offsets.reference,e.placement)),e=xe(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,s=r.reference,o=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=s[n]-(a?i[o?"width":"height"]:0),e.placement=Se(t),e.offsets.popper=he(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Fe(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Ie(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,s=Ie(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==s?s:t.gpuAcceleration,a=te(e.instance.popper),c=fe(a),l={position:i.position},u=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,s=Math.round,o=Math.floor,a=function(e){return e},c=s(i.width),l=s(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||c%2===l%2?s:o:a,h=t?s:a;return{left:p(c%2===1&&l%2===1&&!d&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!ze),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",h=Re("transform"),f=void 0,g=void 0;if(g="bottom"===d?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-c.height+u.bottom:u.top,f="right"===p?"HTML"===a.nodeName?-a.clientWidth+u.right:-c.width+u.right:u.left,o&&h)l[h]="translate3d("+f+"px, "+g+"px, 0)",l[d]=0,l[p]=0,l.willChange="transform";else{var y="bottom"===d?-1:1,m="right"===p?-1:1;l[d]=g*y,l[p]=f*m,l.willChange=d+", "+p}var b={"x-placement":e.placement};return e.attributes=pe({},b,e.attributes),e.styles=pe({},l,e.styles),e.arrowStyles=pe({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Be(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Be(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var s=Ee(i,t,e,n.positionFixed),o=ke(n.placement,s,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),Be(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Xe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Ge},Ze=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};le(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=K(this.update.bind(this)),this.options=pe({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(pe({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=pe({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return pe({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&V(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return ue(e,[{key:"update",value:function(){return Pe.call(this)}},{key:"destroy",value:function(){return Te.call(this)}},{key:"enableEventListeners",value:function(){return Ne.call(this)}},{key:"disableEventListeners",value:function(){return je.call(this)}}]),e}();Ze.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,Ze.placements=Ue,Ze.Defaults=Xe;const Qe=Ze;function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t,n){return t&&tt(e.prototype,t),n&&tt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ot(e,t)}function st(e){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},st(e)}function ot(e,t){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ot(e,t)}function at(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ct(e)}function ut(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st(e);if(t){var i=st(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lt(this,n)}}var dt={flip:{padding:20},preventOverflow:{padding:10}},pt={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},ht=D().canUseDOM,ft=void 0!==T().createPortal;function gt(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function yt(e){var t=e.title,n=e.data,r=e.warn,i=void 0!==r&&r,s=e.debug,o=void 0!==s&&s,a=i?console.warn||console.error:console.log;o&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){v.plainObject(e)&&e.key?a.apply(console,[e.key,e.value]):a.apply(console,[e])})):a.apply(console,[n]),console.groupEnd())}function mt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,r)}function bt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,r)}function vt(){}var wt=function(e){it(n,e);var t=ut(n);function n(){return et(this,n),t.apply(this,arguments)}return nt(n,[{key:"componentDidMount",value:function(){ht&&(this.node||this.appendNode(),ft||this.renderPortal())}},{key:"componentDidUpdate",value:function(){ht&&(ft||this.renderPortal())}},{key:"componentWillUnmount",value:function(){ht&&this.node&&(ft||T().unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var e=this.props,t=e.id,n=e.zIndex;this.node||(this.node=document.createElement("div"),t&&(this.node.id=t),n&&(this.node.style.zIndex=n),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!ht)return null;var e=this.props,t=e.children,n=e.setRef;return this.node||this.appendNode(),ft?T().createPortal(t,this.node):(n(T().unstable_renderSubtreeIntoContainer(this,t.length>1?i().createElement("div",null,t):t[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,n=e.placement,r=e.target;return t||r||"center"===n?this.renderPortal():null}},{key:"render",value:function(){return ft?this.renderReact16():null}}]),n}(i().Component);rt(wt,"propTypes",{children:W().oneOfType([W().element,W().array]),hasChildren:W().bool,id:W().oneOfType([W().string,W().number]),placement:W().string,setRef:W().func.isRequired,target:W().oneOfType([W().object,W().string]),zIndex:W().number});var kt=function(e){it(n,e);var t=ut(n);function n(){return et(this,n),t.apply(this,arguments)}return nt(n,[{key:"parentStyle",get:function(){var e=this.props,t=e.placement,n=e.styles.arrow.length,r={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(r.bottom=0,r.left=0,r.right=0,r.height=n):t.startsWith("bottom")?(r.left=0,r.right=0,r.top=0,r.height=n):t.startsWith("left")?(r.right=0,r.top=0,r.bottom=0):t.startsWith("right")&&(r.left=0,r.top=0),r}},{key:"render",value:function(){var e,t=this.props,n=t.placement,r=t.setArrowRef,s=t.styles.arrow,o=s.color,a=s.display,c=s.length,l=s.margin,u=s.position,d=s.spread,p={display:a,position:u},h=d,f=c;return n.startsWith("top")?(e="0,0 ".concat(h/2,",").concat(f," ").concat(h,",0"),p.bottom=0,p.marginLeft=l,p.marginRight=l):n.startsWith("bottom")?(e="".concat(h,",").concat(f," ").concat(h/2,",0 0,").concat(f),p.top=0,p.marginLeft=l,p.marginRight=l):n.startsWith("left")?(f=d,e="0,0 ".concat(h=c,",").concat(f/2," 0,").concat(f),p.right=0,p.marginTop=l,p.marginBottom=l):n.startsWith("right")&&(f=d,e="".concat(h=c,",").concat(f," ").concat(h,",0 0,").concat(f/2),p.left=0,p.marginTop=l,p.marginBottom=l),i().createElement("div",{className:"__floater__arrow",style:this.parentStyle},i().createElement("span",{ref:r,style:p},i().createElement("svg",{width:h,height:f,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i().createElement("polygon",{points:e,fill:o}))))}}]),n}(i().Component);rt(kt,"propTypes",{placement:W().string.isRequired,setArrowRef:W().func.isRequired,styles:W().object.isRequired});var Et=["color","height","width"],_t=function(e){var t=e.handleClick,n=e.styles,r=n.color,s=n.height,o=n.width,a=at(n,Et);return i().createElement("button",{"aria-label":"close",onClick:t,style:a,type:"button"},i().createElement("svg",{width:"".concat(o,"px"),height:"".concat(s,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},i().createElement("g",null,i().createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))};_t.propTypes={handleClick:W().func.isRequired,styles:W().object.isRequired};var St=function(e){var t=e.content,n=e.footer,r=e.handleClick,s=e.open,o=e.positionWrapper,a=e.showCloseButton,c=e.title,l=e.styles,u={content:i().isValidElement(t)?t:i().createElement("div",{className:"__floater__content",style:l.content},t)};return c&&(u.title=i().isValidElement(c)?c:i().createElement("div",{className:"__floater__title",style:l.title},c)),n&&(u.footer=i().isValidElement(n)?n:i().createElement("div",{className:"__floater__footer",style:l.footer},n)),!a&&!o||v.boolean(s)||(u.close=i().createElement(_t,{styles:l.close,handleClick:r})),i().createElement("div",{className:"__floater__container",style:l.container},u.close,u.title,u.content,u.footer)};St.propTypes={content:W().node.isRequired,footer:W().node,handleClick:W().func.isRequired,open:W().bool,positionWrapper:W().bool.isRequired,showCloseButton:W().bool.isRequired,styles:W().object.isRequired,title:W().node};var Ct=function(e){it(n,e);var t=ut(n);function n(){return et(this,n),t.apply(this,arguments)}return nt(n,[{key:"style",get:function(){var e=this.props,t=e.disableAnimation,n=e.component,r=e.placement,i=e.hideArrow,s=e.status,o=e.styles,a=o.arrow.length,c=o.floater,l=o.floaterCentered,u=o.floaterClosing,d=o.floaterOpening,p=o.floaterWithAnimation,h=o.floaterWithComponent,f={};return i||(r.startsWith("top")?f.padding="0 0 ".concat(a,"px"):r.startsWith("bottom")?f.padding="".concat(a,"px 0 0"):r.startsWith("left")?f.padding="0 ".concat(a,"px 0 0"):r.startsWith("right")&&(f.padding="0 0 0 ".concat(a,"px"))),-1!==[pt.OPENING,pt.OPEN].indexOf(s)&&(f=Je(Je({},f),d)),s===pt.CLOSING&&(f=Je(Je({},f),u)),s!==pt.OPEN||t||(f=Je(Je({},f),p)),"center"===r&&(f=Je(Je({},f),l)),n&&(f=Je(Je({},f),h)),Je(Je({},c),f)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.handleClick,r=e.hideArrow,s=e.setFloaterRef,o=e.status,a={},c=["__floater"];return a.content=t?i().isValidElement(t)?i().cloneElement(t,{closeFn:n}):t({closeFn:n}):i().createElement(St,this.props),o===pt.OPEN&&c.push("__floater__open"),r||(a.arrow=i().createElement(kt,this.props)),i().createElement("div",{ref:s,className:c.join(" "),style:this.style},i().createElement("div",{className:"__floater__body"},a.content,a.arrow))}}]),n}(i().Component);rt(Ct,"propTypes",{component:W().oneOfType([W().func,W().element]),content:W().node,disableAnimation:W().bool.isRequired,footer:W().node,handleClick:W().func.isRequired,hideArrow:W().bool.isRequired,open:W().bool,placement:W().string.isRequired,positionWrapper:W().bool.isRequired,setArrowRef:W().func.isRequired,setFloaterRef:W().func.isRequired,showCloseButton:W().bool,status:W().string.isRequired,styles:W().object.isRequired,title:W().node});var It=function(e){it(n,e);var t=ut(n);function n(){return et(this,n),t.apply(this,arguments)}return nt(n,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.handleClick,s=t.handleMouseEnter,o=t.handleMouseLeave,a=t.setChildRef,c=t.setWrapperRef,l=t.style,u=t.styles;if(n)if(1===i().Children.count(n))if(i().isValidElement(n)){var d=v.function(n.type)?"innerRef":"ref";e=i().cloneElement(i().Children.only(n),rt({},d,a))}else e=i().createElement("span",null,n);else e=n;return e?i().createElement("span",{ref:c,style:Je(Je({},u),l),onClick:r,onMouseEnter:s,onMouseLeave:o},e):null}}]),n}(i().Component);rt(It,"propTypes",{children:W().node,handleClick:W().func.isRequired,handleMouseEnter:W().func.isRequired,handleMouseLeave:W().func.isRequired,setChildRef:W().func.isRequired,setWrapperRef:W().func.isRequired,style:W().object,styles:W().object.isRequired});var xt={zIndex:100};var Pt=["arrow","flip","offset"],At=["position","top","right","bottom","left"],Rt=function(e){it(r,e);var t=ut(r);function r(e){var n;return et(this,r),rt(ct(n=t.call(this,e)),"setArrowRef",(function(e){n.arrowRef=e})),rt(ct(n),"setChildRef",(function(e){n.childRef=e})),rt(ct(n),"setFloaterRef",(function(e){n.floaterRef=e})),rt(ct(n),"setWrapperRef",(function(e){n.wrapperRef=e})),rt(ct(n),"handleTransitionEnd",(function(){var e=n.state.status,t=n.props.callback;n.wrapperPopper&&n.wrapperPopper.instance.update(),n.setState({status:e===pt.OPENING?pt.OPEN:pt.IDLE},(function(){var e=n.state.status;t(e===pt.OPEN?"open":"close",n.props)}))})),rt(ct(n),"handleClick",(function(){var e=n.props,t=e.event,r=e.open;if(!v.boolean(r)){var i=n.state,s=i.positionWrapper,o=i.status;("click"===n.event||"hover"===n.event&&s)&&(yt({title:"click",data:[{event:t,status:o===pt.OPEN?"closing":"opening"}],debug:n.debug}),n.toggle())}})),rt(ct(n),"handleMouseEnter",(function(){var e=n.props,t=e.event,r=e.open;if(!v.boolean(r)&&!gt()){var i=n.state.status;"hover"===n.event&&i===pt.IDLE&&(yt({title:"mouseEnter",data:[{key:"originalEvent",value:t}],debug:n.debug}),clearTimeout(n.eventDelayTimeout),n.toggle())}})),rt(ct(n),"handleMouseLeave",(function(){var e=n.props,t=e.event,r=e.eventDelay,i=e.open;if(!v.boolean(i)&&!gt()){var s=n.state,o=s.status,a=s.positionWrapper;"hover"===n.event&&(yt({title:"mouseLeave",data:[{key:"originalEvent",value:t}],debug:n.debug}),r?-1===[pt.OPENING,pt.OPEN].indexOf(o)||a||n.eventDelayTimeout||(n.eventDelayTimeout=setTimeout((function(){delete n.eventDelayTimeout,n.toggle()}),1e3*r)):n.toggle(pt.IDLE))}})),n.state={currentPlacement:e.placement,needsUpdate:!1,positionWrapper:e.wrapperOptions.position&&!!e.target,status:pt.INIT,statusWrapper:pt.INIT},n._isMounted=!1,n.hasMounted=!1,ht&&window.addEventListener("load",(function(){n.popper&&n.popper.instance.update(),n.wrapperPopper&&n.wrapperPopper.instance.update()})),n}return nt(r,[{key:"componentDidMount",value:function(){if(ht){var e=this.state.positionWrapper,t=this.props,n=t.children,r=t.open,i=t.target;this._isMounted=!0,yt({title:"init",data:{hasChildren:!!n,hasTarget:!!i,isControlled:v.boolean(r),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!n&&i&&v.boolean(r)}}},{key:"componentDidUpdate",value:function(e,t){if(ht){var n,r=this.props,i=r.autoOpen,s=r.open,o=r.target,a=r.wrapperOptions,c=A(t,this.state),l=c.changedFrom,u=c.changed;if(e.open!==s)v.boolean(s)&&(n=s?pt.OPENING:pt.CLOSING),this.toggle(n);e.wrapperOptions.position===a.position&&e.target===o||this.changeWrapperPosition(this.props),(u("status",pt.IDLE)&&s||l("status",pt.INIT,pt.IDLE)&&i)&&this.toggle(pt.OPEN),this.popper&&u("status",pt.OPENING)&&this.popper.instance.update(),this.floaterRef&&(u("status",pt.OPENING)||u("status",pt.CLOSING))&&function(e,t,n){var r;mt(e,t,r=function(i){n(i),bt(e,t,r)},arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(this.floaterRef,"transitionend",this.handleTransitionEnd),u("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){ht&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,n=this.state.positionWrapper,r=this.props,i=r.disableFlip,s=r.getPopper,o=r.hideArrow,a=r.offset,c=r.placement,l=r.wrapperOptions,u="top"===c||"bottom"===c?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===c)this.setState({status:pt.IDLE});else if(t&&this.floaterRef){var d=this.options,p=d.arrow,h=d.flip,f=d.offset,g=at(d,Pt);new Qe(t,this.floaterRef,{placement:c,modifiers:Je({arrow:Je({enabled:!o,element:this.arrowRef},p),flip:Je({enabled:!i,behavior:u},h),offset:Je({offset:"0, ".concat(a,"px")},f)},g),onCreate:function(t){e.popper=t,e.floaterRef.isConnected?(s(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:pt.IDLE}),c!==t.placement&&setTimeout((function(){t.instance.update()}),1)):e.setState({needsUpdate:!0})},onUpdate:function(t){e.popper=t;var n=e.state.currentPlacement;e._isMounted&&t.placement!==n&&e.setState({currentPlacement:t.placement})}})}if(n){var y=v.undefined(l.offset)?0:l.offset;new Qe(this.target,this.wrapperRef,{placement:l.placement||c,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(y,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:pt.IDLE}),s(t,"wrapper"),c!==t.placement&&setTimeout((function(){t.instance.update()}),1)}})}}},{key:"rebuildPopper",value:function(){var e=this;this.floaterRefInterval=setInterval((function(){e.floaterRef.isConnected&&(clearInterval(e.floaterRefInterval),e.setState({needsUpdate:!1}),e.initPopper())}),50)}},{key:"changeWrapperPosition",value:function(e){var t=e.target,n=e.wrapperOptions;this.setState({positionWrapper:n.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===pt.OPEN?pt.CLOSING:pt.OPENING;v.undefined(e)||(t=e),this.setState({status:t})}},{key:"debug",get:function(){return this.props.debug||!!n.g.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,n=e.event;return"hover"===n&&gt()&&!t?"click":n}},{key:"options",get:function(){var e=this.props.options;return F()(dt,e||{})}},{key:"styles",get:function(){var e,t=this,n=this.state,r=n.status,i=n.positionWrapper,s=n.statusWrapper,o=this.props.styles,a=F()(function(e){var t=F()(xt,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(o),o);i&&(e=-1===[pt.IDLE].indexOf(r)||-1===[pt.IDLE].indexOf(s)?a.wrapperPosition:this.wrapperPopper.styles,a.wrapper=Je(Je({},a.wrapper),e));if(this.target){var c=window.getComputedStyle(this.target);this.wrapperStyles?a.wrapper=Je(Je({},a.wrapper),this.wrapperStyles):-1===["relative","static"].indexOf(c.position)&&(this.wrapperStyles={},i||(At.forEach((function(e){t.wrapperStyles[e]=c[e]})),a.wrapper=Je(Je({},a.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return a}},{key:"target",get:function(){if(!ht)return null;var e=this.props.target;return e?v.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}},{key:"render",value:function(){var e=this.state,t=e.currentPlacement,n=e.positionWrapper,r=e.status,s=this.props,o=s.children,a=s.component,c=s.content,l=s.disableAnimation,u=s.footer,d=s.hideArrow,p=s.id,h=s.open,f=s.showCloseButton,g=s.style,y=s.target,m=s.title,b=i().createElement(It,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:g,styles:this.styles.wrapper},o),v={};return n?v.wrapperInPortal=b:v.wrapperAsChildren=b,i().createElement("span",null,i().createElement(wt,{hasChildren:!!o,id:p,placement:t,setRef:this.setFloaterRef,target:y,zIndex:this.styles.options.zIndex},i().createElement(Ct,{component:a,content:c,disableAnimation:l,footer:u,handleClick:this.handleClick,hideArrow:d||"center"===t,open:h,placement:t,positionWrapper:n,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:f,status:r,styles:this.styles,title:m}),v.wrapperInPortal),v.wrapperAsChildren)}}]),r}(i().Component);function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t,n){return t&&Mt(e.prototype,t),n&&Mt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(){return Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lt.apply(this,arguments)}function Bt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ft(e,t)}function zt(e){return zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zt(e)}function Ft(e,t){return Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ft(e,t)}function Ut(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wt(e)}function qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zt(e);if(t){var i=zt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}rt(Rt,"propTypes",{autoOpen:W().bool,callback:W().func,children:W().node,component:(0,$.Z)(W().oneOfType([W().func,W().element]),(function(e){return!e.content})),content:(0,$.Z)(W().node,(function(e){return!e.component})),debug:W().bool,disableAnimation:W().bool,disableFlip:W().bool,disableHoverToClick:W().bool,event:W().oneOf(["hover","click"]),eventDelay:W().number,footer:W().node,getPopper:W().func,hideArrow:W().bool,id:W().oneOfType([W().string,W().number]),offset:W().number,open:W().bool,options:W().object,placement:W().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:W().bool,style:W().object,styles:W().object,target:W().oneOfType([W().object,W().string]),title:W().node,wrapperOptions:W().shape({offset:W().number,placement:W().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:W().bool})}),rt(Rt,"defaultProps",{autoOpen:!1,callback:vt,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:vt,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var Ht={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Kt={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found",ERROR:"error"},Vt={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Gt={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished",ERROR:"error"},Xt=D().canUseDOM,Zt=void 0!==R.createPortal;function Qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=e;return"undefined"===typeof window?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":Boolean(window.opera)||e.indexOf(" OPR/")>=0?t="opera":"undefined"!==typeof window.InstallTrigger?t="firefox":window.chrome?t="chrome":/(Version\/([0-9._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function Yt(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function Jt(e){var t=[];return function e(n){if("string"===typeof n||"number"===typeof n)t.push(n);else if(Array.isArray(n))n.forEach((function(t){return e(t)}));else if(n&&n.props){var r=n.props.children;Array.isArray(r)?r.forEach((function(t){return e(t)})):e(r)}}(e),t.join(" ").trim()}function en(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tn(e,t){return!(!v.plainObject(e)||!v.array(t))&&Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}function nn(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function rn(e){return e.disableBeacon||"center"===e.placement}function sn(e,t){var n,i=(0,r.isValidElement)(e)||(0,r.isValidElement)(t),s=v.undefined(e)||v.undefined(t);if(Yt(e)!==Yt(t)||i||s)return!1;if(v.domElement(e))return e.isSameNode(t);if(v.number(e))return e===t;if(v.function(e))return e.toString()===t.toString();for(var o in e)if(en(e,o)){if("undefined"===typeof e[o]||"undefined"===typeof t[o])return!1;if(n=Yt(e[o]),-1!==["object","array"].indexOf(n)&&sn(e[o],t[o]))continue;if("function"===n&&sn(e[o],t[o]))continue;if(e[o]!==t[o])return!1}for(var a in t)if(en(t,a)&&"undefined"===typeof e[a])return!1;return!0}function on(){return!(-1!==["chrome","safari","firefox","opera"].indexOf(Qt()))}function an(e){var t=e.title,n=e.data,r=e.warn,i=void 0!==r&&r,s=e.debug,o=void 0!==s&&s,a=i?console.warn||console.error:console.log;o&&(t&&n?(console.groupCollapsed("%creact-joyride: ".concat(t),"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){v.plainObject(e)&&e.key?a.apply(console,[e.key,e.value]):a.apply(console,[e])})):a.apply(console,[n]),console.groupEnd()):console.error("Missing title or data props"))}var cn={action:"",controlled:!1,index:0,lifecycle:Vt.INIT,size:0,status:Gt.IDLE},ln=["action","index","lifecycle","status"];function un(e){var t=new Map,n=new Map,r=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.continuous,s=void 0!==i&&i,o=r.stepIndex,a=r.steps,c=void 0===a?[]:a;Dt(this,e),jt(this,"listener",void 0),jt(this,"setSteps",(function(e){var r=t.getState(),i=r.size,s=r.status,o={size:e.length,status:s};n.set("steps",e),s===Gt.WAITING&&!i&&e.length&&(o.status=Gt.RUNNING),t.setState(o)})),jt(this,"addListener",(function(e){t.listener=e})),jt(this,"update",(function(e){if(!tn(e,ln))throw new Error("State is not valid. Valid keys: ".concat(ln.join(", ")));t.setState(Ot({},t.getNextState(Ot(Ot(Ot({},t.getState()),e),{},{action:e.action||Ht.UPDATE}),!0)))})),jt(this,"start",(function(e){var n=t.getState(),r=n.index,i=n.size;t.setState(Ot(Ot({},t.getNextState({action:Ht.START,index:v.number(e)?e:r},!0)),{},{status:i?Gt.RUNNING:Gt.WAITING}))})),jt(this,"stop",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getState(),r=n.index,i=n.status;-1===[Gt.FINISHED,Gt.SKIPPED].indexOf(i)&&t.setState(Ot(Ot({},t.getNextState({action:Ht.STOP,index:r+(e?1:0)})),{},{status:Gt.PAUSED}))})),jt(this,"close",(function(){var e=t.getState(),n=e.index;e.status===Gt.RUNNING&&t.setState(Ot({},t.getNextState({action:Ht.CLOSE,index:n+1})))})),jt(this,"go",(function(e){var n=t.getState(),r=n.controlled,i=n.status;if(!r&&i===Gt.RUNNING){var s=t.getSteps()[e];t.setState(Ot(Ot({},t.getNextState({action:Ht.GO,index:e})),{},{status:s?i:Gt.FINISHED}))}})),jt(this,"info",(function(){return t.getState()})),jt(this,"next",(function(){var e=t.getState(),n=e.index;e.status===Gt.RUNNING&&t.setState(t.getNextState({action:Ht.NEXT,index:n+1}))})),jt(this,"open",(function(){t.getState().status===Gt.RUNNING&&t.setState(Ot({},t.getNextState({action:Ht.UPDATE,lifecycle:Vt.TOOLTIP})))})),jt(this,"prev",(function(){var e=t.getState(),n=e.index;e.status===Gt.RUNNING&&t.setState(Ot({},t.getNextState({action:Ht.PREV,index:n-1})))})),jt(this,"reset",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getState(),r=n.controlled;r||t.setState(Ot(Ot({},t.getNextState({action:Ht.RESET,index:0})),{},{status:e?Gt.RUNNING:Gt.READY}))})),jt(this,"skip",(function(){t.getState().status===Gt.RUNNING&&t.setState({action:Ht.SKIP,lifecycle:Vt.INIT,status:Gt.SKIPPED})})),this.setState({action:Ht.INIT,controlled:v.number(o),continuous:s,index:v.number(o)?o:0,lifecycle:Vt.INIT,status:c.length?Gt.READY:Gt.IDLE},!0),this.setSteps(c)}return Nt(e,[{key:"setState",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getState(),i=Ot(Ot({},r),e),s=i.action,o=i.index,a=i.lifecycle,c=i.size,l=i.status;t.set("action",s),t.set("index",o),t.set("lifecycle",a),t.set("size",c),t.set("status",l),n&&(t.set("controlled",e.controlled),t.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(r)&&this.listener(this.getState())}},{key:"getState",value:function(){return t.size?{action:t.get("action")||"",controlled:t.get("controlled")||!1,index:parseInt(t.get("index"),10),lifecycle:t.get("lifecycle")||"",size:t.get("size")||0,status:t.get("status")||""}:Ot({},cn)}},{key:"getNextState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getState(),r=n.action,i=n.controlled,s=n.index,o=n.size,a=n.status,c=v.number(e.index)?e.index:s,l=i&&!t?s:Math.min(Math.max(c,0),o);return{action:e.action||r,controlled:i,index:l,lifecycle:e.lifecycle||Vt.INIT,size:e.size||o,status:l===o?Gt.FINISHED:e.status||a}}},{key:"hasUpdatedState",value:function(e){return JSON.stringify(e)!==JSON.stringify(this.getState())}},{key:"getSteps",value:function(){var e=n.get("steps");return Array.isArray(e)?e:[]}},{key:"getHelpers",value:function(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}}]),e}();return new r(e)}function dn(){return document.scrollingElement||document.createElement("body")}function pn(e){return e?e.getBoundingClientRect():{}}function hn(){var e=document,t=e.body,n=e.documentElement;return t&&n?Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight):0}function fn(e){return"string"===typeof e?document.querySelector(e):e}function gn(e){return e&&1===e.nodeType?getComputedStyle(e):{}}function yn(e,t,n){var r=L()(e);return r.isSameNode(dn())?n?document:dn():r.scrollHeight>r.offsetHeight||t?r:(r.style.overflow="initial",dn())}function mn(e,t){return!!e&&!yn(e,t).isSameNode(dn())}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fixed";if(!e||!(e instanceof HTMLElement))return!1;var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&(gn(e).position===t||bn(e.parentNode,t))}function vn(e){return e instanceof HTMLElement?e.offsetParent instanceof HTMLElement?vn(e.offsetParent)+e.offsetTop:e.offsetTop:0}function wn(e,t,n){if(!e)return 0;var r=L()(e),i=vn(e);return mn(e,n)&&!function(e){return e.offsetParent!==document.body}(e)&&(i-=vn(r)),Math.floor(i-t)}!function(e){function t(t,n,r,i,s,o){var a=i||"<<anonymous>>",c=o||r;if(null==n[r])return t?new Error("Required ".concat(s," `").concat(c,"` was not specified in `").concat(a,"`.")):null;for(var l=arguments.length,u=new Array(l>6?l-6:0),d=6;d<l;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,a,s,c].concat(u))}var n=t.bind(null,!1);n.isRequired=t.bind(null,!0)}((function(e,t,n,r,s){var o=e[t],a=o;if(!i().isValidElement(o)&&(0,B.isValidElementType)(o)){var c={ref:function(){},step:{}};a=i().createElement(a,c)}if(v.string(o)||v.number(o)||!(0,B.isValidElementType)(o)||-1===[B.Element,B.ForwardRef].indexOf((0,B.typeOf)(a)))return new Error("Invalid ".concat(r," `").concat(s,"` supplied to `").concat(n,"`. Expected a React class or forwardRef."))}));var kn={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",zIndex:100},En={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},_n={borderRadius:4,position:"absolute"};var Sn={floaterProps:{options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},locale:{back:"Back",close:"Close",last:"Last",next:"Next",open:"Open the dialog",skip:"Skip"},step:{event:"click",placement:"bottom",offset:10}};function Cn(e){var t=["beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent"];return Object.keys(e).filter((function(e){return-1!==t.indexOf(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}function In(e,t){if(!e)return null;var n=F().all([Cn(t),Sn.step,e],{isMergeableObject:v.plainObject}),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=F()(kn,e.options||{}),n=290;window.innerWidth>480&&(n=380),t.width&&(n=window.innerWidth<t.width?window.innerWidth-30:t.width);var r={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:t.zIndex},i={beacon:Ot(Ot({},En),{},{display:"inline-block",height:t.beaconSize,position:"relative",width:t.beaconSize,zIndex:t.zIndex}),beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:t.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:"rgba(".concat(nn(t.primaryColor).join(","),", 0.2)"),border:"2px solid ".concat(t.primaryColor),borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:t.backgroundColor,borderRadius:5,boxSizing:"border-box",color:t.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:n},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:Ot(Ot({},En),{},{backgroundColor:t.primaryColor,borderRadius:4,color:"#fff"}),buttonBack:Ot(Ot({},En),{},{color:t.primaryColor,marginLeft:"auto",marginRight:5}),buttonClose:Ot(Ot({},En),{},{color:t.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14}),buttonSkip:Ot(Ot({},En),{},{color:t.textColor,fontSize:14}),overlay:Ot(Ot({},r),{},{backgroundColor:t.overlayColor,mixBlendMode:"hard-light"}),overlayLegacy:Ot({},r),overlayLegacyCenter:Ot(Ot({},r),{},{backgroundColor:t.overlayColor}),spotlight:Ot(Ot({},_n),{},{backgroundColor:"gray"}),spotlightLegacy:Ot(Ot({},_n),{},{boxShadow:"0 0 0 9999px ".concat(t.overlayColor,", ").concat(t.spotlightShadow)}),floaterStyles:{arrow:{color:t.arrowColor},options:{zIndex:t.zIndex}},options:t};return F()(i,e)}(F()(t.styles||{},e.styles||{})),i=mn(fn(e.target),n.disableScrollParentFix),s=F().all([t.floaterProps||{},Sn.floaterProps,n.floaterProps||{}]);return s.offset=n.offset,s.styles=F()(s.styles||{},r.floaterStyles||{}),delete r.floaterStyles,s.offset+=t.spotlightPadding||e.spotlightPadding||0,e.placementBeacon&&(s.wrapperOptions.placement=e.placementBeacon),i&&(s.options.preventOverflow.boundariesElement="window"),Ot(Ot({},n),{},{locale:F().all([Sn.locale,t.locale||{},n.locale||{}]),floaterProps:s,styles:r})}function xn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v.plainObject(e)?!!e.target||(an({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(an({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v.array(e)?e.every((function(e){return xn(e,t)})):(an({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var An=Nt((function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Dt(this,e),jt(this,"element",void 0),jt(this,"options",void 0),jt(this,"canBeTabbed",(function(e){var t=e.tabIndex;return(null===t||t<0)&&(t=void 0),!isNaN(t)&&n.canHaveFocus(e)})),jt(this,"canHaveFocus",(function(e){var t=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(t)&&!e.getAttribute("disabled")||"a"===t&&!!e.getAttribute("href"))&&n.isVisible(e)})),jt(this,"findValidTabElements",(function(){return[].slice.call(n.element.querySelectorAll("*"),0).filter(n.canBeTabbed)})),jt(this,"handleKeyDown",(function(e){var t=n.options.keyCode,r=void 0===t?9:t;e.keyCode===r&&n.interceptTab(e)})),jt(this,"interceptTab",(function(e){var t=n.findValidTabElements();if(t.length){e.preventDefault();var r=e.shiftKey,i=t.indexOf(document.activeElement);-1===i||!r&&i+1===t.length?i=0:r&&0===i?i=t.length-1:i+=r?-1:1,t[i].focus()}})),jt(this,"isHidden",(function(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0,n=window.getComputedStyle(e);return!(!t||e.innerHTML)||(t&&"visible"!==n.getPropertyValue("overflow")||"none"===n.getPropertyValue("display"))})),jt(this,"isVisible",(function(e){for(var t=e;t;)if(t instanceof HTMLElement){if(t===document.body)break;if(n.isHidden(t))return!1;t=t.parentNode}return!0})),jt(this,"removeScope",(function(){window.removeEventListener("keydown",n.handleKeyDown)})),jt(this,"checkFocus",(function(e){document.activeElement!==e&&(e.focus(),window.requestAnimationFrame((function(){return n.checkFocus(e)})))})),jt(this,"setFocus",(function(){var e=n.options.selector;if(e){var t=n.element.querySelector(e);t&&window.requestAnimationFrame((function(){return n.checkFocus(t)}))}})),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=r,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()})),Rn=function(e){Bt(n,e);var t=qt(n);function n(e){var r;if(Dt(this,n),jt(Wt(r=t.call(this,e)),"setBeaconRef",(function(e){r.beacon=e})),!e.beaconComponent){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",s.id="joyride-beacon-animation",void 0!==e.nonce&&s.setAttribute("nonce",e.nonce),s.appendChild(document.createTextNode("\n        @keyframes joyride-beacon-inner {\n          20% {\n            opacity: 0.9;\n          }\n        \n          90% {\n            opacity: 0.7;\n          }\n        }\n        \n        @keyframes joyride-beacon-outer {\n          0% {\n            transform: scale(1);\n          }\n        \n          45% {\n            opacity: 0.7;\n            transform: scale(0.75);\n          }\n        \n          100% {\n            opacity: 0.9;\n            transform: scale(1);\n          }\n        }\n      ")),i.appendChild(s)}return r}return Nt(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.shouldFocus;setTimeout((function(){v.domElement(e.beacon)&&t&&e.beacon.focus()}),0)}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("joyride-beacon-animation");e&&e.parentNode.removeChild(e)}},{key:"render",value:function(){var e,t=this.props,n=t.beaconComponent,r=t.locale,s=t.onClickOrHover,o=t.styles,a={"aria-label":r.open,onClick:s,onMouseEnter:s,ref:this.setBeaconRef,title:r.open};if(n){var c=n;e=i().createElement(c,a)}else e=i().createElement("button",Lt({key:"JoyrideBeacon",className:"react-joyride__beacon",style:o.beacon,type:"button"},a),i().createElement("span",{style:o.beaconInner}),i().createElement("span",{style:o.beaconOuter}));return e}}]),n}(i().Component),Tn=function(e){var t=e.styles;return i().createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight",style:t})},On=["mixBlendMode","zIndex"],Dn=function(e){Bt(n,e);var t=qt(n);function n(){var e;Dt(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return jt(Wt(e=t.call.apply(t,[this].concat(i))),"_isMounted",!1),jt(Wt(e),"state",{mouseOverSpotlight:!1,isScrolling:!1,showSpotlight:!0}),jt(Wt(e),"handleMouseMove",(function(t){var n=e.state.mouseOverSpotlight,r=e.spotlightStyles,i=r.height,s=r.left,o=r.position,a=r.top,c=r.width,l="fixed"===o?t.clientY:t.pageY,u="fixed"===o?t.clientX:t.pageX,d=u>=s&&u<=s+c&&(l>=a&&l<=a+i);d!==n&&e.updateState({mouseOverSpotlight:d})})),jt(Wt(e),"handleScroll",(function(){var t=fn(e.props.target);e.scrollParent!==document?(e.state.isScrolling||e.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout((function(){e.updateState({isScrolling:!1,showSpotlight:!0})}),50)):bn(t,"sticky")&&e.updateState({})})),jt(Wt(e),"handleResize",(function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){e._isMounted&&e.forceUpdate()}),100)})),e}return Nt(n,[{key:"componentDidMount",value:function(){var e=this.props;e.debug,e.disableScrolling;var t=e.disableScrollParentFix,n=fn(e.target);this.scrollParent=yn(n,t,!0),this._isMounted=!0,window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.lifecycle,i=n.spotlightClicks,s=A(e,this.props).changed;s("lifecycle",Vt.TOOLTIP)&&(this.scrollParent.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout((function(){t.state.isScrolling||t.updateState({showSpotlight:!0})}),100)),(s("spotlightClicks")||s("disableOverlay")||s("lifecycle"))&&(i&&r===Vt.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Vt.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),this.scrollParent.removeEventListener("scroll",this.handleScroll)}},{key:"spotlightStyles",get:function(){var e=this.state.showSpotlight,t=this.props,n=t.disableScrollParentFix,r=t.spotlightClicks,i=t.spotlightPadding,s=t.styles,o=fn(t.target),a=pn(o),c=bn(o),l=function(e,t,n){var r=pn(e),i=yn(e,n),s=mn(e,n),o=0;i instanceof HTMLElement&&(o=i.scrollTop);var a=r.top+(s||bn(e)?0:o);return Math.floor(a-t)}(o,i,n);return Ot(Ot({},on()?s.spotlightLegacy:s.spotlight),{},{height:Math.round(a.height+2*i),left:Math.round(a.left-i),opacity:e?1:0,pointerEvents:r?"none":"auto",position:c?"fixed":"absolute",top:l,transition:"opacity 0.2s",width:Math.round(a.width+2*i)})}},{key:"updateState",value:function(e){this._isMounted&&this.setState(e)}},{key:"render",value:function(){var e=this.state,t=e.mouseOverSpotlight,n=e.showSpotlight,r=this.props,s=r.disableOverlay,o=r.disableOverlayClose,a=r.lifecycle,c=r.onClickOverlay,l=r.placement,u=r.styles;if(s||a!==Vt.TOOLTIP)return null;var d=u.overlay;on()&&(d="center"===l?u.overlayLegacyCenter:u.overlayLegacy);var p=Ot({cursor:o?"default":"pointer",height:hn(),pointerEvents:t?"none":"auto"},d),h="center"!==l&&n&&i().createElement(Tn,{styles:this.spotlightStyles});if("safari"===Qt()){p.mixBlendMode,p.zIndex;var f=Ut(p,On);h=i().createElement("div",{style:Ot({},f)},h),delete p.backgroundColor}return i().createElement("div",{className:"react-joyride__overlay",style:p,onClick:c},h)}}]),n}(i().Component),Mn=["styles"],Nn=["color","height","width"],jn=function(e){var t=e.styles,n=Ut(e,Mn),r=t.color,s=t.height,o=t.width,a=Ut(t,Nn);return i().createElement("button",Lt({style:a,type:"button"},n),i().createElement("svg",{width:"number"===typeof o?"".concat(o,"px"):o,height:"number"===typeof s?"".concat(s,"px"):s,viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},i().createElement("g",null,i().createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))},Ln=function(e){Bt(n,e);var t=qt(n);function n(){return Dt(this,n),t.apply(this,arguments)}return Nt(n,[{key:"render",value:function(){var e=this.props,t=e.backProps,n=e.closeProps,r=e.continuous,s=e.index,o=e.isLastStep,a=e.primaryProps,c=e.size,l=e.skipProps,u=e.step,d=e.tooltipProps,p=u.content,h=u.hideBackButton,f=u.hideCloseButton,g=u.hideFooter,y=u.showProgress,m=u.showSkipButton,b=u.title,v=u.styles,w=u.locale,k=w.back,E=w.close,_=w.last,S=w.next,C=w.skip,I={primary:E};return r&&(I.primary=o?_:S,y&&(I.primary=i().createElement("span",null,I.primary," (",s+1,"/",c,")"))),m&&!o&&(I.skip=i().createElement("button",Lt({style:v.buttonSkip,type:"button","aria-live":"off"},l),C)),!h&&s>0&&(I.back=i().createElement("button",Lt({style:v.buttonBack,type:"button"},t),k)),I.close=!f&&i().createElement(jn,Lt({styles:v.buttonClose},n)),i().createElement("div",Lt({key:"JoyrideTooltip",className:"react-joyride__tooltip",style:v.tooltip},d),i().createElement("div",{style:v.tooltipContainer},b&&i().createElement("h4",{style:v.tooltipTitle,"aria-label":b},b),i().createElement("div",{style:v.tooltipContent},p)),!g&&i().createElement("div",{style:v.tooltipFooter},i().createElement("div",{style:v.tooltipFooterSpacer},I.skip),I.back,i().createElement("button",Lt({style:v.buttonNext,type:"button"},a),I.primary)),I.close)}}]),n}(i().Component),Bn=["beaconComponent","tooltipComponent"],zn=function(e){Bt(n,e);var t=qt(n);function n(){var e;Dt(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return jt(Wt(e=t.call.apply(t,[this].concat(i))),"handleClickBack",(function(t){t.preventDefault(),e.props.helpers.prev()})),jt(Wt(e),"handleClickClose",(function(t){t.preventDefault(),e.props.helpers.close()})),jt(Wt(e),"handleClickPrimary",(function(t){t.preventDefault();var n=e.props,r=n.continuous,i=n.helpers;r?i.next():i.close()})),jt(Wt(e),"handleClickSkip",(function(t){t.preventDefault(),e.props.helpers.skip()})),jt(Wt(e),"getElementsProps",(function(){var t=e.props,n=t.continuous,r=t.isLastStep,i=t.setTooltipRef,s=t.step,o=Jt(s.locale.back),a=Jt(s.locale.close),c=Jt(s.locale.last),l=Jt(s.locale.next),u=Jt(s.locale.skip),d=n?l:a;return r&&(d=c),{backProps:{"aria-label":o,"data-action":"back",onClick:e.handleClickBack,role:"button",title:o},closeProps:{"aria-label":a,"data-action":"close",onClick:e.handleClickClose,role:"button",title:a},primaryProps:{"aria-label":d,"data-action":"primary",onClick:e.handleClickPrimary,role:"button",title:d},skipProps:{"aria-label":u,"data-action":"skip",onClick:e.handleClickSkip,role:"button",title:u},tooltipProps:{"aria-modal":!0,ref:i,role:"alertdialog"}}})),e}return Nt(n,[{key:"render",value:function(){var e=this.props,t=e.continuous,n=e.index,r=e.isLastStep,s=e.size,o=e.step;o.beaconComponent;var a,c=o.tooltipComponent,l=Ut(o,Bn);if(c){var u=Ot(Ot({},this.getElementsProps()),{},{continuous:t,index:n,isLastStep:r,size:s,step:l}),d=c;a=i().createElement(d,u)}else a=i().createElement(Ln,Lt({},this.getElementsProps(),{continuous:t,index:n,isLastStep:r,size:s,step:o}));return a}}]),n}(i().Component),Fn=function(e){Bt(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),r=t.call(this,e),Xt?(r.node=document.createElement("div"),e.id&&(r.node.id=e.id),document.body.appendChild(r.node),r):$t(r)}return Nt(n,[{key:"componentDidMount",value:function(){Xt&&(Zt||this.renderReact15())}},{key:"componentDidUpdate",value:function(){Xt&&(Zt||this.renderReact15())}},{key:"componentWillUnmount",value:function(){Xt&&this.node&&(Zt||T().unmountComponentAtNode(this.node),document.body.removeChild(this.node))}},{key:"renderReact15",value:function(){if(!Xt)return null;var e=this.props.children;return T().unstable_renderSubtreeIntoContainer(this,e,this.node),null}},{key:"renderReact16",value:function(){if(!Xt||!Zt)return null;var e=this.props.children;return T().createPortal(e,this.node)}},{key:"render",value:function(){return Zt?this.renderReact16():null}}]),n}(i().Component),Un=function(e){Bt(n,e);var t=qt(n);function n(){var e;Dt(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return jt(Wt(e=t.call.apply(t,[this].concat(i))),"scope",{removeScope:function(){}}),jt(Wt(e),"handleClickHoverBeacon",(function(t){var n=e.props,r=n.step,i=n.update;"mouseenter"===t.type&&"hover"!==r.event||i({lifecycle:Vt.TOOLTIP})})),jt(Wt(e),"handleClickOverlay",(function(){var t=e.props,n=t.helpers;t.step.disableOverlayClose||n.close()})),jt(Wt(e),"setTooltipRef",(function(t){e.tooltip=t})),jt(Wt(e),"setPopper",(function(t,n){var r=e.props,i=r.action,s=r.setPopper,o=r.update;"wrapper"===n?e.beaconPopper=t:e.tooltipPopper=t,s(t,n),e.beaconPopper&&e.tooltipPopper&&o({action:i===Ht.CLOSE?Ht.CLOSE:i,lifecycle:Vt.READY})})),e}return Nt(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.debug,n=e.index;an({title:"step:".concat(n),data:[{key:"props",value:this.props}],debug:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.action,r=t.callback,i=t.continuous,s=t.controlled,o=t.debug,a=t.index,c=t.lifecycle,l=t.size,u=t.status,d=t.step,p=t.update,h=A(e,this.props),f=h.changed,g=h.changedFrom,y={action:n,controlled:s,index:a,lifecycle:c,size:l,status:u},m=i&&n!==Ht.CLOSE&&(a>0||n===Ht.PREV),b=f("action")||f("index")||f("lifecycle")||f("status"),v=g("lifecycle",[Vt.TOOLTIP,Vt.INIT],Vt.INIT);if(f("action",[Ht.NEXT,Ht.PREV,Ht.SKIP,Ht.CLOSE])&&(v||s)&&r(Ot(Ot({},y),{},{index:e.index,lifecycle:Vt.COMPLETE,step:e.step,type:Kt.STEP_AFTER})),f("index")&&a>0&&c===Vt.INIT&&u===Gt.RUNNING&&"center"===d.placement&&p({lifecycle:Vt.READY}),b&&d){var w=fn(d.target),k=!!w,E=k&&function(e){if(!e)return!1;for(var t=e;t&&t!==document.body;){if(t instanceof HTMLElement){var n=getComputedStyle(t),r=n.display,i=n.visibility;if("none"===r||"hidden"===i)return!1}t=t.parentNode}return!0}(w);E?(g("status",Gt.READY,Gt.RUNNING)||g("lifecycle",Vt.INIT,Vt.READY))&&r(Ot(Ot({},y),{},{step:d,type:Kt.STEP_BEFORE})):(console.warn(k?"Target not visible":"Target not mounted",d),r(Ot(Ot({},y),{},{type:Kt.TARGET_NOT_FOUND,step:d})),s||p({index:a+(-1!==[Ht.PREV].indexOf(n)?-1:1)}))}g("lifecycle",Vt.INIT,Vt.READY)&&p({lifecycle:rn(d)||m?Vt.TOOLTIP:Vt.BEACON}),f("index")&&an({title:"step:".concat(c),data:[{key:"props",value:this.props}],debug:o}),f("lifecycle",Vt.BEACON)&&r(Ot(Ot({},y),{},{step:d,type:Kt.BEACON})),f("lifecycle",Vt.TOOLTIP)&&(r(Ot(Ot({},y),{},{step:d,type:Kt.TOOLTIP})),this.scope=new An(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus()),g("lifecycle",[Vt.TOOLTIP,Vt.INIT],Vt.INIT)&&(this.scope.removeScope(),delete this.beaconPopper,delete this.tooltipPopper)}},{key:"componentWillUnmount",value:function(){this.scope.removeScope()}},{key:"open",get:function(){var e=this.props,t=e.step,n=e.lifecycle;return!(!rn(t)&&n!==Vt.TOOLTIP)}},{key:"render",value:function(){var e=this.props,t=e.continuous,n=e.debug,r=e.helpers,s=e.index,o=e.lifecycle,a=e.nonce,c=e.shouldScroll,l=e.size,u=e.step,d=fn(u.target);return xn(u)&&v.domElement(d)?i().createElement("div",{key:"JoyrideStep-".concat(s),className:"react-joyride__step"},i().createElement(Fn,{id:"react-joyride-portal"},i().createElement(Dn,Lt({},u,{debug:n,lifecycle:o,onClickOverlay:this.handleClickOverlay}))),i().createElement(Rt,Lt({component:i().createElement(zn,{continuous:t,helpers:r,index:s,isLastStep:s+1===l,setTooltipRef:this.setTooltipRef,size:l,step:u}),debug:n,getPopper:this.setPopper,id:"react-joyride-step-".concat(s),isPositioned:u.isFixed||bn(d),open:this.open,placement:u.placement,target:u.target},u.floaterProps),i().createElement(Rn,{beaconComponent:u.beaconComponent,locale:u.locale,nonce:a,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:c,styles:u.styles}))):null}}]),n}(i().Component),Wn=function(e){Bt(n,e);var t=qt(n);function n(e){var r;return Dt(this,n),jt(Wt(r=t.call(this,e)),"initStore",(function(){var e=r.props,t=e.debug,n=e.getHelpers,i=e.run,s=e.stepIndex;r.store=new un(Ot(Ot({},r.props),{},{controlled:i&&v.number(s)})),r.helpers=r.store.getHelpers();var o=r.store.addListener;return an({title:"init",data:[{key:"props",value:r.props},{key:"state",value:r.state}],debug:t}),o(r.syncState),n(r.helpers),r.store.getState()})),jt(Wt(r),"callback",(function(e){var t=r.props.callback;v.function(t)&&t(e)})),jt(Wt(r),"handleKeyboard",(function(e){var t=r.state,n=t.index,i=t.lifecycle,s=r.props.steps[n],o=window.Event?e.which:e.keyCode;i===Vt.TOOLTIP&&27===o&&s&&!s.disableCloseOnEsc&&r.store.close()})),jt(Wt(r),"syncState",(function(e){r.setState(e)})),jt(Wt(r),"setPopper",(function(e,t){"wrapper"===t?r.beaconPopper=e:r.tooltipPopper=e})),jt(Wt(r),"shouldScroll",(function(e,t,n,r,i,s,o){return!e&&(0!==t||n||r===Vt.TOOLTIP)&&"center"!==i.placement&&(!i.isFixed||!bn(s))&&o.lifecycle!==r&&-1!==[Vt.BEACON,Vt.TOOLTIP].indexOf(r)})),r.state=r.initStore(),r}return Nt(n,[{key:"componentDidMount",value:function(){if(Xt){var e=this.props,t=e.disableCloseOnEsc,n=e.debug,r=e.run,i=e.steps,s=this.store.start;Pn(i,n)&&r&&s(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}}},{key:"componentDidUpdate",value:function(e,t){if(Xt){var n=this.state,r=n.action,i=n.controlled,s=n.index,o=n.lifecycle,a=n.status,c=this.props,l=c.debug,u=c.run,d=c.stepIndex,p=c.steps,h=e.steps,f=e.stepIndex,g=this.store,y=g.reset,m=g.setSteps,b=g.start,w=g.stop,k=g.update,E=A(e,this.props).changed,_=A(t,this.state),S=_.changed,C=_.changedFrom,I=In(p[s],this.props),x=!sn(h,p),P=v.number(d)&&E("stepIndex"),R=fn(null===I||void 0===I?void 0:I.target);if(x&&(Pn(p,l)?m(p):console.warn("Steps are not valid",p)),E("run")&&(u?b(d):w()),P){var T=f<d?Ht.NEXT:Ht.PREV;r===Ht.STOP&&(T=Ht.START),-1===[Gt.FINISHED,Gt.SKIPPED].indexOf(a)&&k({action:r===Ht.CLOSE?Ht.CLOSE:T,index:d,lifecycle:Vt.INIT})}i||a!==Gt.RUNNING||0!==s||R||(k({index:s+1}),this.callback(Ot(Ot({},this.state),{},{type:Kt.TARGET_NOT_FOUND,step:I})));var O=Ot(Ot({},this.state),{},{index:s,step:I});if(S("action",[Ht.NEXT,Ht.PREV,Ht.SKIP,Ht.CLOSE])&&S("status",Gt.PAUSED)){var D=In(p[t.index],this.props);this.callback(Ot(Ot({},O),{},{index:t.index,lifecycle:Vt.COMPLETE,step:D,type:Kt.STEP_AFTER}))}if(S("status",[Gt.FINISHED,Gt.SKIPPED])){var M=In(p[t.index],this.props);i||this.callback(Ot(Ot({},O),{},{index:t.index,lifecycle:Vt.COMPLETE,step:M,type:Kt.STEP_AFTER})),this.callback(Ot(Ot({},O),{},{index:t.index,step:M,type:Kt.TOUR_END})),y()}else C("status",[Gt.IDLE,Gt.READY],Gt.RUNNING)?this.callback(Ot(Ot({},O),{},{type:Kt.TOUR_START})):(S("status")||S("action",Ht.RESET))&&this.callback(Ot(Ot({},O),{},{type:Kt.TOUR_STATUS}));I&&(this.scrollToStep(t),r===Ht.START&&o===Vt.INIT&&a===Gt.RUNNING&&"center"===I.placement&&k({lifecycle:Vt.READY}))}}},{key:"componentWillUnmount",value:function(){this.props.disableCloseOnEsc||document.body.removeEventListener("keydown",this.handleKeyboard)}},{key:"scrollToStep",value:function(e){var t=this.state,n=t.index,r=t.lifecycle,i=t.status,s=this.props,o=s.debug,a=s.disableScrolling,c=s.disableScrollParentFix,l=s.scrollToFirstStep,u=s.scrollOffset,d=s.scrollDuration,p=In(s.steps[n],this.props);if(p){var h=fn(p.target),f=this.shouldScroll(a,n,l,r,p,h,e);if(i===Gt.RUNNING&&f){var g=mn(h,c),y=yn(h,c),m=Math.floor(wn(h,u,c))||0;if(an({title:"scrollToStep",data:[{key:"index",value:n},{key:"lifecycle",value:r},{key:"status",value:i}],debug:o}),r===Vt.BEACON&&this.beaconPopper){var b=this.beaconPopper,v=b.placement,w=b.popper;-1!==["bottom"].indexOf(v)||g||(m=Math.floor(w.top-u))}else if(r===Vt.TOOLTIP&&this.tooltipPopper){var k=this.tooltipPopper,E=k.flipped,_=k.placement,S=k.popper;-1===["top","right","left"].indexOf(_)||E||g?m-=p.spotlightPadding:m=Math.floor(S.top-u)}m=m>=0?m:0,i===Gt.RUNNING&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn(),n=arguments.length>2?arguments[2]:void 0;new Promise((function(r,i){var s=t.scrollTop,o=e>s?e-s:s-e;N().top(t,e,{duration:o<100?50:n},(function(e){return e&&"Element already at target scroll position"!==e.message?i(e):r()}))}))}(m,y,d)}}}},{key:"render",value:function(){if(!Xt)return null;var e,t=this.state,n=t.index,r=t.status,s=this.props,o=s.continuous,a=s.debug,c=s.nonce,l=s.scrollToFirstStep,u=In(s.steps[n],this.props);return r===Gt.RUNNING&&u&&(e=i().createElement(Un,Lt({},this.state,{callback:this.callback,continuous:o,debug:a,setPopper:this.setPopper,helpers:this.helpers,nonce:c,shouldScroll:!u.disableScrolling&&(0!==n||l),step:u,update:this.store.update}))),i().createElement("div",{className:"react-joyride"},e)}}]),n}(i().Component);jt(Wn,"defaultProps",{continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:function(){},hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]})},81726:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case s:case a:case o:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case y:case g:case c:return e;default:return t}}case i:return t}}}function E(e){return k(e)===d}t.Element=r,t.ForwardRef=p,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===a||e===o||e===h||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===v||e.$$typeof===w||e.$$typeof===m)},t.typeOf=k},85547:(e,t,n)=>{"use strict";e.exports=n(81726)},48741:function(e,t,n){var r;e.exports=(r=n(92950),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=48)}([function(e,t){e.exports=r},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(26)("wks"),i=n(17),s=n(3).Symbol,o="function"==typeof s;(e.exports=function(e){return r[e]||(r[e]=o&&s[e]||(o?s:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(8)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(7),i=n(16);e.exports=n(4)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(10),i=n(35),s=n(23),o=Object.defineProperty;t.f=n(4)?Object.defineProperty:function(e,t,n){if(r(e),t=s(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(40),i=n(22);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){var r=n(39),i=n(27);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=!0},function(e,t,n){var r=n(3),i=n(1),s=n(53),o=n(6),a=n(5),c=function(e,t,n){var l,u,d,p=e&c.F,h=e&c.G,f=e&c.S,g=e&c.P,y=e&c.B,m=e&c.W,b=h?i:i[t]||(i[t]={}),v=b.prototype,w=h?r:f?r[t]:(r[t]||{}).prototype;for(l in h&&(n=t),n)(u=!p&&w&&void 0!==w[l])&&a(b,l)||(d=u?w[l]:n[l],b[l]=h&&"function"!=typeof w[l]?n[l]:y&&u?s(d,r):m&&w[l]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):g&&"function"==typeof d?s(Function.call,d):d,g&&((b.virtual||(b.virtual={}))[l]=d,e&c.R&&v&&!v[l]&&o(v,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(22);e.exports=function(e){return Object(r(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(52)(!0);n(34)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(26)("keys"),i=n(17);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(1),i=n(3),s=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(14)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(7).f,i=n(5),s=n(2)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},function(e,t,n){n(62);for(var r=n(3),i=n(6),s=n(12),o=n(2)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var l=a[c],u=r[l],d=u&&u.prototype;d&&!d[o]&&i(d,o,l),s[l]=s.Array}},function(e,t,n){t.f=n(2)},function(e,t,n){var r=n(3),i=n(1),s=n(14),o=n(30),a=n(7).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=s?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:o.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e,t,n){return Math.min(Math.max(e,t),n)}},function(e,t,n){"use strict";var r=n(14),i=n(15),s=n(37),o=n(6),a=n(12),c=n(55),l=n(28),u=n(61),d=n(2)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,f,g,y,m){c(n,t,f);var b,v,w,k=function(e){if(!p&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",_="values"==g,S=!1,C=e.prototype,I=C[d]||C["@@iterator"]||g&&C[g],x=I||k(g),P=g?_?k("entries"):x:void 0,A="Array"==t&&C.entries||I;if(A&&(w=u(A.call(new e)))!==Object.prototype&&w.next&&(l(w,E,!0),r||"function"==typeof w[d]||o(w,d,h)),_&&I&&"values"!==I.name&&(S=!0,x=function(){return I.call(this)}),r&&!m||!p&&!S&&C[d]||o(C,d,x),a[t]=x,a[E]=h,g)if(b={values:_?x:k("values"),keys:y?x:k("keys"),entries:P},m)for(v in b)v in C||s(C,v,b[v]);else i(i.P+i.F*(p||S),t,b);return b}},function(e,t,n){e.exports=!n(4)&&!n(8)((function(){return 7!=Object.defineProperty(n(36)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(11),i=n(3).document,s=r(i)&&r(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},function(e,t,n){e.exports=n(6)},function(e,t,n){var r=n(10),i=n(56),s=n(27),o=n(25)("IE_PROTO"),a=function(){},c=function(){var e,t=n(36)("iframe"),r=s.length;for(t.style.display="none",n(60).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[s[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[o]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(5),i=n(9),s=n(57)(!1),o=n(25)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),c=0,l=[];for(n in a)n!=o&&r(a,n)&&l.push(n);for(;t.length>c;)r(a,n=t[c++])&&(~s(l,n)||l.push(n));return l}},function(e,t,n){var r=n(24);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(39),i=n(27).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(24),i=n(2)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:s?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=/-?\d+(\.\d+)?%?/g;e.exports=function(e){return e.match(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var r=h(n(49)),i=h(n(76)),s=h(n(81)),o=h(n(89)),a=h(n(93)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(94)),l=h(n(132)),u=h(n(133)),d=h(n(138)),p=n(139);function h(e){return e&&e.__esModule?e:{default:e}}var f=c.default,g=(0,o.default)(f),y=(0,d.default)(u.default,p.rgb2yuv,(function(e){var t,n=(0,s.default)(e,3);return[(t=n[0],t<.25?1:t<.5?.9-t:1.1-t),n[1],n[2]]}),p.yuv2rgb,l.default),m=function(e){return function(t){return{className:[t.className,e.className].filter(Boolean).join(" "),style:(0,i.default)({},t.style||{},e.style||{})}}},b=function(e,t){var n=(0,o.default)(t);for(var s in e)-1===n.indexOf(s)&&n.push(s);return n.reduce((function(n,s){return n[s]=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var n=void 0===e?"undefined":(0,r.default)(e),s=void 0===t?"undefined":(0,r.default)(t);switch(n){case"string":switch(s){case"string":return[t,e].filter(Boolean).join(" ");case"object":return m({className:e,style:t});case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return m({className:e})(t.apply(void 0,[n].concat(i)))}}case"object":switch(s){case"string":return m({className:t,style:e});case"object":return(0,i.default)({},t,e);case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return m({style:e})(t.apply(void 0,[n].concat(i)))}}case"function":switch(s){case"string":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return e.apply(void 0,[m(n)({className:t})].concat(i))};case"object":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return e.apply(void 0,[m(n)({style:t})].concat(i))};case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return e.apply(void 0,[t.apply(void 0,[n].concat(i))].concat(i))}}}}(e[s],t[s]),n}),{})},v=function(e,t){for(var n=arguments.length,s=Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];if(null===t)return e;Array.isArray(t)||(t=[t]);var c=t.map((function(t){return e[t]})).filter(Boolean).reduce((function(e,t){return"string"==typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===(void 0===t?"undefined":(0,r.default)(t))?e.style=(0,i.default)({},e.style,t):"function"==typeof t&&(e=(0,i.default)({},e,t.apply(void 0,[e].concat(s)))),e}),{className:"",style:{}});return c.className||delete c.className,0===(0,o.default)(c.style).length&&delete c.style,c},w=t.invertTheme=function(e){return(0,o.default)(e).reduce((function(t,n){return t[n]=/^base/.test(n)?y(e[n]):"scheme"===n?e[n]+":inverted":e[n],t}),{})},k=(t.createStyling=(0,a.default)((function(e){for(var t=arguments.length,n=Array(t>3?t-3:0),r=3;r<t;r++)n[r-3]=arguments[r];var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=s.defaultBase16,u=void 0===l?f:l,d=s.base16Themes,p=k(c,void 0===d?null:d);p&&(c=(0,i.default)({},p,c));var h=g.reduce((function(e,t){return e[t]=c[t]||u[t],e}),{}),y=(0,o.default)(c).reduce((function(e,t){return-1===g.indexOf(t)?(e[t]=c[t],e):e}),{}),m=e(h),w=b(y,m);return(0,a.default)(v,2).apply(void 0,[w].concat(n))}),3),t.getBase16Theme=function(e,t){if(e&&e.extend&&(e=e.extend),"string"==typeof e){var n=e.split(":"),r=(0,s.default)(n,2),i=r[0],o=r[1];e=(t||{})[i]||c[i],"inverted"===o&&(e=w(e))}return e&&e.hasOwnProperty("base00")?e:void 0})},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==s&&e.removeListener("error",s),n([].slice.call(arguments))}var s;"error"!==t&&(s=function(n){e.removeListener(t,i),r(n)},e.once("error",s)),e.once(t,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,s,o,a;if(l(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var l=c.length,u=y(c,l);for(n=0;n<l;++n)s(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,s,o;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){e.exports.Dispatcher=n(140)},function(e,t,n){e.exports=n(142)},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(50)),i=o(n(65)),s="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===s(r.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t,n){e.exports={default:n(51),__esModule:!0}},function(e,t,n){n(20),n(29),e.exports=n(30).f("iterator")},function(e,t,n){var r=n(21),i=n(22);e.exports=function(e){return function(t,n){var s,o,a=String(i(t)),c=r(n),l=a.length;return c<0||c>=l?e?"":void 0:(s=a.charCodeAt(c))<55296||s>56319||c+1===l||(o=a.charCodeAt(c+1))<56320||o>57343?e?a.charAt(c):s:e?a.slice(c,c+2):o-56320+(s-55296<<10)+65536}}},function(e,t,n){var r=n(54);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(38),i=n(16),s=n(28),o={};n(6)(o,n(2)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),s(e,t+" Iterator")}},function(e,t,n){var r=n(7),i=n(10),s=n(13);e.exports=n(4)?Object.defineProperties:function(e,t){i(e);for(var n,o=s(t),a=o.length,c=0;a>c;)r.f(e,n=o[c++],t[n]);return e}},function(e,t,n){var r=n(9),i=n(58),s=n(59);e.exports=function(e){return function(t,n,o){var a,c=r(t),l=i(c.length),u=s(o,l);if(e&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(21),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(21),i=Math.max,s=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):s(e,t)}},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(5),i=n(18),s=n(25)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){"use strict";var r=n(63),i=n(64),s=n(12),o=n(9);e.exports=n(34)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(66),__esModule:!0}},function(e,t,n){n(67),n(73),n(74),n(75),e.exports=n(1).Symbol},function(e,t,n){"use strict";var r=n(3),i=n(5),s=n(4),o=n(15),a=n(37),c=n(68).KEY,l=n(8),u=n(26),d=n(28),p=n(17),h=n(2),f=n(30),g=n(31),y=n(69),m=n(70),b=n(10),v=n(11),w=n(18),k=n(9),E=n(23),_=n(16),S=n(38),C=n(71),I=n(72),x=n(32),P=n(7),A=n(13),R=I.f,T=P.f,O=C.f,D=r.Symbol,M=r.JSON,N=M&&M.stringify,j=h("_hidden"),L=h("toPrimitive"),B={}.propertyIsEnumerable,z=u("symbol-registry"),F=u("symbols"),U=u("op-symbols"),W=Object.prototype,$="function"==typeof D&&!!x.f,q=r.QObject,H=!q||!q.prototype||!q.prototype.findChild,K=s&&l((function(){return 7!=S(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=R(W,t);r&&delete W[t],T(e,t,n),r&&e!==W&&T(W,t,r)}:T,V=function(e){var t=F[e]=S(D.prototype);return t._k=e,t},G=$&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},X=function(e,t,n){return e===W&&X(U,t,n),b(e),t=E(t,!0),b(n),i(F,t)?(n.enumerable?(i(e,j)&&e[j][t]&&(e[j][t]=!1),n=S(n,{enumerable:_(0,!1)})):(i(e,j)||T(e,j,_(1,{})),e[j][t]=!0),K(e,t,n)):T(e,t,n)},Z=function(e,t){b(e);for(var n,r=y(t=k(t)),i=0,s=r.length;s>i;)X(e,n=r[i++],t[n]);return e},Q=function(e){var t=B.call(this,e=E(e,!0));return!(this===W&&i(F,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,j)&&this[j][e])||t)},Y=function(e,t){if(e=k(e),t=E(t,!0),e!==W||!i(F,t)||i(U,t)){var n=R(e,t);return!n||!i(F,t)||i(e,j)&&e[j][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=O(k(e)),r=[],s=0;n.length>s;)i(F,t=n[s++])||t==j||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===W,r=O(n?U:k(e)),s=[],o=0;r.length>o;)!i(F,t=r[o++])||n&&!i(W,t)||s.push(F[t]);return s};$||(a((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===W&&t.call(U,n),i(this,j)&&i(this[j],e)&&(this[j][e]=!1),K(this,e,_(1,n))};return s&&H&&K(W,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",(function(){return this._k})),I.f=Y,P.f=X,n(41).f=C.f=J,n(19).f=Q,x.f=ee,s&&!n(14)&&a(W,"propertyIsEnumerable",Q,!0),f.f=function(e){return V(h(e))}),o(o.G+o.W+o.F*!$,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var re=A(h.store),ie=0;re.length>ie;)g(re[ie++]);o(o.S+o.F*!$,"Symbol",{for:function(e){return i(z,e+="")?z[e]:z[e]=D(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),o(o.S+o.F*!$,"Object",{create:function(e,t){return void 0===t?S(e):Z(S(e),t)},defineProperty:X,defineProperties:Z,getOwnPropertyDescriptor:Y,getOwnPropertyNames:J,getOwnPropertySymbols:ee});var se=l((function(){x.f(1)}));o(o.S+o.F*se,"Object",{getOwnPropertySymbols:function(e){return x.f(w(e))}}),M&&o(o.S+o.F*(!$||l((function(){var e=D();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(v(t)||void 0!==e)&&!G(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,N.apply(M,r)}}),D.prototype[L]||n(6)(D.prototype,L,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(17)("meta"),i=n(11),s=n(5),o=n(7).f,a=0,c=Object.isExtensible||function(){return!0},l=!n(8)((function(){return c(Object.preventExtensions({}))})),u=function(e){o(e,r,{value:{i:"O"+ ++a,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!s(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!s(e,r)&&u(e),e}}},function(e,t,n){var r=n(13),i=n(32),s=n(19);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,a=n(e),c=s.f,l=0;a.length>l;)c.call(e,o=a[l++])&&t.push(o);return t}},function(e,t,n){var r=n(24);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(9),i=n(41).f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==s.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(19),i=n(16),s=n(9),o=n(23),a=n(5),c=n(35),l=Object.getOwnPropertyDescriptor;t.f=n(4)?l:function(e,t){if(e=s(e),t=o(t,!0),c)try{return l(e,t)}catch(e){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(31)("asyncIterator")},function(e,t,n){n(31)("observable")},function(e,t,n){"use strict";t.__esModule=!0;var r,i=(r=n(77))&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(78),__esModule:!0}},function(e,t,n){n(79),e.exports=n(1).Object.assign},function(e,t,n){var r=n(15);r(r.S+r.F,"Object",{assign:n(80)})},function(e,t,n){"use strict";var r=n(4),i=n(13),s=n(32),o=n(19),a=n(18),c=n(40),l=Object.assign;e.exports=!l||n(8)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=a(e),l=arguments.length,u=1,d=s.f,p=o.f;l>u;)for(var h,f=c(arguments[u++]),g=d?i(f).concat(d(f)):i(f),y=g.length,m=0;y>m;)h=g[m++],r&&!p.call(f,h)||(n[h]=f[h]);return n}:l},function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(82)),i=s(n(85));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,s=!1,o=void 0;try{for(var a,c=(0,i.default)(e);!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){s=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(29),n(20),e.exports=n(84)},function(e,t,n){var r=n(42),i=n(2)("iterator"),s=n(12);e.exports=n(1).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||s.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(86),__esModule:!0}},function(e,t,n){n(29),n(20),e.exports=n(87)},function(e,t,n){var r=n(10),i=n(88);e.exports=n(1).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(42),i=n(2)("iterator"),s=n(12);e.exports=n(1).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||s[r(e)]}},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){n(91),e.exports=n(1).Object.keys},function(e,t,n){var r=n(18),i=n(13);n(92)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(15),i=n(1),s=n(8);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*s((function(){n(1)})),"Object",o)}},function(e,t,n){(function(t){var n=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],r=/^\s+|\s+$/g,i=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,s=/\{\n\/\* \[wrapped with (.+)\] \*/,o=/,? & /,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^\[object .+?Constructor\]$/,u=/^0o[0-7]+$/i,d=/^(?:0|[1-9]\d*)$/,p=parseInt,h="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,g=h||f||Function("return this")();function y(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function m(e,t){return!(!e||!e.length)&&function(e,t,n){if(t!=t)return function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}(e,b,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function b(e){return e!=e}function v(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function w(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n];o!==t&&"__lodash_placeholder__"!==o||(e[n]="__lodash_placeholder__",s[i++]=n)}return s}var k,E,_,S=Function.prototype,C=Object.prototype,I=g["__core-js_shared__"],x=(k=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",P=S.toString,A=C.hasOwnProperty,R=C.toString,T=RegExp("^"+P.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=Object.create,D=Math.max,M=Math.min,N=(E=H(Object,"defineProperty"),(_=H.name)&&_.length>2?E:void 0);function j(e){return J(e)?O(e):{}}function L(e){return!(!J(e)||function(e){return!!x&&x in e}(e))&&(function(e){var t=J(e)?R.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?T:l).test(function(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function B(e,t,n,r){for(var i=-1,s=e.length,o=n.length,a=-1,c=t.length,l=D(s-o,0),u=Array(c+l),d=!r;++a<c;)u[a]=t[a];for(;++i<o;)(d||i<s)&&(u[n[i]]=e[i]);for(;l--;)u[a++]=e[i++];return u}function z(e,t,n,r){for(var i=-1,s=e.length,o=-1,a=n.length,c=-1,l=t.length,u=D(s-a,0),d=Array(u+l),p=!r;++i<u;)d[i]=e[i];for(var h=i;++c<l;)d[h+c]=t[c];for(;++o<a;)(p||i<s)&&(d[h+n[o]]=e[i++]);return d}function F(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=j(e.prototype),r=e.apply(n,t);return J(r)?r:n}}function U(e,t,n,r,i,s,o,a,c,l){var u=128&t,d=1&t,p=2&t,h=24&t,f=512&t,y=p?void 0:F(e);return function m(){for(var b=arguments.length,k=Array(b),E=b;E--;)k[E]=arguments[E];if(h)var _=q(m),S=v(k,_);if(r&&(k=B(k,r,i,h)),s&&(k=z(k,s,o,h)),b-=S,h&&b<l){var C=w(k,_);return W(e,t,U,m.placeholder,n,k,C,a,c,l-b)}var I=d?n:this,x=p?I[e]:e;return b=k.length,a?k=X(k,a):f&&b>1&&k.reverse(),u&&c<b&&(k.length=c),this&&this!==g&&this instanceof m&&(x=y||F(x)),x.apply(I,k)}}function W(e,t,n,r,i,s,o,a,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=n(e,t,i,u?s:void 0,u?o:void 0,u?void 0:s,u?void 0:o,a,c,l);return d.placeholder=r,Z(d,e,t)}function $(e,t,n,r,i,s,o,a){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var l=r?r.length:0;if(l||(t&=-97,r=i=void 0),o=void 0===o?o:D(te(o),0),a=void 0===a?a:te(a),l-=i?i.length:0,64&t){var u=r,d=i;r=i=void 0}var p=[e,t,n,r,i,u,d,s,o,a];if(e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],!(a=p[9]=null==p[9]?c?0:e.length:D(p[9]-l,0))&&24&t&&(t&=-25),t&&1!=t)h=8==t||16==t?function(e,t,n){var r=F(e);return function i(){for(var s=arguments.length,o=Array(s),a=s,c=q(i);a--;)o[a]=arguments[a];var l=s<3&&o[0]!==c&&o[s-1]!==c?[]:w(o,c);return(s-=l.length)<n?W(e,t,U,i.placeholder,void 0,o,l,void 0,void 0,n-s):y(this&&this!==g&&this instanceof i?r:e,this,o)}}(e,t,a):32!=t&&33!=t||i.length?U.apply(void 0,p):function(e,t,n,r){var i=1&t,s=F(e);return function t(){for(var o=-1,a=arguments.length,c=-1,l=r.length,u=Array(l+a),d=this&&this!==g&&this instanceof t?s:e;++c<l;)u[c]=r[c];for(;a--;)u[c++]=arguments[++o];return y(d,i?n:this,u)}}(e,t,n,r);else var h=function(e,t,n){var r=1&t,i=F(e);return function t(){return(this&&this!==g&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Z(h,e,t)}function q(e){return e.placeholder}function H(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return L(n)?n:void 0}function K(e){var t=e.match(s);return t?t[1].split(o):[]}function V(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(i,"{\n/* [wrapped with "+t+"] */\n")}function G(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}function X(e,t){for(var n=e.length,r=M(t.length,n),i=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e);r--;){var s=t[r];e[r]=G(s,n)?i[s]:void 0}return e}var Z=N?function(e,t,n){var r,i=t+"";return N(e,"toString",{configurable:!0,enumerable:!1,value:(r=V(i,Q(K(i),n)),function(){return r})})}:function(e){return e};function Q(e,t){return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(n,(function(n){var r="_."+n[0];t&n[1]&&!m(e,r)&&e.push(r)})),e.sort()}function Y(e,t,n){var r=$(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Y.placeholder,r}function J(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ee(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==R.call(e)}(e))return NaN;if(J(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=J(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=c.test(e);return n||u.test(e)?p(e.slice(2),n?2:8):a.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function te(e){var t=ee(e),n=t%1;return t==t?n?t-n:t:0}Y.placeholder={},e.exports=Y}).call(this,n(43))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var i=n(95);t.threezerotwofour=r(i);var s=n(96);t.apathy=r(s);var o=n(97);t.ashes=r(o);var a=n(98);t.atelierDune=r(a);var c=n(99);t.atelierForest=r(c);var l=n(100);t.atelierHeath=r(l);var u=n(101);t.atelierLakeside=r(u);var d=n(102);t.atelierSeaside=r(d);var p=n(103);t.bespin=r(p);var h=n(104);t.brewer=r(h);var f=n(105);t.bright=r(f);var g=n(106);t.chalk=r(g);var y=n(107);t.codeschool=r(y);var m=n(108);t.colors=r(m);var b=n(109);t.default=r(b);var v=n(110);t.eighties=r(v);var w=n(111);t.embers=r(w);var k=n(112);t.flat=r(k);var E=n(113);t.google=r(E);var _=n(114);t.grayscale=r(_);var S=n(115);t.greenscreen=r(S);var C=n(116);t.harmonic=r(C);var I=n(117);t.hopscotch=r(I);var x=n(118);t.isotope=r(x);var P=n(119);t.marrakesh=r(P);var A=n(120);t.mocha=r(A);var R=n(121);t.monokai=r(R);var T=n(122);t.ocean=r(T);var O=n(123);t.paraiso=r(O);var D=n(124);t.pop=r(D);var M=n(125);t.railscasts=r(M);var N=n(126);t.shapeshifter=r(N);var j=n(127);t.solarized=r(j);var L=n(128);t.summerfruit=r(L);var B=n(129);t.tomorrow=r(B);var z=n(130);t.tube=r(z);var F=n(131);t.twilight=r(F)},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"brewer",author:"timoth\xe9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},e.exports=t.default},function(e,t,n){var r=n(33);function i(e){var t=Math.round(r(e,0,255)).toString(16);return 1==t.length?"0"+t:t}e.exports=function(e){var t=4===e.length?i(255*e[3]):"";return"#"+i(e[0])+i(e[1])+i(e[2])+t}},function(e,t,n){var r=n(134),i=n(135),s=n(136),o=n(137),a={"#":i,hsl:function(e){var t=r(e),n=o(t);return 4===t.length&&n.push(t[3]),n},rgb:s};function c(e){for(var t in a)if(0===e.indexOf(t))return a[t](e)}c.rgb=s,c.hsl=r,c.hex=i,e.exports=c},function(e,t,n){var r=n(44),i=n(33);function s(e,t){switch(e=parseFloat(e),t){case 0:return i(e,0,360);case 1:case 2:return i(e,0,100);case 3:return i(e,0,1)}}e.exports=function(e){return r(e).map(s)}},function(e,t){e.exports=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var n=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(n)}return t}},function(e,t,n){var r=n(44),i=n(33);function s(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*i(parseInt(e,10),0,100)/100):i(parseInt(e,10),0,255):i(parseFloat(e),0,1)}e.exports=function(e){return r(e).map(s)}},function(e,t){e.exports=function(e){var t,n,r,i,s,o=e[0]/360,a=e[1]/100,c=e[2]/100;if(0==a)return[s=255*c,s,s];t=2*c-(n=c<.5?c*(1+a):c+a-c*a),i=[0,0,0];for(var l=0;l<3;l++)(r=o+1/3*-(l-1))<0&&r++,r>1&&r--,s=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*s;return i}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var a=Object.prototype,c=a.hasOwnProperty,l=a.toString,u=i.Symbol,d=a.propertyIsEnumerable,p=u?u.isConcatSpreadable:void 0,h=Math.max;function f(e){return b(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?l.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&c.call(e,"callee")&&(!d.call(e,"callee")||"[object Arguments]"==l.call(e))}(e)||!!(p&&e&&e[p])}var g,y,m,b=Array.isArray,v=(y=function(e){var t=(e=function e(t,n,r,i,s){var a=-1,c=t.length;for(r||(r=f),s||(s=[]);++a<c;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,s):o(s,l):i||(s[s.length]=l)}return s}(e,1)).length,n=t;for(g&&e.reverse();n--;)if("function"!=typeof e[n])throw new TypeError("Expected a function");return function(){for(var n=0,r=t?e[n].apply(this,arguments):arguments[0];++n<t;)r=e[n].call(this,r);return r}},m=h(void 0===m?y.length-1:m,0),function(){for(var e=arguments,t=-1,n=h(e.length-m,0),r=Array(n);++t<n;)r[t]=e[m+t];t=-1;for(var i=Array(m+1);++t<m;)i[t]=e[t];return i[m]=r,s(y,this,i)});e.exports=v}).call(this,n(43))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yuv2rgb=function(e){var t,n,r,i=e[0],s=e[1],o=e[2];return t=1*i+0*s+1.13983*o,n=1*i+-.39465*s+-.5806*o,r=1*i+2.02311*s+0*o,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},t.rgb2yuv=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[.299*t+.587*n+.114*r,-.14713*t+-.28886*n+.436*r,.615*t+-.51499*n+-.10001*r]}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(141),s=function(){function e(){r(this,"_callbacks",void 0),r(this,"_isDispatching",void 0),r(this,"_isHandled",void 0),r(this,"_isPending",void 0),r(this,"_lastID",void 0),r(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var t=e.prototype;return t.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},t.unregister=function(e){this._callbacks[e]||i(!1),delete this._callbacks[e]},t.waitFor=function(e){this._isDispatching||i(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||i(!1):(this._callbacks[n]||i(!1),this._invokeCallback(n))}},t.dispatch=function(e){this._isDispatching&&i(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},t.isDispatching=function(){return this._isDispatching},t._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},t._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},t._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=s},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(r(t),!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(t.replace(/%s/g,(function(){return String(i[a++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?h(e):t}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}n.r(t);var y=n(0),m=n.n(y);function b(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function v(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function w(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function k(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var s=e.displayName||e.name,o="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+o+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=b,t.componentWillReceiveProps=v),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=w;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,r)}}return e}function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _(e){var t=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(e);return"number"===t&&(t=isNaN(e)?"nan":(0|e)!=e?"float":"integer"),t}b.__suppressDeprecationWarning=!0,v.__suppressDeprecationWarning=!0,w.__suppressDeprecationWarning=!0;var S={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},C={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},I={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},x=n(45),P=function(e){var t=function(e){return{backgroundColor:e.base00,ellipsisColor:e.base09,braceColor:e.base07,expandedIcon:e.base0D,collapsedIcon:e.base0E,keyColor:e.base07,arrayKeyColor:e.base0C,objectSize:e.base04,copyToClipboard:e.base0F,copyToClipboardCheck:e.base0D,objectBorder:e.base02,dataTypes:{boolean:e.base0E,date:e.base0D,float:e.base0B,function:e.base0D,integer:e.base0F,string:e.base09,nan:e.base08,null:e.base0A,undefined:e.base05,regexp:e.base0A,background:e.base02},editVariable:{editIcon:e.base0E,cancelIcon:e.base09,removeIcon:e.base09,addIcon:e.base0E,checkIcon:e.base0E,background:e.base01,color:e.base0A,border:e.base07},addKeyModal:{background:e.base05,border:e.base04,color:e.base0A,labelColor:e.base01},validationFailure:{background:e.base09,iconColor:e.base01,fontColor:e.base01}}}(e);return{"app-container":{fontFamily:I.globalFontFamily,cursor:I.globalCursor,backgroundColor:t.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:t.ellipsisColor,fontSize:I.ellipsisFontSize,lineHeight:I.ellipsisLineHeight,cursor:I.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:I.braceCursor,fontWeight:I.braceFontWeight,color:t.braceColor},"expanded-icon":{color:t.expandedIcon},"collapsed-icon":{color:t.collapsedIcon},colon:{display:"inline-block",margin:I.keyMargin,color:t.keyColor,verticalAlign:"top"},objectKeyVal:function(e,n){return{style:s({paddingTop:I.keyValPaddingTop,paddingRight:I.keyValPaddingRight,paddingBottom:I.keyValPaddingBottom,borderLeft:I.keyValBorderLeft+" "+t.objectBorder,":hover":{paddingLeft:n.paddingLeft-1+"px",borderLeft:I.keyValBorderHover+" "+t.objectBorder}},n)}},"object-key-val-no-border":{padding:I.keyValPadding},"pushed-content":{marginLeft:I.pushedContentMarginLeft},variableValue:function(e,t){return{style:s({display:"inline-block",paddingRight:I.variableValuePaddingRight,position:"relative"},t)}},"object-name":{display:"inline-block",color:t.keyColor,letterSpacing:I.keyLetterSpacing,fontStyle:I.keyFontStyle,verticalAlign:I.keyVerticalAlign,opacity:I.keyOpacity,":hover":{opacity:I.keyOpacityHover}},"array-key":{display:"inline-block",color:t.arrayKeyColor,letterSpacing:I.keyLetterSpacing,fontStyle:I.keyFontStyle,verticalAlign:I.keyVerticalAlign,opacity:I.keyOpacity,":hover":{opacity:I.keyOpacityHover}},"object-size":{color:t.objectSize,borderRadius:I.objectSizeBorderRadius,fontStyle:I.objectSizeFontStyle,margin:I.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:I.dataTypeFontSize,marginRight:I.dataTypeMarginRight,opacity:I.datatypeOpacity},boolean:{display:"inline-block",color:t.dataTypes.boolean},date:{display:"inline-block",color:t.dataTypes.date},"date-value":{marginLeft:I.dateValueMarginLeft},float:{display:"inline-block",color:t.dataTypes.float},function:{display:"inline-block",color:t.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:t.dataTypes.integer},string:{display:"inline-block",color:t.dataTypes.string},nan:{display:"inline-block",color:t.dataTypes.nan,fontSize:I.nanFontSize,fontWeight:I.nanFontWeight,backgroundColor:t.dataTypes.background,padding:I.nanPadding,borderRadius:I.nanBorderRadius},null:{display:"inline-block",color:t.dataTypes.null,fontSize:I.nullFontSize,fontWeight:I.nullFontWeight,backgroundColor:t.dataTypes.background,padding:I.nullPadding,borderRadius:I.nullBorderRadius},undefined:{display:"inline-block",color:t.dataTypes.undefined,fontSize:I.undefinedFontSize,padding:I.undefinedPadding,borderRadius:I.undefinedBorderRadius,backgroundColor:t.dataTypes.background},regexp:{display:"inline-block",color:t.dataTypes.regexp},"copy-to-clipboard":{cursor:I.clipboardCursor},"copy-icon":{color:t.copyToClipboard,fontSize:I.iconFontSize,marginRight:I.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:t.copyToClipboardCheck,marginLeft:I.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:I.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:I.metaDataPadding},"icon-container":{display:"inline-block",width:I.iconContainerWidth},tooltip:{padding:I.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.removeIcon,cursor:I.iconCursor,fontSize:I.iconFontSize,marginRight:I.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.addIcon,cursor:I.iconCursor,fontSize:I.iconFontSize,marginRight:I.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.editIcon,cursor:I.iconCursor,fontSize:I.iconFontSize,marginRight:I.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:I.iconCursor,color:t.editVariable.checkIcon,fontSize:I.iconFontSize,paddingRight:I.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:I.iconCursor,color:t.editVariable.cancelIcon,fontSize:I.iconFontSize,paddingRight:I.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:I.editInputMinWidth,borderRadius:I.editInputBorderRadius,backgroundColor:t.editVariable.background,color:t.editVariable.color,padding:I.editInputPadding,marginRight:I.editInputMarginRight,fontFamily:I.editInputFontFamily},"detected-row":{paddingTop:I.detectedRowPaddingTop},"key-modal-request":{position:I.addKeyCoverPosition,top:I.addKeyCoverPositionPx,left:I.addKeyCoverPositionPx,right:I.addKeyCoverPositionPx,bottom:I.addKeyCoverPositionPx,backgroundColor:I.addKeyCoverBackground},"key-modal":{width:I.addKeyModalWidth,backgroundColor:t.addKeyModal.background,marginLeft:I.addKeyModalMargin,marginRight:I.addKeyModalMargin,padding:I.addKeyModalPadding,borderRadius:I.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:t.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:t.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:t.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:t.addKeyModal.labelColor,fontSize:I.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:t.editVariable.addIcon,fontSize:I.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:t.ellipsisColor,fontSize:I.ellipsisFontSize,lineHeight:I.ellipsisLineHeight,cursor:I.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:t.validationFailure.fontColor,backgroundColor:t.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:t.validationFailure.iconColor,fontSize:I.iconFontSize,transform:"rotate(45deg)"}}};function A(e,t,n){return e||console.error("theme has not been set"),function(e){var t=S;return!1!==e&&"none"!==e||(t=C),Object(x.createStyling)(P,{defaultBase16:t})(e)}(e)(t,n)}var R=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=(e.rjvId,e.type_name),n=e.displayDataTypes,r=e.theme;return n?m.a.createElement("span",Object.assign({className:"data-type-label"},A(r,"data-type-label")),t):null}}]),n}(m.a.PureComponent),T=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props;return m.a.createElement("div",A(e.theme,"boolean"),m.a.createElement(R,Object.assign({type_name:"bool"},e)),e.value?"true":"false")}}]),n}(m.a.PureComponent),O=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props;return m.a.createElement("div",A(e.theme,"date"),m.a.createElement(R,Object.assign({type_name:"date"},e)),m.a.createElement("span",Object.assign({className:"date-value"},A(e.theme,"date-value")),e.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),n}(m.a.PureComponent),D=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props;return m.a.createElement("div",A(e.theme,"float"),m.a.createElement(R,Object.assign({type_name:"float"},e)),this.props.value)}}]),n}(m.a.PureComponent);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function j(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function L(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=n(46),z=new(n(47).Dispatcher),F=new(function(e){u(n,e);var t=g(n);function n(){var e;o(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).objects={},e.set=function(t,n,r,i){void 0===e.objects[t]&&(e.objects[t]={}),void 0===e.objects[t][n]&&(e.objects[t][n]={}),e.objects[t][n][r]=i},e.get=function(t,n,r,i){return void 0===e.objects[t]||void 0===e.objects[t][n]||null==e.objects[t][n][r]?i:e.objects[t][n][r]},e.handleAction=function(t){var n=t.rjvId,r=t.data;switch(t.name){case"RESET":e.emit("reset-"+n);break;case"VARIABLE_UPDATED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",s(s({},r),{},{type:"variable-edited"})),e.emit("variable-update-"+n);break;case"VARIABLE_REMOVED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",s(s({},r),{},{type:"variable-removed"})),e.emit("variable-update-"+n);break;case"VARIABLE_ADDED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",s(s({},r),{},{type:"variable-added"})),e.emit("variable-update-"+n);break;case"ADD_VARIABLE_KEY_REQUEST":e.set(n,"action","new-key-request",r),e.emit("add-key-request-"+n)}},e.updateSrc=function(t,n){var r=n.name,i=n.namespace,s=n.new_value,o=(n.existing_value,n.variable_removed);i.shift();var a,c=e.get(t,"global","src"),l=e.deepCopy(c,L(i)),u=l,d=j(i);try{for(d.s();!(a=d.n()).done;)u=u[a.value]}catch(e){d.e(e)}finally{d.f()}return o?"array"==_(u)?u.splice(r,1):delete u[r]:null!==r?u[r]=s:l=s,e.set(t,"global","src",l),l},e.deepCopy=function(t,n){var r,i=_(t),o=n.shift();return"array"==i?r=L(t):"object"==i&&(r=s({},t)),void 0!==o&&(r[o]=e.deepCopy(t[o],n)),r},e}return n}(B.EventEmitter));z.register(F.handleAction.bind(F));var U=F,W=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({collapsed:!r.state.collapsed},(function(){U.set(r.props.rjvId,r.props.namespace,"collapsed",r.state.collapsed)}))},r.getFunctionDisplay=function(e){var t=h(r).props;return e?m.a.createElement("span",null,r.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),m.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},m.a.createElement("span",null,"{"),m.a.createElement("span",A(t.theme,"ellipsis"),"..."),m.a.createElement("span",null,"}"))):r.props.value.toString().slice(9,-1)},r.state={collapsed:U.get(e.rjvId,e.namespace,"collapsed",!0)},r}return c(n,[{key:"render",value:function(){var e=this.props,t=this.state.collapsed;return m.a.createElement("div",A(e.theme,"function"),m.a.createElement(R,Object.assign({type_name:"function"},e)),m.a.createElement("span",Object.assign({},A(e.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(t)))}}]),n}(m.a.PureComponent),$=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){return m.a.createElement("div",A(this.props.theme,"nan"),"NaN")}}]),n}(m.a.PureComponent),q=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){return m.a.createElement("div",A(this.props.theme,"null"),"NULL")}}]),n}(m.a.PureComponent),H=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props;return m.a.createElement("div",A(e.theme,"integer"),m.a.createElement(R,Object.assign({type_name:"int"},e)),this.props.value)}}]),n}(m.a.PureComponent),K=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props;return m.a.createElement("div",A(e.theme,"regexp"),m.a.createElement(R,Object.assign({type_name:"regexp"},e)),this.props.value.toString())}}]),n}(m.a.PureComponent),V=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({collapsed:!r.state.collapsed},(function(){U.set(r.props.rjvId,r.props.namespace,"collapsed",r.state.collapsed)}))},r.state={collapsed:U.get(e.rjvId,e.namespace,"collapsed",!0)},r}return c(n,[{key:"render",value:function(){this.state.collapsed;var e=this.props,t=e.collapseStringsAfterLength,n=e.theme,r=e.value,i={style:{cursor:"default"}};return"integer"===_(t)&&r.length>t&&(i.style.cursor="pointer",this.state.collapsed&&(r=m.a.createElement("span",null,r.substring(0,t),m.a.createElement("span",A(n,"ellipsis")," ...")))),m.a.createElement("div",A(n,"string"),m.a.createElement(R,Object.assign({type_name:"string"},e)),m.a.createElement("span",Object.assign({className:"string-value"},i,{onClick:this.toggleCollapsed}),'"',r,'"'))}}]),n}(m.a.PureComponent),G=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){return m.a.createElement("div",A(this.props.theme,"undefined"),"undefined")}}]),n}(m.a.PureComponent);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Z=y.useLayoutEffect,Q=function(e){var t=Object(y.useRef)(e);return Z((function(){t.current=e})),t},Y=function(e,t){"function"!=typeof e?e.current=t:e(t)},J=function(e,t){var n=Object(y.useRef)();return Object(y.useCallback)((function(r){e.current=r,n.current&&Y(n.current,null),n.current=t,t&&Y(t,r)}),[t])},ee={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},te=function(e){Object.keys(ee).forEach((function(t){e.style.setProperty(t,ee[t],"important")}))},ne=null,re=function(){},ie=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],se=!!document.documentElement.currentStyle,oe=function(e,t){var n,r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=void 0===o?re:o,c=e.onHeightChange,l=void 0===c?re:c,u=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),d=void 0!==u.value,p=Object(y.useRef)(null),h=J(p,t),f=Object(y.useRef)(0),g=Object(y.useRef)(),m=function(){var e=p.current,t=r&&g.current?g.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,ie.reduce((function(e,t){return e[t]=n[t],e}),{})),i=r.boxSizing;return""===i?null:(se&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){g.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),ne||((ne=document.createElement("textarea")).setAttribute("tab-index","-1"),ne.setAttribute("aria-hidden","true"),te(ne)),null===ne.parentNode&&document.body.appendChild(ne);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach((function(e){var t=e;ne.style[t]=o[t]})),te(ne),ne.value=t;var c=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(ne,e);ne.value="x";var l=ne.scrollHeight-i,u=l*n;"border-box"===a&&(u=u+i+s),c=Math.max(u,c);var d=l*r;return"border-box"===a&&(d=d+i+s),[c=Math.min(d,c),l]}(t,e.value||e.placeholder||"x",s,i),o=n[0],a=n[1];f.current!==o&&(f.current=o,e.style.setProperty("height",o+"px","important"),l(o,{rowHeight:a}))}};return Object(y.useLayoutEffect)(m),n=Q(m),Object(y.useLayoutEffect)((function(){var e=function(e){n.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(y.createElement)("textarea",X({},u,{onChange:function(e){d||m(),a(e)},ref:h}))},ae=Object(y.forwardRef)(oe);function ce(e){e=e.trim();try{if("["===(e=JSON.stringify(JSON.parse(e)))[0])return le("array",JSON.parse(e));if("{"===e[0])return le("object",JSON.parse(e));if(e.match(/\-?\d+\.\d+/)&&e.match(/\-?\d+\.\d+/)[0]===e)return le("float",parseFloat(e));if(e.match(/\-?\d+e-\d+/)&&e.match(/\-?\d+e-\d+/)[0]===e)return le("float",Number(e));if(e.match(/\-?\d+/)&&e.match(/\-?\d+/)[0]===e)return le("integer",parseInt(e));if(e.match(/\-?\d+e\+\d+/)&&e.match(/\-?\d+e\+\d+/)[0]===e)return le("integer",Number(e))}catch(e){}switch(e=e.toLowerCase()){case"undefined":return le("undefined",void 0);case"nan":return le("nan",NaN);case"null":return le("null",null);case"true":return le("boolean",!0);case"false":return le("boolean",!1);default:if(e=Date.parse(e))return le("date",new Date(e))}return le(!1,null)}function le(e,t){return{type:e,value:t}}var ue=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),n}(m.a.PureComponent),de=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),n}(m.a.PureComponent),pe=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]),r=Ee(t).style;return m.a.createElement("span",n,m.a.createElement("svg",{fill:r.color,width:r.height,height:r.width,style:r,viewBox:"0 0 1792 1792"},m.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),n}(m.a.PureComponent),he=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]),r=Ee(t).style;return m.a.createElement("span",n,m.a.createElement("svg",{fill:r.color,width:r.height,height:r.width,style:r,viewBox:"0 0 1792 1792"},m.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),n}(m.a.PureComponent),fe=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",{style:s(s({},Ee(t).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},m.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),n}(m.a.PureComponent),ge=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",{style:s(s({},Ee(t).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},m.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),n}(m.a.PureComponent),ye=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),n}(m.a.PureComponent),me=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(m.a.PureComponent),be=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(m.a.PureComponent),ve=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),n}(m.a.PureComponent),we=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),n}(m.a.PureComponent),ke=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=E(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},Ee(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(m.a.PureComponent);function Ee(e){return e||(e={}),{style:s(s({verticalAlign:"middle"},e),{},{color:e.color?e.color:"#000000",height:"1em",width:"1em"})}}var _e=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).copiedTimer=null,r.handleCopy=function(){var e=document.createElement("textarea"),t=r.props,n=t.clickCallback,i=t.src,s=t.namespace;e.innerHTML=JSON.stringify(r.clipboardValue(i),null,"  "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),r.copiedTimer=setTimeout((function(){r.setState({copied:!1})}),5500),r.setState({copied:!0},(function(){"function"==typeof n&&n({src:i,namespace:s,name:s[s.length-1]})}))},r.getClippyIcon=function(){var e=r.props.theme;return r.state.copied?m.a.createElement("span",null,m.a.createElement(ye,Object.assign({className:"copy-icon"},A(e,"copy-icon"))),m.a.createElement("span",A(e,"copy-icon-copied"),"\u2714")):m.a.createElement(ye,Object.assign({className:"copy-icon"},A(e,"copy-icon")))},r.clipboardValue=function(e){switch(_(e)){case"function":case"regexp":return e.toString();default:return e}},r.state={copied:!1},r}return c(n,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var e=this.props,t=(e.src,e.theme),n=e.hidden,r=e.rowHovered,i=A(t,"copy-to-clipboard").style,o="inline";return n&&(o="none"),m.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:r?"inline-block":"none"}},m.a.createElement("span",{style:s(s({},i),{},{display:o}),onClick:this.handleCopy},this.getClippyIcon()))}}]),n}(m.a.PureComponent),Se=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).getEditIcon=function(){var e=r.props,t=e.variable,n=e.theme;return m.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:r.state.hovered?"inline-block":"none"}},m.a.createElement(we,Object.assign({className:"click-to-edit-icon"},A(n,"editVarIcon"),{onClick:function(){r.prepopInput(t)}})))},r.prepopInput=function(e){if(!1!==r.props.onEdit){var t=function(e){var t;switch(_(e)){case"undefined":t="undefined";break;case"nan":t="NaN";break;case"string":t=e;break;case"date":case"function":case"regexp":t=e.toString();break;default:try{t=JSON.stringify(e,null,"  ")}catch(e){t=""}}return t}(e.value),n=ce(t);r.setState({editMode:!0,editValue:t,parsedInput:{type:n.type,value:n.value}})}},r.getRemoveIcon=function(){var e=r.props,t=e.variable,n=e.namespace,i=e.theme,s=e.rjvId;return m.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:r.state.hovered?"inline-block":"none"}},m.a.createElement(me,Object.assign({className:"click-to-remove-icon"},A(i,"removeVarIcon"),{onClick:function(){z.dispatch({name:"VARIABLE_REMOVED",rjvId:s,data:{name:t.name,namespace:n,existing_value:t.value,variable_removed:!0}})}})))},r.getValue=function(e,t){var n=!t&&e.type,i=h(r).props;switch(n){case!1:return r.getEditInput();case"string":return m.a.createElement(V,Object.assign({value:e.value},i));case"integer":return m.a.createElement(H,Object.assign({value:e.value},i));case"float":return m.a.createElement(D,Object.assign({value:e.value},i));case"boolean":return m.a.createElement(T,Object.assign({value:e.value},i));case"function":return m.a.createElement(W,Object.assign({value:e.value},i));case"null":return m.a.createElement(q,i);case"nan":return m.a.createElement($,i);case"undefined":return m.a.createElement(G,i);case"date":return m.a.createElement(O,Object.assign({value:e.value},i));case"regexp":return m.a.createElement(K,Object.assign({value:e.value},i));default:return m.a.createElement("div",{className:"object-value"},JSON.stringify(e.value))}},r.getEditInput=function(){var e=r.props.theme,t=r.state.editValue;return m.a.createElement("div",null,m.a.createElement(ae,Object.assign({type:"text",inputRef:function(e){return e&&e.focus()},value:t,className:"variable-editor",onChange:function(e){var t=e.target.value,n=ce(t);r.setState({editValue:t,parsedInput:{type:n.type,value:n.value}})},onKeyDown:function(e){switch(e.key){case"Escape":r.setState({editMode:!1,editValue:""});break;case"Enter":(e.ctrlKey||e.metaKey)&&r.submitEdit(!0)}e.stopPropagation()},placeholder:"update this value",minRows:2},A(e,"edit-input"))),m.a.createElement("div",A(e,"edit-icon-container"),m.a.createElement(me,Object.assign({className:"edit-cancel"},A(e,"cancel-icon"),{onClick:function(){r.setState({editMode:!1,editValue:""})}})),m.a.createElement(ke,Object.assign({className:"edit-check string-value"},A(e,"check-icon"),{onClick:function(){r.submitEdit()}})),m.a.createElement("div",null,r.showDetected())))},r.submitEdit=function(e){var t=r.props,n=t.variable,i=t.namespace,s=t.rjvId,o=r.state,a=o.editValue,c=o.parsedInput,l=a;e&&c.type&&(l=c.value),r.setState({editMode:!1}),z.dispatch({name:"VARIABLE_UPDATED",rjvId:s,data:{name:n.name,namespace:i,existing_value:n.value,new_value:l,variable_removed:!1}})},r.showDetected=function(){var e=r.props,t=e.theme,n=(e.variable,e.namespace,e.rjvId,r.state.parsedInput),i=(n.type,n.value,r.getDetectedInput());if(i)return m.a.createElement("div",null,m.a.createElement("div",A(t,"detected-row"),i,m.a.createElement(ke,{className:"edit-check detected",style:s({verticalAlign:"top",paddingLeft:"3px"},A(t,"check-icon").style),onClick:function(){r.submitEdit(!0)}})))},r.getDetectedInput=function(){var e=r.state.parsedInput,t=e.type,n=e.value,i=h(r).props,o=i.theme;if(!1!==t)switch(t.toLowerCase()){case"object":return m.a.createElement("span",null,m.a.createElement("span",{style:s(s({},A(o,"brace").style),{},{cursor:"default"})},"{"),m.a.createElement("span",{style:s(s({},A(o,"ellipsis").style),{},{cursor:"default"})},"..."),m.a.createElement("span",{style:s(s({},A(o,"brace").style),{},{cursor:"default"})},"}"));case"array":return m.a.createElement("span",null,m.a.createElement("span",{style:s(s({},A(o,"brace").style),{},{cursor:"default"})},"["),m.a.createElement("span",{style:s(s({},A(o,"ellipsis").style),{},{cursor:"default"})},"..."),m.a.createElement("span",{style:s(s({},A(o,"brace").style),{},{cursor:"default"})},"]"));case"string":return m.a.createElement(V,Object.assign({value:n},i));case"integer":return m.a.createElement(H,Object.assign({value:n},i));case"float":return m.a.createElement(D,Object.assign({value:n},i));case"boolean":return m.a.createElement(T,Object.assign({value:n},i));case"function":return m.a.createElement(W,Object.assign({value:n},i));case"null":return m.a.createElement(q,i);case"nan":return m.a.createElement($,i);case"undefined":return m.a.createElement(G,i);case"date":return m.a.createElement(O,Object.assign({value:new Date(n)},i))}},r.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},r}return c(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.variable,r=t.singleIndent,i=t.type,o=t.theme,a=t.namespace,c=t.indentWidth,l=t.enableClipboard,u=t.onEdit,d=t.onDelete,p=t.onSelect,h=t.displayArrayKey,f=t.quotesOnKeys,g=this.state.editMode;return m.a.createElement("div",Object.assign({},A(o,"objectKeyVal",{paddingLeft:c*r}),{onMouseEnter:function(){return e.setState(s(s({},e.state),{},{hovered:!0}))},onMouseLeave:function(){return e.setState(s(s({},e.state),{},{hovered:!1}))},className:"variable-row",key:n.name}),"array"==i?h?m.a.createElement("span",Object.assign({},A(o,"array-key"),{key:n.name+"_"+a}),n.name,m.a.createElement("div",A(o,"colon"),":")):null:m.a.createElement("span",null,m.a.createElement("span",Object.assign({},A(o,"object-name"),{className:"object-key",key:n.name+"_"+a}),!!f&&m.a.createElement("span",{style:{verticalAlign:"top"}},'"'),m.a.createElement("span",{style:{display:"inline-block"}},n.name),!!f&&m.a.createElement("span",{style:{verticalAlign:"top"}},'"')),m.a.createElement("span",A(o,"colon"),":")),m.a.createElement("div",Object.assign({className:"variable-value",onClick:!1===p&&!1===u?null:function(t){var r=L(a);(t.ctrlKey||t.metaKey)&&!1!==u?e.prepopInput(n):!1!==p&&(r.shift(),p(s(s({},n),{},{namespace:r})))}},A(o,"variableValue",{cursor:!1===p?"default":"pointer"})),this.getValue(n,g)),l?m.a.createElement(_e,{rowHovered:this.state.hovered,hidden:g,src:n.value,clickCallback:l,theme:o,namespace:[].concat(L(a),[n.name])}):null,!1!==u&&0==g?this.getEditIcon():null,!1!==d&&0==g?this.getRemoveIcon():null)}}]),n}(m.a.PureComponent),Ce=function(e){u(n,e);var t=g(n);function n(){var e;o(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).getObjectSize=function(){var t=e.props,n=t.size,r=t.theme;if(t.displayObjectSize)return m.a.createElement("span",Object.assign({className:"object-size"},A(r,"object-size")),n," item",1===n?"":"s")},e.getAddAttribute=function(t){var n=e.props,r=n.theme,i=n.namespace,o=n.name,a=n.src,c=n.rjvId,l=n.depth;return m.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:t?"inline-block":"none"}},m.a.createElement(be,Object.assign({className:"click-to-add-icon"},A(r,"addVarIcon"),{onClick:function(){var e={name:l>0?o:null,namespace:i.splice(0,i.length-1),existing_value:a,variable_removed:!1,key_name:null};"object"===_(a)?z.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:c,data:e}):z.dispatch({name:"VARIABLE_ADDED",rjvId:c,data:s(s({},e),{},{new_value:[].concat(L(a),[null])})})}})))},e.getRemoveObject=function(t){var n=e.props,r=n.theme,i=(n.hover,n.namespace),s=n.name,o=n.src,a=n.rjvId;if(1!==i.length)return m.a.createElement("span",{className:"click-to-remove",style:{display:t?"inline-block":"none"}},m.a.createElement(me,Object.assign({className:"click-to-remove-icon"},A(r,"removeVarIcon"),{onClick:function(){z.dispatch({name:"VARIABLE_REMOVED",rjvId:a,data:{name:s,namespace:i.splice(0,i.length-1),existing_value:o,variable_removed:!0}})}})))},e.render=function(){var t=e.props,n=t.theme,r=t.onDelete,i=t.onAdd,s=t.enableClipboard,o=t.src,a=t.namespace,c=t.rowHovered;return m.a.createElement("div",Object.assign({},A(n,"object-meta-data"),{className:"object-meta-data",onClick:function(e){e.stopPropagation()}}),e.getObjectSize(),s?m.a.createElement(_e,{rowHovered:c,clickCallback:s,src:o,theme:n,namespace:a}):null,!1!==i?e.getAddAttribute(c):null,!1!==r?e.getRemoveObject(c):null)},e}return n}(m.a.PureComponent);function Ie(e){var t=e.parent_type,n=e.namespace,r=e.quotesOnKeys,i=e.theme,s=e.jsvRoot,o=e.name,a=e.displayArrayKey,c=e.name?e.name:"";return!s||!1!==o&&null!==o?"array"==t?a?m.a.createElement("span",Object.assign({},A(i,"array-key"),{key:n}),m.a.createElement("span",{className:"array-key"},c),m.a.createElement("span",A(i,"colon"),":")):m.a.createElement("span",null):m.a.createElement("span",Object.assign({},A(i,"object-name"),{key:n}),m.a.createElement("span",{className:"object-key"},r&&m.a.createElement("span",{style:{verticalAlign:"top"}},'"'),m.a.createElement("span",null,c),r&&m.a.createElement("span",{style:{verticalAlign:"top"}},'"')),m.a.createElement("span",A(i,"colon"),":")):m.a.createElement("span",null)}function xe(e){var t=e.theme;switch(e.iconStyle){case"triangle":return m.a.createElement(ge,Object.assign({},A(t,"expanded-icon"),{className:"expanded-icon"}));case"square":return m.a.createElement(pe,Object.assign({},A(t,"expanded-icon"),{className:"expanded-icon"}));default:return m.a.createElement(ue,Object.assign({},A(t,"expanded-icon"),{className:"expanded-icon"}))}}function Pe(e){var t=e.theme;switch(e.iconStyle){case"triangle":return m.a.createElement(fe,Object.assign({},A(t,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return m.a.createElement(he,Object.assign({},A(t,"collapsed-icon"),{className:"collapsed-icon"}));default:return m.a.createElement(de,Object.assign({},A(t,"collapsed-icon"),{className:"collapsed-icon"}))}}var Ae=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).toggleCollapsed=function(e){var t=[];for(var n in r.state.expanded)t.push(r.state.expanded[n]);t[e]=!t[e],r.setState({expanded:t})},r.state={expanded:[]},r}return c(n,[{key:"getExpandedIcon",value:function(e){var t=this.props,n=t.theme,r=t.iconStyle;return this.state.expanded[e]?m.a.createElement(xe,{theme:n,iconStyle:r}):m.a.createElement(Pe,{theme:n,iconStyle:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.src,r=t.groupArraysAfterLength,i=(t.depth,t.name),s=t.theme,o=t.jsvRoot,a=t.namespace,c=(t.parent_type,E(t,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),l=0,u=5*this.props.indentWidth;o||(l=5*this.props.indentWidth);var d=r,p=Math.ceil(n.length/d);return m.a.createElement("div",Object.assign({className:"object-key-val"},A(s,o?"jsv-root":"objectKeyVal",{paddingLeft:l})),m.a.createElement(Ie,this.props),m.a.createElement("span",null,m.a.createElement(Ce,Object.assign({size:n.length},this.props))),L(Array(p)).map((function(t,r){return m.a.createElement("div",Object.assign({key:r,className:"object-key-val array-group"},A(s,"objectKeyVal",{marginLeft:6,paddingLeft:u})),m.a.createElement("span",A(s,"brace-row"),m.a.createElement("div",Object.assign({className:"icon-container"},A(s,"icon-container"),{onClick:function(t){e.toggleCollapsed(r)}}),e.getExpandedIcon(r)),e.state.expanded[r]?m.a.createElement(Oe,Object.assign({key:i+r,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:d,index_offset:r*d,src:n.slice(r*d,r*d+d),namespace:a,type:"array",parent_type:"array_group",theme:s},c)):m.a.createElement("span",Object.assign({},A(s,"brace"),{onClick:function(t){e.toggleCollapsed(r)},className:"array-group-brace"}),"[",m.a.createElement("div",Object.assign({},A(s,"array-group-meta-data"),{className:"array-group-meta-data"}),m.a.createElement("span",Object.assign({className:"object-size"},A(s,"object-size")),r*d," - ",r*d+d>n.length?n.length:r*d+d)),"]")))})))}}]),n}(m.a.PureComponent),Re=function(e){u(n,e);var t=g(n);function n(e){var r;o(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({expanded:!r.state.expanded},(function(){U.set(r.props.rjvId,r.props.namespace,"expanded",r.state.expanded)}))},r.getObjectContent=function(e,t,n){return m.a.createElement("div",{className:"pushed-content object-container"},m.a.createElement("div",Object.assign({className:"object-content"},A(r.props.theme,"pushed-content")),r.renderObjectContents(t,n)))},r.getEllipsis=function(){return 0===r.state.size?null:m.a.createElement("div",Object.assign({},A(r.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:r.toggleCollapsed}),"...")},r.getObjectMetaData=function(e){var t=r.props,n=(t.rjvId,t.theme,r.state),i=n.size,s=n.hovered;return m.a.createElement(Ce,Object.assign({rowHovered:s,size:i},r.props))},r.renderObjectContents=function(e,t){var n,i=r.props,s=i.depth,o=i.parent_type,a=i.index_offset,c=i.groupArraysAfterLength,l=i.namespace,u=r.state.object_type,d=[],p=Object.keys(e||{});return r.props.sortKeys&&"array"!==u&&(p=p.sort()),p.forEach((function(i){if(n=new Te(i,e[i]),"array_group"===o&&a&&(n.name=parseInt(n.name)+a),e.hasOwnProperty(i))if("object"===n.type)d.push(m.a.createElement(Oe,Object.assign({key:n.name,depth:s+1,name:n.name,src:n.value,namespace:l.concat(n.name),parent_type:u},t)));else if("array"===n.type){var p=Oe;c&&n.value.length>c&&(p=Ae),d.push(m.a.createElement(p,Object.assign({key:n.name,depth:s+1,name:n.name,src:n.value,namespace:l.concat(n.name),type:"array",parent_type:u},t)))}else d.push(m.a.createElement(Se,Object.assign({key:n.name+"_"+l,variable:n,singleIndent:5,namespace:l,type:r.props.type},t)))})),d};var i=n.getState(e);return r.state=s(s({},i),{},{prevProps:{}}),r}return c(n,[{key:"getBraceStart",value:function(e,t){var n=this,r=this.props,i=r.src,s=r.theme,o=r.iconStyle;if("array_group"===r.parent_type)return m.a.createElement("span",null,m.a.createElement("span",A(s,"brace"),"array"===e?"[":"{"),t?this.getObjectMetaData(i):null);var a=t?xe:Pe;return m.a.createElement("span",null,m.a.createElement("span",Object.assign({onClick:function(e){n.toggleCollapsed()}},A(s,"brace-row")),m.a.createElement("div",Object.assign({className:"icon-container"},A(s,"icon-container")),m.a.createElement(a,{theme:s,iconStyle:o})),m.a.createElement(Ie,this.props),m.a.createElement("span",A(s,"brace"),"array"===e?"[":"{")),t?this.getObjectMetaData(i):null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.depth,r=t.src,i=(t.namespace,t.name,t.type,t.parent_type),o=t.theme,a=t.jsvRoot,c=t.iconStyle,l=E(t,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),u=this.state,d=u.object_type,p=u.expanded,h={};return a||"array_group"===i?"array_group"===i&&(h.borderLeft=0,h.display="inline"):h.paddingLeft=5*this.props.indentWidth,m.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return e.setState(s(s({},e.state),{},{hovered:!0}))},onMouseLeave:function(){return e.setState(s(s({},e.state),{},{hovered:!1}))}},A(o,a?"jsv-root":"objectKeyVal",h)),this.getBraceStart(d,p),p?this.getObjectContent(n,r,s({theme:o,iconStyle:c},l)):this.getEllipsis(),m.a.createElement("span",{className:"brace-row"},m.a.createElement("span",{style:s(s({},A(o,"brace").style),{},{paddingLeft:p?"3px":"0px"})},"array"===d?"]":"}"),p?null:this.getObjectMetaData(r)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevProps;return e.src!==r.src||e.collapsed!==r.collapsed||e.name!==r.name||e.namespace!==r.namespace||e.rjvId!==r.rjvId?s(s({},n.getState(e)),{},{prevProps:e}):null}}]),n}(m.a.PureComponent);Re.getState=function(e){var t=Object.keys(e.src).length,n=(!1===e.collapsed||!0!==e.collapsed&&e.collapsed>e.depth)&&(!e.shouldCollapse||!1===e.shouldCollapse({name:e.name,src:e.src,type:_(e.src),namespace:e.namespace}))&&0!==t;return{expanded:U.get(e.rjvId,e.namespace,"expanded",n),object_type:"array"===e.type?"array":"object",parent_type:"array"===e.type?"array":"object",size:t,hovered:!1}};var Te=function e(t,n){o(this,e),this.name=t,this.value=n,this.type=_(n)};k(Re);var Oe=Re,De=function(e){u(n,e);var t=g(n);function n(){var e;o(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).render=function(){var t=h(e).props,n=[t.name],r=Oe;return Array.isArray(t.src)&&t.groupArraysAfterLength&&t.src.length>t.groupArraysAfterLength&&(r=Ae),m.a.createElement("div",{className:"pretty-json-container object-container"},m.a.createElement("div",{className:"object-content"},m.a.createElement(r,Object.assign({namespace:n,depth:0,jsvRoot:!0},t))))},e}return n}(m.a.PureComponent),Me=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).closeModal=function(){z.dispatch({rjvId:r.props.rjvId,name:"RESET"})},r.submit=function(){r.props.submit(r.state.input)},r.state={input:e.input?e.input:""},r}return c(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.rjvId,i=t.isValid,s=this.state.input,o=i(s);return m.a.createElement("div",Object.assign({className:"key-modal-request"},A(n,"key-modal-request"),{onClick:this.closeModal}),m.a.createElement("div",Object.assign({},A(n,"key-modal"),{onClick:function(e){e.stopPropagation()}}),m.a.createElement("div",A(n,"key-modal-label"),"Key Name:"),m.a.createElement("div",{style:{position:"relative"}},m.a.createElement("input",Object.assign({},A(n,"key-modal-input"),{className:"key-modal-input",ref:function(e){return e&&e.focus()},spellCheck:!1,value:s,placeholder:"...",onChange:function(t){e.setState({input:t.target.value})},onKeyPress:function(t){o&&"Enter"===t.key?e.submit():"Escape"===t.key&&e.closeModal()}})),o?m.a.createElement(ke,Object.assign({},A(n,"key-modal-submit"),{className:"key-modal-submit",onClick:function(t){return e.submit()}})):null),m.a.createElement("span",A(n,"key-modal-cancel"),m.a.createElement(ve,Object.assign({},A(n,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){z.dispatch({rjvId:r,name:"RESET"})}})))))}}]),n}(m.a.PureComponent),Ne=function(e){u(n,e);var t=g(n);function n(){var e;o(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).isValid=function(t){var n=e.props.rjvId,r=U.get(n,"action","new-key-request");return""!=t&&-1===Object.keys(r.existing_value).indexOf(t)},e.submit=function(t){var n=e.props.rjvId,r=U.get(n,"action","new-key-request");r.new_value=s({},r.existing_value),r.new_value[t]=e.props.defaultValue,z.dispatch({name:"VARIABLE_ADDED",rjvId:n,data:r})},e}return c(n,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.theme,r=e.rjvId;return t?m.a.createElement(Me,{rjvId:r,theme:n,isValid:this.isValid,submit:this.submit}):null}}]),n}(m.a.PureComponent),je=function(e){u(n,e);var t=g(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.active,r=e.theme,i=e.rjvId;return n?m.a.createElement("div",Object.assign({className:"validation-failure"},A(r,"validation-failure"),{onClick:function(){z.dispatch({rjvId:i,name:"RESET"})}}),m.a.createElement("span",A(r,"validation-failure-label"),t),m.a.createElement(ve,A(r,"validation-failure-clear"))):null}}]),n}(m.a.PureComponent),Le=function(e){u(n,e);var t=g(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).rjvId=Date.now().toString(),r.getListeners=function(){return{reset:r.resetState,"variable-update":r.updateSrc,"add-key-request":r.addKeyRequest}},r.updateSrc=function(){var e,t=U.get(r.rjvId,"action","variable-update"),n=t.name,i=t.namespace,s=t.new_value,o=t.existing_value,a=(t.variable_removed,t.updated_src),c=t.type,l=r.props,u=l.onEdit,d=l.onDelete,p=l.onAdd,h={existing_src:r.state.src,new_value:s,updated_src:a,name:n,namespace:i,existing_value:o};switch(c){case"variable-added":e=p(h);break;case"variable-edited":e=u(h);break;case"variable-removed":e=d(h)}!1!==e?(U.set(r.rjvId,"global","src",a),r.setState({src:a})):r.setState({validationFailure:!0})},r.addKeyRequest=function(){r.setState({addKeyRequest:!0})},r.resetState=function(){r.setState({validationFailure:!1,addKeyRequest:!1})},r.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:n.defaultProps.src,name:n.defaultProps.name,theme:n.defaultProps.theme,validationMessage:n.defaultProps.validationMessage,prevSrc:n.defaultProps.src,prevName:n.defaultProps.name,prevTheme:n.defaultProps.theme},r}return c(n,[{key:"componentDidMount",value:function(){U.set(this.rjvId,"global","src",this.state.src);var e=this.getListeners();for(var t in e)U.on(t+"-"+this.rjvId,e[t]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(e,t){!1!==t.addKeyRequest&&this.setState({addKeyRequest:!1}),!1!==t.editKeyRequest&&this.setState({editKeyRequest:!1}),e.src!==this.state.src&&U.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var e=this.getListeners();for(var t in e)U.removeListener(t+"-"+this.rjvId,e[t])}},{key:"render",value:function(){var e=this.state,t=e.validationFailure,n=e.validationMessage,r=e.addKeyRequest,i=e.theme,o=e.src,a=e.name,c=this.props,l=c.style,u=c.defaultValue;return m.a.createElement("div",{className:"react-json-view",style:s(s({},A(i,"app-container").style),l)},m.a.createElement(je,{message:n,active:t,theme:i,rjvId:this.rjvId}),m.a.createElement(De,Object.assign({},this.props,{src:o,name:a,theme:i,type:_(o),rjvId:this.rjvId})),m.a.createElement(Ne,{active:r,theme:i,rjvId:this.rjvId,defaultValue:u}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.src!==t.prevSrc||e.name!==t.prevName||e.theme!==t.prevTheme){var r={src:e.src,name:e.name,theme:e.theme,validationMessage:e.validationMessage,prevSrc:e.src,prevName:e.name,prevTheme:e.theme};return n.validateState(r)}return null}}]),n}(m.a.PureComponent);Le.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},Le.validateState=function(e){var t={};return"object"!==_(e.theme)||function(e){var t=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if("object"===_(e)){for(var n=0;n<t.length;n++)if(!(t[n]in e))return!1;return!0}return!1}(e.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),t.theme="rjv-default"),"object"!==_(e.src)&&"array"!==_(e.src)&&(console.error("react-json-view error:","src property must be a valid json object"),t.name="ERROR",t.src={message:"src property must be a valid json object"}),s(s({},e),t)},k(Le),t.default=Le}]))},94701:(e,t)=>{"use strict";var n=function(e,t,n,r){return"boolean"==typeof e?e:"function"==typeof e?e(t,n,r):!(!0!==!!e)&&!!e},r=function(e,t){return Object.hasOwnProperty.call(e,t)},i=function(e,t,n,r){return r?new Error(r):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+n+"`.")};t.Z=function(e,t,s){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,s),function(o,a,c){for(var l=arguments.length,u=Array(3<l?l-3:0),d=3;d<l;d++)u[d-3]=arguments[d];return n(t,o,a,c)?r(o,a)?e.apply(void 0,[o,a,c].concat(u)):i(o,a,c,s):e.apply(void 0,[o,a,c].concat(u))}}},22949:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=n(94578),i=n(42468),s=n(48731),o=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!s.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}(0,r.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setFocused(e):n.onFocus()}))},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach((function(e){e()}))},n.isFocused=function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(i.l))},8408:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>r.S});var r=n(83500),i=n(84835);n.o(i,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return i.QueryClientProvider}}),n.o(i,"useQuery")&&n.d(t,{useQuery:function(){return i.useQuery}})},93832:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,j:()=>i});var r=console;function i(){return r}function s(e){r=e}},31213:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var r=n(48731),i=new(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,r.A4)((function(){t.notifyFn(e)}))},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.schedule((function(){e.apply(void 0,r)}))}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,r.A4)((function(){e.batchNotifyFn((function(){t.forEach((function(t){e.notifyFn(t)}))}))}))},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}())},43439:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(94578),i=n(42468),s=n(48731),o=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!s.sk&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}(0,r.Z)(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setOnline(e):n.onOnline()}))},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach((function(e){e()}))},n.isOnline=function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine},t}(i.l))},83500:(e,t,n)=>{"use strict";n.d(t,{S:()=>b});var r=n(87462),i=n(48731),s=n(94578),o=n(31213),a=n(93832),c=n(73673),l=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,r.Z)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,i.PN)(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){e.optionalRemove()}),this.cacheTime))},t.clearGcTimeout=function(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var n,r,s=this.state.data,o=(0,i.SE)(e,s);return(null==(n=(r=this.options).isDataEqual)?void 0:n.call(r,s,o))?o=s:!1!==this.options.structuralSharing&&(o=(0,i.Q$)(s,o)),this.dispatch({data:o,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),o},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(i.ZT).catch(i.ZT):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some((function(e){return!1!==e.options.enabled}))},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,i.Kp)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var n,r,s,o=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var l;return null==(l=this.retryer)||l.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var u=this.observers.find((function(e){return e.options.queryFn}));u&&this.setOptions(u.options)}var d=(0,i.mc)(this.queryKey),p=(0,i.G9)(),h={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:function(){if(p)return o.abortSignalConsumed=!0,p.signal}});var f,g,y={fetchOptions:t,options:this.options,queryKey:d,state:this.state,fetchFn:function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(h)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(n=this.options.behavior)?void 0:n.onFetch)&&(null==(f=this.options.behavior)||f.onFetch(y));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(r=y.fetchOptions)?void 0:r.meta))||this.dispatch({type:"fetch",meta:null==(g=y.fetchOptions)?void 0:g.meta});return this.retryer=new c.m4({fn:y.fetchFn,abort:null==p||null==(s=p.abort)?void 0:s.bind(p),onSuccess:function(e){o.setData(e),null==o.cache.config.onSuccess||o.cache.config.onSuccess(e,o),0===o.cacheTime&&o.optionalRemove()},onError:function(e){(0,c.DV)(e)&&e.silent||o.dispatch({type:"error",error:e}),(0,c.DV)(e)||(null==o.cache.config.onError||o.cache.config.onError(e,o),(0,a.j)().error(e)),0===o.cacheTime&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),o.V.batch((function(){t.observers.forEach((function(t){t.onQueryUpdate(e)})),t.cache.notify({query:t,type:"queryUpdated",action:e})}))},t.getDefaultState=function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof e.initialData?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,r="undefined"!==typeof t;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:r?"success":"idle"}},t.reducer=function(e,t){var n,i;switch(t.type){case"failed":return(0,r.Z)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,r.Z)({},e,{isPaused:!0});case"continue":return(0,r.Z)({},e,{isPaused:!1});case"fetch":return(0,r.Z)({},e,{fetchFailureCount:0,fetchMeta:null!=(n=t.meta)?n:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,r.Z)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(i=t.dataUpdatedAt)?i:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var s=t.error;return(0,c.DV)(s)&&s.revert&&this.revertState?(0,r.Z)({},this.revertState):(0,r.Z)({},e,{error:s,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,r.Z)({},e,{isInvalidated:!0});case"setState":return(0,r.Z)({},e,t.state);default:return e}},e}(),u=n(42468),d=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}(0,s.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r,s=t.queryKey,o=null!=(r=t.queryHash)?r:(0,i.Rm)(s,t),a=this.get(o);return a||(a=new l({cache:this,queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s),meta:t.meta}),this.add(a)),a},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;o.V.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=(0,i.I6)(e,t)[0];return"undefined"===typeof n.exact&&(n.exact=!0),this.queries.find((function(e){return(0,i._x)(n,e)}))},n.findAll=function(e,t){var n=(0,i.I6)(e,t)[0];return Object.keys(n).length>0?this.queries.filter((function(e){return(0,i._x)(n,e)})):this.queries},n.notify=function(e){var t=this;o.V.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){var e=this;o.V.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))},n.onOnline=function(){var e=this;o.V.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))},t}(u.l),p=function(){function e(e){this.options=(0,r.Z)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter((function(t){return t!==e}))},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(i.ZT).catch(i.ZT)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,n="loading"===this.state.status,r=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then((function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)})).then((function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)})).then((function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})}))),r.then((function(){return t.executeMutation()})).then((function(n){e=n,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)})).then((function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)})).then((function(){return t.dispatch({type:"success",data:e}),e})).catch((function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,a.j)().error(e),Promise.resolve().then((function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)})).then((function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)})).then((function(){throw t.dispatch({type:"error",error:e}),e}))}))},t.executeMutation=function(){var e,t=this;return this.retryer=new c.m4({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,r.Z)({},e,{failureCount:e.failureCount+1});case"pause":return(0,r.Z)({},e,{isPaused:!0});case"continue":return(0,r.Z)({},e,{isPaused:!1});case"loading":return(0,r.Z)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,r.Z)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,r.Z)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,r.Z)({},e,t.state);default:return e}}(this.state,e),o.V.batch((function(){t.observers.forEach((function(t){t.onMutationUpdate(e)})),t.mutationCache.notify(t)}))},e}();var h=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}(0,s.Z)(t,e);var n=t.prototype;return n.build=function(e,t,n){var r=new p({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(r),r},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),e.cancel(),this.notify(e)},n.clear=function(){var e=this;o.V.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))},n.getAll=function(){return this.mutations},n.find=function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find((function(t){return(0,i.X7)(e,t)}))},n.findAll=function(e){return this.mutations.filter((function(t){return(0,i.X7)(e,t)}))},n.notify=function(e){var t=this;o.V.batch((function(){t.listeners.forEach((function(t){t(e)}))}))},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter((function(e){return e.state.isPaused}));return o.V.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(i.ZT)}))}),Promise.resolve())}))},t}(u.l),f=n(22949),g=n(43439);function y(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function m(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var b=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new d,this.mutationCache=e.mutationCache||new h,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=f.j.subscribe((function(){f.j.isFocused()&&g.N.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())})),this.unsubscribeOnline=g.N.subscribe((function(){f.j.isFocused()&&g.N.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())}))},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var n=(0,i.I6)(e,t)[0];return n.fetching=!0,this.queryCache.findAll(n).length},t.isMutating=function(e){return this.mutationCache.findAll((0,r.Z)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))},t.setQueryData=function(e,t,n){var r=(0,i._v)(e),s=this.defaultQueryOptions(r);return this.queryCache.build(this,s).setData(t,n)},t.setQueriesData=function(e,t,n){var r=this;return o.V.batch((function(){return r.getQueryCache().findAll(e).map((function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]}))}))},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=(0,i.I6)(e,t)[0],r=this.queryCache;o.V.batch((function(){r.findAll(n).forEach((function(e){r.remove(e)}))}))},t.resetQueries=function(e,t,n){var s=this,a=(0,i.I6)(e,t,n),c=a[0],l=a[1],u=this.queryCache,d=(0,r.Z)({},c,{active:!0});return o.V.batch((function(){return u.findAll(c).forEach((function(e){e.reset()})),s.refetchQueries(d,l)}))},t.cancelQueries=function(e,t,n){var r=this,s=(0,i.I6)(e,t,n),a=s[0],c=s[1],l=void 0===c?{}:c;"undefined"===typeof l.revert&&(l.revert=!0);var u=o.V.batch((function(){return r.queryCache.findAll(a).map((function(e){return e.cancel(l)}))}));return Promise.all(u).then(i.ZT).catch(i.ZT)},t.invalidateQueries=function(e,t,n){var s,a,c,l=this,u=(0,i.I6)(e,t,n),d=u[0],p=u[1],h=(0,r.Z)({},d,{active:null==(s=null!=(a=d.refetchActive)?a:d.active)||s,inactive:null!=(c=d.refetchInactive)&&c});return o.V.batch((function(){return l.queryCache.findAll(d).forEach((function(e){e.invalidate()})),l.refetchQueries(h,p)}))},t.refetchQueries=function(e,t,n){var s=this,a=(0,i.I6)(e,t,n),c=a[0],l=a[1],u=o.V.batch((function(){return s.queryCache.findAll(c).map((function(e){return e.fetch(void 0,(0,r.Z)({},l,{meta:{refetchPage:null==c?void 0:c.refetchPage}}))}))})),d=Promise.all(u).then(i.ZT);return(null==l?void 0:l.throwOnError)||(d=d.catch(i.ZT)),d},t.fetchQuery=function(e,t,n){var r=(0,i._v)(e,t,n),s=this.defaultQueryOptions(r);"undefined"===typeof s.retry&&(s.retry=!1);var o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(i.ZT).catch(i.ZT)},t.fetchInfiniteQuery=function(e,t,n){var r=(0,i._v)(e,t,n);return r.behavior={onFetch:function(e){e.fetchFn=function(){var t,n,r,s,o,a,l,u=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,d=null==(r=e.fetchOptions)||null==(s=r.meta)?void 0:s.fetchMore,p=null==d?void 0:d.pageParam,h="forward"===(null==d?void 0:d.direction),f="backward"===(null==d?void 0:d.direction),g=(null==(o=e.state.data)?void 0:o.pages)||[],b=(null==(a=e.state.data)?void 0:a.pageParams)||[],v=(0,i.G9)(),w=null==v?void 0:v.signal,k=b,E=!1,_=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(e,t,n,r){return k=r?[t].concat(k):[].concat(k,[t]),r?[n].concat(e):[].concat(e,[n])},C=function(t,n,r,i){if(E)return Promise.reject("Cancelled");if("undefined"===typeof r&&!n&&t.length)return Promise.resolve(t);var s={queryKey:e.queryKey,signal:w,pageParam:r,meta:e.meta},o=_(s),a=Promise.resolve(o).then((function(e){return S(t,r,e,i)}));return(0,c.LE)(o)&&(a.cancel=o.cancel),a};if(g.length)if(h){var I="undefined"!==typeof p,x=I?p:y(e.options,g);l=C(g,I,x)}else if(f){var P="undefined"!==typeof p,A=P?p:m(e.options,g);l=C(g,P,A,!0)}else!function(){k=[];var t="undefined"===typeof e.options.getNextPageParam,n=!u||!g[0]||u(g[0],0,g);l=n?C([],t,b[0]):Promise.resolve(S([],b[0],g[0]));for(var r=function(n){l=l.then((function(r){if(!u||!g[n]||u(g[n],n,g)){var i=t?b[n]:y(e.options,r);return C(r,t,i)}return Promise.resolve(S(r,b[n],g[n]))}))},i=1;i<g.length;i++)r(i)}();else l=C([]);var R=l.then((function(e){return{pages:e,pageParams:k}}));return R.cancel=function(){E=!0,null==v||v.abort(),(0,c.LE)(l)&&l.cancel()},R}}},this.fetchQuery(r)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(i.ZT).catch(i.ZT)},t.cancelMutations=function(){var e=this,t=o.V.batch((function(){return e.mutationCache.getAll().map((function(e){return e.cancel()}))}));return Promise.all(t).then(i.ZT).catch(i.ZT)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find((function(t){return(0,i.yF)(e)===(0,i.yF)(t.queryKey)}));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find((function(t){return(0,i.to)(e,t.queryKey)})))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find((function(t){return(0,i.yF)(e)===(0,i.yF)(t.mutationKey)}));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find((function(t){return(0,i.to)(e,t.mutationKey)})))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,r.Z)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,i.Rm)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,r.Z)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},73673:(e,t,n)=>{"use strict";n.d(t,{DV:()=>l,LE:()=>a,m4:()=>u});var r=n(22949),i=n(43439),s=n(48731);function o(e){return Math.min(1e3*Math.pow(2,e),3e4)}function a(e){return"function"===typeof(null==e?void 0:e.cancel)}var c=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function l(e){return e instanceof c}var u=function(e){var t,n,l,u,d=this,p=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){p=!0},this.continueRetry=function(){p=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise((function(e,t){l=e,u=t}));var h=function(t){d.isResolved||(d.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==n||n(),l(t))},f=function(t){d.isResolved||(d.isResolved=!0,null==e.onError||e.onError(t),null==n||n(),u(t))};!function l(){if(!d.isResolved){var u;try{u=e.fn()}catch(g){u=Promise.reject(g)}t=function(e){if(!d.isResolved&&(f(new c(e)),null==d.abort||d.abort(),a(u)))try{u.cancel()}catch(t){}},d.isTransportCancelable=a(u),Promise.resolve(u).then(h).catch((function(t){var a,c;if(!d.isResolved){var u=null!=(a=e.retry)?a:3,h=null!=(c=e.retryDelay)?c:o,g="function"===typeof h?h(d.failureCount,t):h,y=!0===u||"number"===typeof u&&d.failureCount<u||"function"===typeof u&&u(d.failureCount,t);!p&&y?(d.failureCount++,null==e.onFail||e.onFail(d.failureCount,t),(0,s.Gh)(g).then((function(){if(!r.j.isFocused()||!i.N.isOnline())return new Promise((function(t){n=t,d.isPaused=!0,null==e.onPause||e.onPause()})).then((function(){n=void 0,d.isPaused=!1,null==e.onContinue||e.onContinue()}))})).then((function(){p?f(t):l()}))):f(t)}}))}}()}},42468:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter((function(e){return e!==n})),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},84835:()=>{},48731:(e,t,n)=>{"use strict";n.d(t,{A4:()=>S,G9:()=>C,Gh:()=>_,I6:()=>d,Kp:()=>l,PN:()=>a,Q$:()=>b,Rm:()=>f,SE:()=>o,VS:()=>v,X7:()=>h,ZT:()=>s,_v:()=>u,_x:()=>p,mc:()=>c,sk:()=>i,to:()=>y,yF:()=>g});var r=n(87462),i="undefined"===typeof window;function s(){}function o(e,t){return"function"===typeof e?e(t):e}function a(e){return"number"===typeof e&&e>=0&&e!==1/0}function c(e){return Array.isArray(e)?e:[e]}function l(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t,n){return E(e)?"function"===typeof t?(0,r.Z)({},n,{queryKey:e,queryFn:t}):(0,r.Z)({},t,{queryKey:e}):e}function d(e,t,n){return E(e)?[(0,r.Z)({},t,{queryKey:e}),n]:[e||{},t]}function p(e,t){var n=e.active,r=e.exact,i=e.fetching,s=e.inactive,o=e.predicate,a=e.queryKey,c=e.stale;if(E(a))if(r){if(t.queryHash!==f(a,t.options))return!1}else if(!y(t.queryKey,a))return!1;var l=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(n,s);if("none"===l)return!1;if("all"!==l){var u=t.isActive();if("active"===l&&!u)return!1;if("inactive"===l&&u)return!1}return("boolean"!==typeof c||t.isStale()===c)&&(("boolean"!==typeof i||t.isFetching()===i)&&!(o&&!o(t)))}function h(e,t){var n=e.exact,r=e.fetching,i=e.predicate,s=e.mutationKey;if(E(s)){if(!t.options.mutationKey)return!1;if(n){if(g(t.options.mutationKey)!==g(s))return!1}else if(!y(t.options.mutationKey,s))return!1}return("boolean"!==typeof r||"loading"===t.state.status===r)&&!(i&&!i(t))}function f(e,t){return((null==t?void 0:t.queryKeyHashFn)||g)(e)}function g(e){var t,n=c(e);return t=n,JSON.stringify(t,(function(e,t){return w(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))}function y(e,t){return m(c(e),c(t))}function m(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((function(n){return!m(e[n],t[n])})))}function b(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||w(e)&&w(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),s=i.length,o=n?[]:{},a=0,c=0;c<s;c++){var l=n?c:i[c];o[l]=b(e[l],t[l]),o[l]===e[l]&&a++}return r===s&&a===r?e:o}return t}function v(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function w(e){if(!k(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var n=t.prototype;return!!k(n)&&!!n.hasOwnProperty("isPrototypeOf")}function k(e){return"[object Object]"===Object.prototype.toString.call(e)}function E(e){return"string"===typeof e||Array.isArray(e)}function _(e){return new Promise((function(t){setTimeout(t,e)}))}function S(e){Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}function C(){if("function"===typeof AbortController)return new AbortController}},16070:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>r.QueryClient,QueryClientProvider:()=>i.QueryClientProvider,useQuery:()=>i.useQuery});var r=n(8408);n.o(r,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return r.QueryClientProvider}}),n.o(r,"useQuery")&&n.d(t,{useQuery:function(){return r.useQuery}});var i=n(49923)},49923:(e,t,n)=>{"use strict";n.d(t,{QueryClientProvider:()=>h,useQuery:()=>P});var r=n(31213),i=n(12181),s=n.n(i)().unstable_batchedUpdates;r.V.setBatchNotifyFunction(s);var o=n(93832),a=console;(0,o.E)(a);var c=n(92950),l=n.n(c),u=l().createContext(void 0),d=l().createContext(!1);function p(e){return e&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=u),window.ReactQueryClientContext):u}var h=function(e){var t=e.client,n=e.contextSharing,r=void 0!==n&&n,i=e.children;l().useEffect((function(){return t.mount(),function(){t.unmount()}}),[t]);var s=p(r);return l().createElement(d.Provider,{value:r},l().createElement(s.Provider,{value:t},i))},f=n(87462),g=n(94578),y=n(48731),m=n(22949),b=n(42468),v=n(73673),w=function(e){function t(t,n){var r;return(r=e.call(this)||this).client=t,r.options=n,r.trackedProps=[],r.selectError=null,r.bindMethods(),r.setOptions(n),r}(0,g.Z)(t,e);var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),k(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return E(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return E(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var i=this.hasListeners();i&&_(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!i||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();var s=this.computeRefetchInterval();!i||this.currentQuery===r&&this.options.enabled===n.enabled&&s===this.currentRefetchInterval||this.updateRefetchInterval(s)},n.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e,t){var n=this,r={},i=function(e){n.trackedProps.includes(e)||n.trackedProps.push(e)};return Object.keys(e).forEach((function(t){Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:function(){return i(t),e[t]}})})),(t.useErrorBoundary||t.suspense)&&i("error"),r},n.getNextResult=function(e){var t=this;return new Promise((function(n,r){var i=t.subscribe((function(t){t.isFetching||(i(),t.isError&&(null==e?void 0:e.throwOnError)?r(t.error):n(t))}))}))},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch((0,f.Z)({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},n.fetchOptimistic=function(e){var t=this,n=this.client.defaultQueryObserverOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.fetch().then((function(){return t.createResult(r,n)}))},n.fetch=function(e){var t=this;return this.executeFetch(e).then((function(){return t.updateResult(),t.currentResult}))},n.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(y.ZT)),t},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!y.sk&&!this.currentResult.isStale&&(0,y.PN)(this.options.staleTime)){var t=(0,y.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}},n.computeRefetchInterval=function(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},n.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!y.sk&&!1!==this.options.enabled&&(0,y.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(t.options.refetchIntervalInBackground||m.j.isFocused())&&t.executeFetch()}),this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},n.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},n.createResult=function(e,t){var n,r=this.currentQuery,i=this.options,s=this.currentResult,a=this.currentResultState,c=this.currentResultOptions,l=e!==r,u=l?e.state:this.currentQueryInitialState,d=l?this.currentResult:this.previousQueryResult,p=e.state,h=p.dataUpdatedAt,f=p.error,g=p.errorUpdatedAt,m=p.isFetching,b=p.status,v=!1,w=!1;if(t.optimisticResults){var E=this.hasListeners(),C=!E&&k(e,t),I=E&&_(e,r,t,i);(C||I)&&(m=!0,h||(b="loading"))}if(t.keepPreviousData&&!p.dataUpdateCount&&(null==d?void 0:d.isSuccess)&&"error"!==b)n=d.data,h=d.dataUpdatedAt,b=d.status,v=!0;else if(t.select&&"undefined"!==typeof p.data)if(s&&p.data===(null==a?void 0:a.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(p.data),!1!==t.structuralSharing&&(n=(0,y.Q$)(null==s?void 0:s.data,n)),this.selectResult=n,this.selectError=null}catch(P){(0,o.j)().error(P),this.selectError=P}else n=p.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof n&&("loading"===b||"idle"===b)){var x;if((null==s?void 0:s.isPlaceholderData)&&t.placeholderData===(null==c?void 0:c.placeholderData))x=s.data;else if(x="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof x)try{x=t.select(x),!1!==t.structuralSharing&&(x=(0,y.Q$)(null==s?void 0:s.data,x)),this.selectError=null}catch(P){(0,o.j)().error(P),this.selectError=P}"undefined"!==typeof x&&(b="success",n=x,w=!0)}return this.selectError&&(f=this.selectError,n=this.selectResult,g=Date.now(),b="error"),{status:b,isLoading:"loading"===b,isSuccess:"success"===b,isError:"error"===b,isIdle:"idle"===b,data:n,dataUpdatedAt:h,error:f,errorUpdatedAt:g,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&"loading"!==b,isLoadingError:"error"===b&&0===p.dataUpdatedAt,isPlaceholderData:w,isPreviousData:v,isRefetchError:"error"===b&&0!==p.dataUpdatedAt,isStale:S(e,t),refetch:this.refetch,remove:this.remove}},n.shouldNotifyListeners=function(e,t){if(!t)return!0;var n=this.options,r=n.notifyOnChangeProps,i=n.notifyOnChangePropsExclusions;if(!r&&!i)return!0;if("tracked"===r&&!this.trackedProps.length)return!0;var s="tracked"===r?this.trackedProps:r;return Object.keys(e).some((function(n){var r=n,o=e[r]!==t[r],a=null==s?void 0:s.some((function(e){return e===n})),c=null==i?void 0:i.some((function(e){return e===n}));return o&&!c&&(!s||a)}))},n.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,y.VS)(this.currentResult,t)){var n={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(n.listeners=!0),this.notify((0,f.Z)({},n,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||(0,v.DV)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var t=this;r.V.batch((function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))},t}(b.l);function k(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&E(e,t,t.refetchOnMount)}function E(e,t,n){if(!1!==t.enabled){var r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&S(e,t)}return!1}function _(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&S(e,n)}function S(e,t){return e.isStaleByTime(t.staleTime)}function C(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var I=l().createContext(C());function x(e,t){var n=l().useRef(!1),i=l().useState(0)[1],s=function(){var e=l().useContext(p(l().useContext(d)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e}(),o=l().useContext(I),a=s.defaultQueryObserverOptions(e);a.optimisticResults=!0,a.onError&&(a.onError=r.V.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=r.V.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=r.V.batchCalls(a.onSettled)),a.suspense&&("number"!==typeof a.staleTime&&(a.staleTime=1e3),0===a.cacheTime&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var c,u,h,f=l().useState((function(){return new t(s,a)}))[0],g=f.getOptimisticResult(a);if(l().useEffect((function(){n.current=!0,o.clearReset();var e=f.subscribe(r.V.batchCalls((function(){n.current&&i((function(e){return e+1}))})));return f.updateResult(),function(){n.current=!1,e()}}),[o,f]),l().useEffect((function(){f.setOptions(a,{listeners:!1})}),[a,f]),a.suspense&&g.isLoading)throw f.fetchOptimistic(a).then((function(e){var t=e.data;null==a.onSuccess||a.onSuccess(t),null==a.onSettled||a.onSettled(t,null)})).catch((function(e){o.clearReset(),null==a.onError||a.onError(e),null==a.onSettled||a.onSettled(void 0,e)}));if(g.isError&&!o.isReset()&&!g.isFetching&&(c=a.suspense,u=a.useErrorBoundary,h=[g.error,f.getCurrentQuery()],"function"===typeof u?u.apply(void 0,h):"boolean"===typeof u?u:c))throw g.error;return"tracked"===a.notifyOnChangeProps&&(g=f.trackResult(g,a)),g}function P(e,t,n){return x((0,y._v)(e,t,n),w)}},55310:(e,t,n)=>{"use strict";var r;function i(e){return(r=r||document.createElement("textarea")).innerHTML="&"+e+";",r.value}n.d(t,{_:()=>xe});var s=Object.prototype.hasOwnProperty;function o(e,t){return!!e&&s.call(e,t)}function a(e){var t=[].slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!==typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}var c=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function l(e){return e.indexOf("\\")<0?e:e.replace(c,"$1")}function u(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function d(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var p=/&([a-z#][a-z0-9]{1,31});/gi,h=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function f(e,t){var n=0,r=i(t);return t!==r?r:35===t.charCodeAt(0)&&h.test(t)&&u(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?d(n):e}function g(e){return e.indexOf("&")<0?e:e.replace(p,f)}var y=/[&<>"]/,m=/[&<>"]/g,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function v(e){return b[e]}function w(e){return y.test(e)?e.replace(m,v):e}var k={};function E(e,t){return++t>=e.length-2?t:"paragraph_open"===e[t].type&&e[t].tight&&"inline"===e[t+1].type&&0===e[t+1].content.length&&"paragraph_close"===e[t+2].type&&e[t+2].tight?E(e,t+2):t}k.blockquote_open=function(){return"<blockquote>\n"},k.blockquote_close=function(e,t){return"</blockquote>"+_(e,t)},k.code=function(e,t){return e[t].block?"<pre><code>"+w(e[t].content)+"</code></pre>"+_(e,t):"<code>"+w(e[t].content)+"</code>"},k.fence=function(e,t,n,r,i){var s,a,c=e[t],u="",d=n.langPrefix;if(c.params){if(a=(s=c.params.split(/\s+/g)).join(" "),o(i.rules.fence_custom,s[0]))return i.rules.fence_custom[s[0]](e,t,n,r,i);u=' class="'+d+w(g(l(a)))+'"'}return"<pre><code"+u+">"+(n.highlight&&n.highlight.apply(n.highlight,[c.content].concat(s))||w(c.content))+"</code></pre>"+_(e,t)},k.fence_custom={},k.heading_open=function(e,t){return"<h"+e[t].hLevel+">"},k.heading_close=function(e,t){return"</h"+e[t].hLevel+">\n"},k.hr=function(e,t,n){return(n.xhtmlOut?"<hr />":"<hr>")+_(e,t)},k.bullet_list_open=function(){return"<ul>\n"},k.bullet_list_close=function(e,t){return"</ul>"+_(e,t)},k.list_item_open=function(){return"<li>"},k.list_item_close=function(){return"</li>\n"},k.ordered_list_open=function(e,t){var n=e[t];return"<ol"+(n.order>1?' start="'+n.order+'"':"")+">\n"},k.ordered_list_close=function(e,t){return"</ol>"+_(e,t)},k.paragraph_open=function(e,t){return e[t].tight?"":"<p>"},k.paragraph_close=function(e,t){var n=!(e[t].tight&&t&&"inline"===e[t-1].type&&!e[t-1].content);return(e[t].tight?"":"</p>")+(n?_(e,t):"")},k.link_open=function(e,t,n){var r=e[t].title?' title="'+w(g(e[t].title))+'"':"",i=n.linkTarget?' target="'+n.linkTarget+'"':"";return'<a href="'+w(e[t].href)+'"'+r+i+">"},k.link_close=function(){return"</a>"},k.image=function(e,t,n){var r=' src="'+w(e[t].src)+'"',i=e[t].title?' title="'+w(g(e[t].title))+'"':"";return"<img"+r+(' alt="'+(e[t].alt?w(g(l(e[t].alt))):"")+'"')+i+(n.xhtmlOut?" /":"")+">"},k.table_open=function(){return"<table>\n"},k.table_close=function(){return"</table>\n"},k.thead_open=function(){return"<thead>\n"},k.thead_close=function(){return"</thead>\n"},k.tbody_open=function(){return"<tbody>\n"},k.tbody_close=function(){return"</tbody>\n"},k.tr_open=function(){return"<tr>"},k.tr_close=function(){return"</tr>\n"},k.th_open=function(e,t){var n=e[t];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"},k.th_close=function(){return"</th>"},k.td_open=function(e,t){var n=e[t];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"},k.td_close=function(){return"</td>"},k.strong_open=function(){return"<strong>"},k.strong_close=function(){return"</strong>"},k.em_open=function(){return"<em>"},k.em_close=function(){return"</em>"},k.del_open=function(){return"<del>"},k.del_close=function(){return"</del>"},k.ins_open=function(){return"<ins>"},k.ins_close=function(){return"</ins>"},k.mark_open=function(){return"<mark>"},k.mark_close=function(){return"</mark>"},k.sub=function(e,t){return"<sub>"+w(e[t].content)+"</sub>"},k.sup=function(e,t){return"<sup>"+w(e[t].content)+"</sup>"},k.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},k.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},k.text=function(e,t){return w(e[t].content)},k.htmlblock=function(e,t){return e[t].content},k.htmltag=function(e,t){return e[t].content},k.abbr_open=function(e,t){return'<abbr title="'+w(g(e[t].title))+'">'},k.abbr_close=function(){return"</abbr>"},k.footnote_ref=function(e,t){var n=Number(e[t].id+1).toString(),r="fnref"+n;return e[t].subId>0&&(r+=":"+e[t].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+r+'">['+n+"]</a></sup>"},k.footnote_block_open=function(e,t,n){return(n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n'},k.footnote_block_close=function(){return"</ol>\n</section>\n"},k.footnote_open=function(e,t){return'<li id="fn'+Number(e[t].id+1).toString()+'"  class="footnote-item">'},k.footnote_close=function(){return"</li>\n"},k.footnote_anchor=function(e,t){var n="fnref"+Number(e[t].id+1).toString();return e[t].subId>0&&(n+=":"+e[t].subId),' <a href="#'+n+'" class="footnote-backref">\u21a9</a>'},k.dl_open=function(){return"<dl>\n"},k.dt_open=function(){return"<dt>"},k.dd_open=function(){return"<dd>"},k.dl_close=function(){return"</dl>\n"},k.dt_close=function(){return"</dt>\n"},k.dd_close=function(){return"</dd>\n"};var _=k.getBreak=function(e,t){return(t=E(e,t))<e.length&&"list_item_close"===e[t].type?"":"\n"};function S(){this.rules=a({},k),this.getBreak=k.getBreak}function C(){this.__rules__=[],this.__cache__=null}function I(e,t,n,r,i){this.src=e,this.env=r,this.options=n,this.parser=t,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}function x(e,t){var n,r,i,s=-1,o=e.posMax,a=e.pos,c=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=t+1,e.isInLabel=!0,n=1;e.pos<o;){if(91===(i=e.src.charCodeAt(e.pos)))n++;else if(93===i&&0===--n){r=!0;break}e.parser.skipToken(e)}return r?(s=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=n-1,e.pos=a,e.isInLabel=c,s}function P(e,t,n,r){var i,s,o,a,c,l;if(42!==e.charCodeAt(0))return-1;if(91!==e.charCodeAt(1))return-1;if(-1===e.indexOf("]:"))return-1;if((s=x(i=new I(e,t,n,r,[]),1))<0||58!==e.charCodeAt(s+1))return-1;for(a=i.posMax,o=s+2;o<a&&10!==i.src.charCodeAt(o);o++);return c=e.slice(2,s),0===(l=e.slice(s+2,o).trim()).length?-1:(r.abbreviations||(r.abbreviations={}),"undefined"===typeof r.abbreviations[":"+c]&&(r.abbreviations[":"+c]=l),o)}function A(e){var t=g(e);try{t=decodeURI(t)}catch(n){}return encodeURI(t)}function R(e,t){var n,r,i,s=t,o=e.posMax;if(60===e.src.charCodeAt(t)){for(t++;t<o;){if(10===(n=e.src.charCodeAt(t)))return!1;if(62===n)return i=A(l(e.src.slice(s+1,t))),!!e.parser.validateLink(i)&&(e.pos=t+1,e.linkContent=i,!0);92===n&&t+1<o?t+=2:t++}return!1}for(r=0;t<o&&32!==(n=e.src.charCodeAt(t))&&!(n<32||127===n);)if(92===n&&t+1<o)t+=2;else{if(40===n&&++r>1)break;if(41===n&&--r<0)break;t++}return s!==t&&(i=l(e.src.slice(s,t)),!!e.parser.validateLink(i)&&(e.linkContent=i,e.pos=t,!0))}function T(e,t){var n,r=t,i=e.posMax,s=e.src.charCodeAt(t);if(34!==s&&39!==s&&40!==s)return!1;for(t++,40===s&&(s=41);t<i;){if((n=e.src.charCodeAt(t))===s)return e.pos=t+1,e.linkContent=l(e.src.slice(r+1,t)),!0;92===n&&t+1<i?t+=2:t++}return!1}function O(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function D(e,t,n,r){var i,s,o,a,c,l,u,d,p;if(91!==e.charCodeAt(0))return-1;if(-1===e.indexOf("]:"))return-1;if((s=x(i=new I(e,t,n,r,[]),0))<0||58!==e.charCodeAt(s+1))return-1;for(a=i.posMax,o=s+2;o<a&&(32===(c=i.src.charCodeAt(o))||10===c);o++);if(!R(i,o))return-1;for(u=i.linkContent,l=o=i.pos,o+=1;o<a&&(32===(c=i.src.charCodeAt(o))||10===c);o++);for(o<a&&l!==o&&T(i,o)?(d=i.linkContent,o=i.pos):(d="",o=l);o<a&&32===i.src.charCodeAt(o);)o++;return o<a&&10!==i.src.charCodeAt(o)?-1:(p=O(e.slice(1,s)),"undefined"===typeof r.references[p]&&(r.references[p]={title:d,href:u}),o)}S.prototype.renderInline=function(e,t,n){for(var r=this.rules,i=e.length,s=0,o="";i--;)o+=r[e[s].type](e,s++,t,n,this);return o},S.prototype.render=function(e,t,n){for(var r=this.rules,i=e.length,s=-1,o="";++s<i;)"inline"===e[s].type?o+=this.renderInline(e[s].children,t,n):o+=r[e[s].type](e,s,t,n,this);return o},C.prototype.__find__=function(e){for(var t=this.__rules__.length,n=-1;t--;)if(this.__rules__[++n].name===e)return n;return-1},C.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},C.prototype.at=function(e,t,n){var r=this.__find__(e),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=i.alt||[],this.__cache__=null},C.prototype.before=function(e,t,n,r){var i=this.__find__(e),s=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null},C.prototype.after=function(e,t,n,r){var i=this.__find__(e),s=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null},C.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},C.prototype.enable=function(e,t){e=Array.isArray(e)?e:[e],t&&this.__rules__.forEach((function(e){e.enabled=!1})),e.forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!0}),this),this.__cache__=null},C.prototype.disable=function(e){(e=Array.isArray(e)?e:[e]).forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!1}),this),this.__cache__=null},C.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},I.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},I.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level},I.prototype.cacheSet=function(e,t){for(var n=this.cache.length;n<=e;n++)this.cache.push(0);this.cache[e]=t},I.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};var M=" \n()[]'\".,!?-";function N(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}var j=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,L=/\((c|tm|r|p)\)/gi,B={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};var z=/['"]/,F=/['"]/g,U=/[-\s()\[\]]/;function W(e,t){return!(t<0||t>=e.length)&&!U.test(e[t])}function $(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}var q=[["block",function(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}],["abbr",function(e){var t,n,r,i,s=e.tokens;if(!e.inlineMode)for(t=1,n=s.length-1;t<n;t++)if("paragraph_open"===s[t-1].type&&"inline"===s[t].type&&"paragraph_close"===s[t+1].type){for(r=s[t].content;r.length&&!((i=P(r,e.inline,e.options,e.env))<0);)r=r.slice(i).trim();s[t].content=r,r.length||(s[t-1].tight=!0,s[t+1].tight=!0)}}],["references",function(e){var t,n,r,i,s=e.tokens;if(e.env.references=e.env.references||{},!e.inlineMode)for(t=1,n=s.length-1;t<n;t++)if("inline"===s[t].type&&"paragraph_open"===s[t-1].type&&"paragraph_close"===s[t+1].type){for(r=s[t].content;r.length&&!((i=D(r,e.inline,e.options,e.env))<0);)r=r.slice(i).trim();s[t].content=r,r.length||(s[t-1].tight=!0,s[t+1].tight=!0)}}],["inline",function(e){var t,n,r,i=e.tokens;for(n=0,r=i.length;n<r;n++)"inline"===(t=i[n]).type&&e.inline.parse(t.content,e.options,e.env,t.children)}],["footnote_tail",function(e){var t,n,r,i,s,o,a,c,l,u=0,d=!1,p={};if(e.env.footnotes&&(e.tokens=e.tokens.filter((function(e){return"footnote_reference_open"===e.type?(d=!0,c=[],l=e.label,!1):"footnote_reference_close"===e.type?(d=!1,p[":"+l]=c,!1):(d&&c.push(e),!d)})),e.env.footnotes.list)){for(o=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:u++}),t=0,n=o.length;t<n;t++){for(e.tokens.push({type:"footnote_open",id:t,level:u++}),o[t].tokens?((a=[]).push({type:"paragraph_open",tight:!1,level:u++}),a.push({type:"inline",content:"",level:u,children:o[t].tokens}),a.push({type:"paragraph_close",tight:!1,level:--u})):o[t].label&&(a=p[":"+o[t].label]),e.tokens=e.tokens.concat(a),s="paragraph_close"===e.tokens[e.tokens.length-1].type?e.tokens.pop():null,i=o[t].count>0?o[t].count:1,r=0;r<i;r++)e.tokens.push({type:"footnote_anchor",id:t,subId:r,level:u});s&&e.tokens.push(s),e.tokens.push({type:"footnote_close",level:--u})}e.tokens.push({type:"footnote_block_close",level:--u})}}],["abbr2",function(e){var t,n,r,i,s,o,a,c,l,u,d,p,h=e.tokens;if(e.env.abbreviations)for(e.env.abbrRegExp||(p="(^|["+M.split("").map(N).join("")+"])("+Object.keys(e.env.abbreviations).map((function(e){return e.substr(1)})).sort((function(e,t){return t.length-e.length})).map(N).join("|")+")($|["+M.split("").map(N).join("")+"])",e.env.abbrRegExp=new RegExp(p,"g")),u=e.env.abbrRegExp,n=0,r=h.length;n<r;n++)if("inline"===h[n].type)for(t=(i=h[n].children).length-1;t>=0;t--)if("text"===(s=i[t]).type){for(c=0,o=s.content,u.lastIndex=0,l=s.level,a=[];d=u.exec(o);)u.lastIndex>c&&a.push({type:"text",content:o.slice(c,d.index+d[1].length),level:l}),a.push({type:"abbr_open",title:e.env.abbreviations[":"+d[2]],level:l++}),a.push({type:"text",content:d[2],level:l}),a.push({type:"abbr_close",level:--l}),c=u.lastIndex-d[3].length;a.length&&(c<o.length&&a.push({type:"text",content:o.slice(c),level:l}),h[n].children=i=[].concat(i.slice(0,t),a,i.slice(t+1)))}}],["replacements",function(e){var t,n,r,i,s,o;if(e.options.typographer)for(s=e.tokens.length-1;s>=0;s--)if("inline"===e.tokens[s].type)for(t=(i=e.tokens[s].children).length-1;t>=0;t--)"text"===(n=i[t]).type&&(r=n.content,r=(o=r).indexOf("(")<0?o:o.replace(L,(function(e,t){return B[t.toLowerCase()]})),j.test(r)&&(r=r.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),n.content=r)}],["smartquotes",function(e){var t,n,r,i,s,o,a,c,l,u,d,p,h,f,g,y,m;if(e.options.typographer)for(m=[],g=e.tokens.length-1;g>=0;g--)if("inline"===e.tokens[g].type)for(y=e.tokens[g].children,m.length=0,t=0;t<y.length;t++)if("text"===(n=y[t]).type&&!z.test(n.text)){for(a=y[t].level,h=m.length-1;h>=0&&!(m[h].level<=a);h--);m.length=h+1,s=0,o=(r=n.content).length;e:for(;s<o&&(F.lastIndex=s,i=F.exec(r));)if(c=!W(r,i.index-1),s=i.index+1,f="'"===i[0],(l=!W(r,s))||c){if(d=!l,p=!c)for(h=m.length-1;h>=0&&(u=m[h],!(m[h].level<a));h--)if(u.single===f&&m[h].level===a){u=m[h],f?(y[u.token].content=$(y[u.token].content,u.pos,e.options.quotes[2]),n.content=$(n.content,i.index,e.options.quotes[3])):(y[u.token].content=$(y[u.token].content,u.pos,e.options.quotes[0]),n.content=$(n.content,i.index,e.options.quotes[1])),m.length=h;continue e}d?m.push({token:t,pos:i.index,single:f,level:a}):p&&f&&(n.content=$(n.content,i.index,"\u2019"))}else f&&(n.content=$(n.content,i.index,"\u2019"))}}]];function H(){this.options={},this.ruler=new C;for(var e=0;e<q.length;e++)this.ruler.push(q[e][0],q[e][1])}function K(e,t,n,r,i){var s,o,a,c,l,u,d;for(this.src=e,this.parser=t,this.options=n,this.env=r,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",u=0,d=!1,a=c=u=0,l=(o=this.src).length;c<l;c++){if(s=o.charCodeAt(c),!d){if(32===s){u++;continue}d=!0}10!==s&&c!==l-1||(10!==s&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(u),d=!1,u=0,a=c+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}function V(e,t){var n,r,i;return(r=e.bMarks[t]+e.tShift[t])>=(i=e.eMarks[t])||42!==(n=e.src.charCodeAt(r++))&&45!==n&&43!==n||r<i&&32!==e.src.charCodeAt(r)?-1:r}function G(e,t){var n,r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(r+1>=i)return-1;if((n=e.src.charCodeAt(r++))<48||n>57)return-1;for(;;){if(r>=i)return-1;if(!((n=e.src.charCodeAt(r++))>=48&&n<=57)){if(41===n||46===n)break;return-1}}return r<i&&32!==e.src.charCodeAt(r)?-1:r}H.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},K.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},K.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},K.prototype.skipSpaces=function(e){for(var t=this.src.length;e<t&&32===this.src.charCodeAt(e);e++);return e},K.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},K.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},K.prototype.getLines=function(e,t,n,r){var i,s,o,a,c,l=e;if(e>=t)return"";if(l+1===t)return s=this.bMarks[l]+Math.min(this.tShift[l],n),o=r?this.eMarks[l]+1:this.eMarks[l],this.src.slice(s,o);for(a=new Array(t-e),i=0;l<t;l++,i++)(c=this.tShift[l])>n&&(c=n),c<0&&(c=0),s=this.bMarks[l]+c,o=l+1<t||r?this.eMarks[l]+1:this.eMarks[l],a[i]=this.src.slice(s,o);return a.join("")};var X={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach((function(e){X[e]=!0}));var Z=/^<([a-zA-Z]{1,15})[\s\/>]/,Q=/^<\/([a-zA-Z]{1,15})[\s>]/;function Y(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function J(e,t){var n,r,i=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];return i>=s||126!==(r=e.src.charCodeAt(i++))&&58!==r||i===(n=e.skipSpaces(i))||n>=s?-1:n}var ee=[["code",function(e,t,n){var r,i;if(e.tShift[t]-e.blkIndent<4)return!1;for(i=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.tShift[r]-e.blkIndent>=4))break;i=++r}return e.line=r,e.tokens.push({type:"code",content:e.getLines(t,i,4+e.blkIndent,!0),block:!0,lines:[t,e.line],level:e.level}),!0}],["fences",function(e,t,n,r){var i,s,o,a,c,l=!1,u=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(u+3>d)return!1;if(126!==(i=e.src.charCodeAt(u))&&96!==i)return!1;if(c=u,(s=(u=e.skipChars(u,i))-c)<3)return!1;if((o=e.src.slice(u,d).trim()).indexOf("`")>=0)return!1;if(r)return!0;for(a=t;!(++a>=n)&&!((u=c=e.bMarks[a]+e.tShift[a])<(d=e.eMarks[a])&&e.tShift[a]<e.blkIndent);)if(e.src.charCodeAt(u)===i&&!(e.tShift[a]-e.blkIndent>=4)&&!((u=e.skipChars(u,i))-c<s)&&!((u=e.skipSpaces(u))<d)){l=!0;break}return s=e.tShift[t],e.line=a+(l?1:0),e.tokens.push({type:"fence",params:o,content:e.getLines(t+1,a,s,!0),lines:[t,e.line],level:e.level}),!0},["paragraph","blockquote","list"]],["blockquote",function(e,t,n,r){var i,s,o,a,c,l,u,d,p,h,f,g=e.bMarks[t]+e.tShift[t],y=e.eMarks[t];if(g>y)return!1;if(62!==e.src.charCodeAt(g++))return!1;if(e.level>=e.options.maxNesting)return!1;if(r)return!0;for(32===e.src.charCodeAt(g)&&g++,c=e.blkIndent,e.blkIndent=0,a=[e.bMarks[t]],e.bMarks[t]=g,s=(g=g<y?e.skipSpaces(g):g)>=y,o=[e.tShift[t]],e.tShift[t]=g-e.bMarks[t],d=e.parser.ruler.getRules("blockquote"),i=t+1;i<n&&!((g=e.bMarks[i]+e.tShift[i])>=(y=e.eMarks[i]));i++)if(62!==e.src.charCodeAt(g++)){if(s)break;for(f=!1,p=0,h=d.length;p<h;p++)if(d[p](e,i,n,!0)){f=!0;break}if(f)break;a.push(e.bMarks[i]),o.push(e.tShift[i]),e.tShift[i]=-1337}else 32===e.src.charCodeAt(g)&&g++,a.push(e.bMarks[i]),e.bMarks[i]=g,s=(g=g<y?e.skipSpaces(g):g)>=y,o.push(e.tShift[i]),e.tShift[i]=g-e.bMarks[i];for(l=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:u=[t,0],level:e.level++}),e.parser.tokenize(e,t,i),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=l,u[1]=e.line,p=0;p<o.length;p++)e.bMarks[p+t]=a[p],e.tShift[p+t]=o[p];return e.blkIndent=c,!0},["paragraph","blockquote","list"]],["hr",function(e,t,n,r){var i,s,o,a=e.bMarks[t],c=e.eMarks[t];if((a+=e.tShift[t])>c)return!1;if(42!==(i=e.src.charCodeAt(a++))&&45!==i&&95!==i)return!1;for(s=1;a<c;){if((o=e.src.charCodeAt(a++))!==i&&32!==o)return!1;o===i&&s++}return!(s<3)&&(r||(e.line=t+1,e.tokens.push({type:"hr",lines:[t,e.line],level:e.level})),!0)},["paragraph","blockquote","list"]],["list",function(e,t,n,r){var i,s,o,a,c,l,u,d,p,h,f,g,y,m,b,v,w,k,E,_,S,C=!0;if((d=G(e,t))>=0)g=!0;else{if(!((d=V(e,t))>=0))return!1;g=!1}if(e.level>=e.options.maxNesting)return!1;if(f=e.src.charCodeAt(d-1),r)return!0;for(m=e.tokens.length,g?(u=e.bMarks[t]+e.tShift[t],h=Number(e.src.substr(u,d-u-1)),e.tokens.push({type:"ordered_list_open",order:h,lines:v=[t,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:v=[t,0],level:e.level++}),i=t,b=!1,k=e.parser.ruler.getRules("list");i<n&&((p=(y=e.skipSpaces(d))>=e.eMarks[i]?1:y-d)>4&&(p=1),p<1&&(p=1),s=d-e.bMarks[i]+p,e.tokens.push({type:"list_item_open",lines:w=[t,0],level:e.level++}),a=e.blkIndent,c=e.tight,o=e.tShift[t],l=e.parentType,e.tShift[t]=y-e.bMarks[t],e.blkIndent=s,e.tight=!0,e.parentType="list",e.parser.tokenize(e,t,n,!0),e.tight&&!b||(C=!1),b=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=a,e.tShift[t]=o,e.tight=c,e.parentType=l,e.tokens.push({type:"list_item_close",level:--e.level}),i=t=e.line,w[1]=i,y=e.bMarks[t],!(i>=n))&&!e.isEmpty(i)&&!(e.tShift[i]<e.blkIndent);){for(S=!1,E=0,_=k.length;E<_;E++)if(k[E](e,i,n,!0)){S=!0;break}if(S)break;if(g){if((d=G(e,i))<0)break}else if((d=V(e,i))<0)break;if(f!==e.src.charCodeAt(d-1))break}return e.tokens.push({type:g?"ordered_list_close":"bullet_list_close",level:--e.level}),v[1]=i,e.line=i,C&&function(e,t){var n,r,i=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===i&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,m),!0},["paragraph","blockquote"]],["footnote",function(e,t,n,r){var i,s,o,a,c,l=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(l+4>u)return!1;if(91!==e.src.charCodeAt(l))return!1;if(94!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(a=l+2;a<u;a++){if(32===e.src.charCodeAt(a))return!1;if(93===e.src.charCodeAt(a))break}return a!==l+2&&(!(a+1>=u||58!==e.src.charCodeAt(++a))&&(r||(a++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),c=e.src.slice(l+2,a-2),e.env.footnotes.refs[":"+c]=-1,e.tokens.push({type:"footnote_reference_open",label:c,level:e.level++}),i=e.bMarks[t],s=e.tShift[t],o=e.parentType,e.tShift[t]=e.skipSpaces(a)-a,e.bMarks[t]=a,e.blkIndent+=4,e.parentType="footnote",e.tShift[t]<e.blkIndent&&(e.tShift[t]+=e.blkIndent,e.bMarks[t]-=e.blkIndent),e.parser.tokenize(e,t,n,!0),e.parentType=o,e.blkIndent-=4,e.tShift[t]=s,e.bMarks[t]=i,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0))},["paragraph"]],["heading",function(e,t,n,r){var i,s,o,a=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(a>=c)return!1;if(35!==(i=e.src.charCodeAt(a))||a>=c)return!1;for(s=1,i=e.src.charCodeAt(++a);35===i&&a<c&&s<=6;)s++,i=e.src.charCodeAt(++a);return!(s>6||a<c&&32!==i)&&(r||(c=e.skipCharsBack(c,32,a),(o=e.skipCharsBack(c,35,a))>a&&32===e.src.charCodeAt(o-1)&&(c=o),e.line=t+1,e.tokens.push({type:"heading_open",hLevel:s,lines:[t,e.line],level:e.level}),a<c&&e.tokens.push({type:"inline",content:e.src.slice(a,c).trim(),level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:s,level:e.level})),!0)},["paragraph","blockquote"]],["lheading",function(e,t,n){var r,i,s,o=t+1;return!(o>=n)&&(!(e.tShift[o]<e.blkIndent)&&(!(e.tShift[o]-e.blkIndent>3)&&(!((i=e.bMarks[o]+e.tShift[o])>=(s=e.eMarks[o]))&&((45===(r=e.src.charCodeAt(i))||61===r)&&(i=e.skipChars(i,r),!((i=e.skipSpaces(i))<s)&&(i=e.bMarks[t]+e.tShift[t],e.line=o+1,e.tokens.push({type:"heading_open",hLevel:61===r?1:2,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(i,e.eMarks[t]).trim(),level:e.level+1,lines:[t,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:61===r?1:2,level:e.level}),!0))))))}],["htmlblock",function(e,t,n,r){var i,s,o,a=e.bMarks[t],c=e.eMarks[t],l=e.tShift[t];if(a+=l,!e.options.html)return!1;if(l>3||a+2>=c)return!1;if(60!==e.src.charCodeAt(a))return!1;if(33===(i=e.src.charCodeAt(a+1))||63===i){if(r)return!0}else{if(47!==i&&!function(e){var t=32|e;return t>=97&&t<=122}(i))return!1;if(47===i){if(!(s=e.src.slice(a,c).match(Q)))return!1}else if(!(s=e.src.slice(a,c).match(Z)))return!1;if(!0!==X[s[1].toLowerCase()])return!1;if(r)return!0}for(o=t+1;o<e.lineMax&&!e.isEmpty(o);)o++;return e.line=o,e.tokens.push({type:"htmlblock",level:e.level,lines:[t,e.line],content:e.getLines(t,o,0,!0)}),!0},["paragraph","blockquote"]],["table",function(e,t,n,r){var i,s,o,a,c,l,u,d,p,h,f;if(t+2>n)return!1;if(c=t+1,e.tShift[c]<e.blkIndent)return!1;if((o=e.bMarks[c]+e.tShift[c])>=e.eMarks[c])return!1;if(124!==(i=e.src.charCodeAt(o))&&45!==i&&58!==i)return!1;if(s=Y(e,t+1),!/^[-:| ]+$/.test(s))return!1;if((l=s.split("|"))<=2)return!1;for(d=[],a=0;a<l.length;a++){if(!(p=l[a].trim())){if(0===a||a===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(p))return!1;58===p.charCodeAt(p.length-1)?d.push(58===p.charCodeAt(0)?"center":"right"):58===p.charCodeAt(0)?d.push("left"):d.push("")}if(-1===(s=Y(e,t).trim()).indexOf("|"))return!1;if(l=s.replace(/^\||\|$/g,"").split("|"),d.length!==l.length)return!1;if(r)return!0;for(e.tokens.push({type:"table_open",lines:h=[t,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[t,t+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[t,t+1],level:e.level++}),a=0;a<l.length;a++)e.tokens.push({type:"th_open",align:d[a],lines:[t,t+1],level:e.level++}),e.tokens.push({type:"inline",content:l[a].trim(),lines:[t,t+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:f=[t+2,0],level:e.level++}),c=t+2;c<n&&!(e.tShift[c]<e.blkIndent)&&-1!==(s=Y(e,c).trim()).indexOf("|");c++){for(l=s.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),a=0;a<l.length;a++)e.tokens.push({type:"td_open",align:d[a],level:e.level++}),u=l[a].substring(124===l[a].charCodeAt(0)?1:0,124===l[a].charCodeAt(l[a].length-1)?l[a].length-1:l[a].length).trim(),e.tokens.push({type:"inline",content:u,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),h[1]=f[1]=c,e.line=c,!0},["paragraph"]],["deflist",function(e,t,n,r){var i,s,o,a,c,l,u,d,p,h,f,g,y,m;if(r)return!(e.ddIndent<0)&&J(e,t)>=0;if(u=t+1,e.isEmpty(u)&&++u>n)return!1;if(e.tShift[u]<e.blkIndent)return!1;if((i=J(e,u))<0)return!1;if(e.level>=e.options.maxNesting)return!1;l=e.tokens.length,e.tokens.push({type:"dl_open",lines:c=[t,0],level:e.level++}),o=t,s=u;e:for(;;){for(m=!0,y=!1,e.tokens.push({type:"dt_open",lines:[o,o],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(o,o+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[o,o],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:a=[u,0],level:e.level++}),g=e.tight,p=e.ddIndent,d=e.blkIndent,f=e.tShift[s],h=e.parentType,e.blkIndent=e.ddIndent=e.tShift[s]+2,e.tShift[s]=i-e.bMarks[s],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,s,n,!0),e.tight&&!y||(m=!1),y=e.line-s>1&&e.isEmpty(e.line-1),e.tShift[s]=f,e.tight=g,e.parentType=h,e.blkIndent=d,e.ddIndent=p,e.tokens.push({type:"dd_close",level:--e.level}),a[1]=u=e.line,u>=n)break e;if(e.tShift[u]<e.blkIndent)break e;if((i=J(e,u))<0)break;s=u}if(u>=n)break;if(o=u,e.isEmpty(o))break;if(e.tShift[o]<e.blkIndent)break;if((s=o+1)>=n)break;if(e.isEmpty(s)&&s++,s>=n)break;if(e.tShift[s]<e.blkIndent)break;if((i=J(e,s))<0)break}return e.tokens.push({type:"dl_close",level:--e.level}),c[1]=u,e.line=u,m&&function(e,t){var n,r,i=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===i&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,l),!0},["paragraph"]],["paragraph",function(e,t){var n,r,i,s,o,a,c=t+1;if(c<(n=e.lineMax)&&!e.isEmpty(c))for(a=e.parser.ruler.getRules("paragraph");c<n&&!e.isEmpty(c);c++)if(!(e.tShift[c]-e.blkIndent>3)){for(i=!1,s=0,o=a.length;s<o;s++)if(a[s](e,c,n,!0)){i=!0;break}if(i)break}return r=e.getLines(t,c,e.blkIndent,!1).trim(),e.line=c,r.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:r,level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}]];function te(){this.ruler=new C;for(var e=0;e<ee.length;e++)this.ruler.push(ee[e][0],ee[e][1],{alt:(ee[e][2]||[]).slice()})}te.prototype.tokenize=function(e,t,n){for(var r,i=this.ruler.getRules(""),s=i.length,o=t,a=!1;o<n&&(e.line=o=e.skipEmptyLines(o),!(o>=n))&&!(e.tShift[o]<e.blkIndent);){for(r=0;r<s&&!i[r](e,o,n,!1);r++);if(e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(o=e.line)<n&&e.isEmpty(o)){if(a=!0,++o<n&&"list"===e.parentType&&e.isEmpty(o))break;e.line=o}}};var ne=/[\n\t]/g,re=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,ie=/\u00a0/g;function se(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}te.prototype.parse=function(e,t,n,r){var i,s=0,o=0;if(!e)return[];(e=(e=e.replace(ie," ")).replace(re,"\n")).indexOf("\t")>=0&&(e=e.replace(ne,(function(t,n){var r;return 10===e.charCodeAt(n)?(s=n+1,o=0,t):(r="    ".slice((n-s-o)%4),o=n-s+1,r)}))),i=new K(e,this,t,n,r),this.tokenize(i,i.line,i.lineMax)};for(var oe=[],ae=0;ae<256;ae++)oe.push(0);function ce(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function le(e,t){var n,r,i,s=t,o=!0,a=!0,c=e.posMax,l=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):-1;s<c&&e.src.charCodeAt(s)===l;)s++;return s>=c&&(o=!1),(i=s-t)>=4?o=a=!1:(32!==(r=s<c?e.src.charCodeAt(s):-1)&&10!==r||(o=!1),32!==n&&10!==n||(a=!1),95===l&&(ce(n)&&(o=!1),ce(r)&&(a=!1))),{can_open:o,can_close:a,delims:i}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){oe[e.charCodeAt(0)]=1}));var ue=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var de=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var pe=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],he=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,fe=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function ge(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,e=e.replace(r,i),n):new RegExp(e,t)}}var ye=ge(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",/[^"'=<>`\x00-\x20]+/)("single_quoted",/'[^']*'/)("double_quoted",/"[^"]*"/)(),me=ge(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",/[a-zA-Z_:][a-zA-Z0-9:._-]*/)("attr_value",ye)(),be=ge(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",me)(),ve=ge(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",be)("close_tag",/<\/[A-Za-z][A-Za-z0-9]*\s*>/)("comment",/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/)("processing",/<[?].*?[?]>/)("declaration",/<![A-Z]+\s+[^>]*>/)("cdata",/<!\[CDATA\[[\s\S]*?\]\]>/)();var we=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,ke=/^&([a-z][a-z0-9]{1,31});/i;var Ee=[["text",function(e,t){for(var n=e.pos;n<e.posMax&&!se(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["newline",function(e,t){var n,r,i=e.pos;if(10!==e.src.charCodeAt(i))return!1;if(n=e.pending.length-1,r=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(var s=n-2;s>=0;s--)if(32!==e.pending.charCodeAt(s)){e.pending=e.pending.substring(0,s+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(i++;i<r&&32===e.src.charCodeAt(i);)i++;return e.pos=i,!0}],["escape",function(e,t){var n,r=e.pos,i=e.posMax;if(92!==e.src.charCodeAt(r))return!1;if(++r<i){if((n=e.src.charCodeAt(r))<256&&0!==oe[n])return t||(e.pending+=e.src[r]),e.pos+=2,!0;if(10===n){for(t||e.push({type:"hardbreak",level:e.level}),r++;r<i&&32===e.src.charCodeAt(r);)r++;return e.pos=r,!0}}return t||(e.pending+="\\"),e.pos++,!0}],["backticks",function(e,t){var n,r,i,s,o,a=e.pos;if(96!==e.src.charCodeAt(a))return!1;for(n=a,a++,r=e.posMax;a<r&&96===e.src.charCodeAt(a);)a++;for(i=e.src.slice(n,a),s=o=a;-1!==(s=e.src.indexOf("`",o));){for(o=s+1;o<r&&96===e.src.charCodeAt(o);)o++;if(o-s===i.length)return t||e.push({type:"code",content:e.src.slice(a,s).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=o,!0}return t||(e.pending+=i),e.pos+=i.length,!0}],["del",function(e,t){var n,r,i,s,o,a=e.posMax,c=e.pos;if(126!==e.src.charCodeAt(c))return!1;if(t)return!1;if(c+4>=a)return!1;if(126!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(s=c>0?e.src.charCodeAt(c-1):-1,o=e.src.charCodeAt(c+2),126===s)return!1;if(126===o)return!1;if(32===o||10===o)return!1;for(r=c+2;r<a&&126===e.src.charCodeAt(r);)r++;if(r>c+3)return e.pos+=r-c,t||(e.pending+=e.src.slice(c,r)),!0;for(e.pos=c+2,i=1;e.pos+1<a;){if(126===e.src.charCodeAt(e.pos)&&126===e.src.charCodeAt(e.pos+1)&&(s=e.src.charCodeAt(e.pos-1),126!==(o=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&126!==s&&(32!==s&&10!==s?i--:32!==o&&10!==o&&i++,i<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=c+2,t||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=c,!1)}],["ins",function(e,t){var n,r,i,s,o,a=e.posMax,c=e.pos;if(43!==e.src.charCodeAt(c))return!1;if(t)return!1;if(c+4>=a)return!1;if(43!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(s=c>0?e.src.charCodeAt(c-1):-1,o=e.src.charCodeAt(c+2),43===s)return!1;if(43===o)return!1;if(32===o||10===o)return!1;for(r=c+2;r<a&&43===e.src.charCodeAt(r);)r++;if(r!==c+2)return e.pos+=r-c,t||(e.pending+=e.src.slice(c,r)),!0;for(e.pos=c+2,i=1;e.pos+1<a;){if(43===e.src.charCodeAt(e.pos)&&43===e.src.charCodeAt(e.pos+1)&&(s=e.src.charCodeAt(e.pos-1),43!==(o=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&43!==s&&(32!==s&&10!==s?i--:32!==o&&10!==o&&i++,i<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=c+2,t||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=c,!1)}],["mark",function(e,t){var n,r,i,s,o,a=e.posMax,c=e.pos;if(61!==e.src.charCodeAt(c))return!1;if(t)return!1;if(c+4>=a)return!1;if(61!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(s=c>0?e.src.charCodeAt(c-1):-1,o=e.src.charCodeAt(c+2),61===s)return!1;if(61===o)return!1;if(32===o||10===o)return!1;for(r=c+2;r<a&&61===e.src.charCodeAt(r);)r++;if(r!==c+2)return e.pos+=r-c,t||(e.pending+=e.src.slice(c,r)),!0;for(e.pos=c+2,i=1;e.pos+1<a;){if(61===e.src.charCodeAt(e.pos)&&61===e.src.charCodeAt(e.pos+1)&&(s=e.src.charCodeAt(e.pos-1),61!==(o=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&61!==s&&(32!==s&&10!==s?i--:32!==o&&10!==o&&i++,i<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=c+2,t||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=c,!1)}],["emphasis",function(e,t){var n,r,i,s,o,a,c,l=e.posMax,u=e.pos,d=e.src.charCodeAt(u);if(95!==d&&42!==d)return!1;if(t)return!1;if(n=(c=le(e,u)).delims,!c.can_open)return e.pos+=n,t||(e.pending+=e.src.slice(u,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=u+n,a=[n];e.pos<l;)if(e.src.charCodeAt(e.pos)!==d)e.parser.skipToken(e);else{if(r=(c=le(e,e.pos)).delims,c.can_close){for(s=a.pop(),o=r;s!==o;){if(o<s){a.push(s-o);break}if(o-=s,0===a.length)break;e.pos+=s,s=a.pop()}if(0===a.length){n=s,i=!0;break}e.pos+=r;continue}c.can_open&&a.push(r),e.pos+=r}return i?(e.posMax=e.pos,e.pos=u+n,t||(2!==n&&3!==n||e.push({type:"strong_open",level:e.level++}),1!==n&&3!==n||e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),1!==n&&3!==n||e.push({type:"em_close",level:--e.level}),2!==n&&3!==n||e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+n,e.posMax=l,!0):(e.pos=u,!1)}],["sub",function(e,t){var n,r,i=e.posMax,s=e.pos;if(126!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+2>=i)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=s+1;e.pos<i;){if(126===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&s+1!==e.pos?(r=e.src.slice(s+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=s,!1):(e.posMax=e.pos,e.pos=s+1,t||e.push({type:"sub",level:e.level,content:r.replace(ue,"$1")}),e.pos=e.posMax+1,e.posMax=i,!0):(e.pos=s,!1)}],["sup",function(e,t){var n,r,i=e.posMax,s=e.pos;if(94!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+2>=i)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=s+1;e.pos<i;){if(94===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&s+1!==e.pos?(r=e.src.slice(s+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=s,!1):(e.posMax=e.pos,e.pos=s+1,t||e.push({type:"sup",level:e.level,content:r.replace(de,"$1")}),e.pos=e.posMax+1,e.posMax=i,!0):(e.pos=s,!1)}],["links",function(e,t){var n,r,i,s,o,a,c,l,u=!1,d=e.pos,p=e.posMax,h=e.pos,f=e.src.charCodeAt(h);if(33===f&&(u=!0,f=e.src.charCodeAt(++h)),91!==f)return!1;if(e.level>=e.options.maxNesting)return!1;if(n=h+1,(r=x(e,h))<0)return!1;if((a=r+1)<p&&40===e.src.charCodeAt(a)){for(a++;a<p&&(32===(l=e.src.charCodeAt(a))||10===l);a++);if(a>=p)return!1;for(h=a,R(e,a)?(s=e.linkContent,a=e.pos):s="",h=a;a<p&&(32===(l=e.src.charCodeAt(a))||10===l);a++);if(a<p&&h!==a&&T(e,a))for(o=e.linkContent,a=e.pos;a<p&&(32===(l=e.src.charCodeAt(a))||10===l);a++);else o="";if(a>=p||41!==e.src.charCodeAt(a))return e.pos=d,!1;a++}else{if(e.linkLevel>0)return!1;for(;a<p&&(32===(l=e.src.charCodeAt(a))||10===l);a++);if(a<p&&91===e.src.charCodeAt(a)&&(h=a+1,(a=x(e,a))>=0?i=e.src.slice(h,a++):a=h-1),i||("undefined"===typeof i&&(a=r+1),i=e.src.slice(n,r)),!(c=e.env.references[O(i)]))return e.pos=d,!1;s=c.href,o=c.title}return t||(e.pos=n,e.posMax=r,u?e.push({type:"image",src:s,title:o,alt:e.src.substr(n,r-n),level:e.level}):(e.push({type:"link_open",href:s,title:o,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=a,e.posMax=p,!0}],["footnote_inline",function(e,t){var n,r,i,s,o=e.posMax,a=e.pos;return!(a+2>=o)&&(94===e.src.charCodeAt(a)&&(91===e.src.charCodeAt(a+1)&&(!(e.level>=e.options.maxNesting)&&(n=a+2,!((r=x(e,a+1))<0)&&(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),i=e.env.footnotes.list.length,e.pos=n,e.posMax=r,e.push({type:"footnote_ref",id:i,level:e.level}),e.linkLevel++,s=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[i]={tokens:e.tokens.splice(s)},e.linkLevel--),e.pos=r+1,e.posMax=o,!0)))))}],["footnote_ref",function(e,t){var n,r,i,s,o=e.posMax,a=e.pos;if(a+3>o)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(a))return!1;if(94!==e.src.charCodeAt(a+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(r=a+2;r<o;r++){if(32===e.src.charCodeAt(r))return!1;if(10===e.src.charCodeAt(r))return!1;if(93===e.src.charCodeAt(r))break}return r!==a+2&&(!(r>=o)&&(r++,n=e.src.slice(a+2,r-1),"undefined"!==typeof e.env.footnotes.refs[":"+n]&&(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+n]<0?(i=e.env.footnotes.list.length,e.env.footnotes.list[i]={label:n,count:0},e.env.footnotes.refs[":"+n]=i):i=e.env.footnotes.refs[":"+n],s=e.env.footnotes.list[i].count,e.env.footnotes.list[i].count++,e.push({type:"footnote_ref",id:i,subId:s,level:e.level})),e.pos=r,e.posMax=o,!0)))}],["autolink",function(e,t){var n,r,i,s,o,a=e.pos;return 60===e.src.charCodeAt(a)&&(!((n=e.src.slice(a)).indexOf(">")<0)&&((r=n.match(fe))?!(pe.indexOf(r[1].toLowerCase())<0)&&(o=A(s=r[0].slice(1,-1)),!!e.parser.validateLink(s)&&(t||(e.push({type:"link_open",href:o,level:e.level}),e.push({type:"text",content:s,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=r[0].length,!0)):!!(i=n.match(he))&&(o=A("mailto:"+(s=i[0].slice(1,-1))),!!e.parser.validateLink(o)&&(t||(e.push({type:"link_open",href:o,level:e.level}),e.push({type:"text",content:s,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=i[0].length,!0))))}],["htmltag",function(e,t){var n,r,i,s=e.pos;return!!e.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(s)||s+2>=i)&&(!(33!==(n=e.src.charCodeAt(s+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(r=e.src.slice(s).match(ve))&&(t||e.push({type:"htmltag",content:e.src.slice(s,s+r[0].length),level:e.level}),e.pos+=r[0].length,!0))))}],["entity",function(e,t){var n,r,s=e.pos,o=e.posMax;if(38!==e.src.charCodeAt(s))return!1;if(s+1<o)if(35===e.src.charCodeAt(s+1)){if(r=e.src.slice(s).match(we))return t||(n="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),e.pending+=u(n)?d(n):d(65533)),e.pos+=r[0].length,!0}else if(r=e.src.slice(s).match(ke)){var a=i(r[1]);if(r[1]!==a)return t||(e.pending+=a),e.pos+=r[0].length,!0}return t||(e.pending+="&"),e.pos++,!0}]];function _e(){this.ruler=new C;for(var e=0;e<Ee.length;e++)this.ruler.push(Ee[e][0],Ee[e][1]);this.validateLink=Se}function Se(e){var t=e.trim().toLowerCase();return-1===(t=g(t)).indexOf(":")||-1===["vbscript","javascript","file","data"].indexOf(t.split(":")[0])}_e.prototype.skipToken=function(e){var t,n,r=this.ruler.getRules(""),i=r.length,s=e.pos;if((n=e.cacheGet(s))>0)e.pos=n;else{for(t=0;t<i;t++)if(r[t](e,!0))return void e.cacheSet(s,e.pos);e.pos++,e.cacheSet(s,e.pos)}},_e.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),i=r.length,s=e.posMax;e.pos<s;){for(n=0;n<i&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=s)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},_e.prototype.parse=function(e,t,n,r){var i=new I(e,this,t,n,r);this.tokenize(i)};var Ce={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},full:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}};function Ie(e,t,n){this.src=t,this.env=n,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function xe(e,t){"string"!==typeof e&&(t=e,e="default"),t&&null!=t.linkify&&console.warn("linkify option is removed. Use linkify plugin instead:\n\nimport Remarkable from 'remarkable';\nimport linkify from 'remarkable/linkify';\nnew Remarkable().use(linkify)\n"),this.inline=new _e,this.block=new te,this.core=new H,this.renderer=new S,this.ruler=new C,this.options={},this.configure(Ce[e]),this.set(t||{})}xe.prototype.set=function(e){a(this.options,e)},xe.prototype.configure=function(e){var t=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enable(e.components[n].rules,!0)}))},xe.prototype.use=function(e,t){return e(this,t),this},xe.prototype.parse=function(e,t){var n=new Ie(this,e,t);return this.core.process(n),n.tokens},xe.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},xe.prototype.parseInline=function(e,t){var n=new Ie(this,e,t);return n.inlineMode=!0,this.core.process(n),n.tokens},xe.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)}},22232:e=>{var t=new Error("Element already at target scroll position"),n=new Error("Scroll cancelled"),r=Math.min,i=Date.now;function s(e){return function(s,c,l,u){"function"==typeof(l=l||{})&&(u=l,l={}),"function"!=typeof u&&(u=a);var d=i(),p=s[e],h=l.ease||o,f=isNaN(l.duration)?350:+l.duration,g=!1;return p===c?u(t,s[e]):requestAnimationFrame((function t(o){if(g)return u(n,s[e]);var a=i(),l=r(1,(a-d)/f),y=h(l);s[e]=y*(c-p)+p,l<1?requestAnimationFrame(t):requestAnimationFrame((function(){u(null,s[e])}))})),function(){g=!0}}}function o(e){return.5*(1-Math.cos(Math.PI*e))}function a(){}e.exports={left:s("scrollLeft"),top:s("scrollTop")}},88199:function(e,t){var n,r,i;r=[],void 0===(i="function"===typeof(n=function(){var e=/(auto|scroll)/,t=function(e,n){return null===e.parentNode?n:t(e.parentNode,n.concat([e]))},n=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},r=function(e){return n(e,"overflow")+n(e,"overflow-y")+n(e,"overflow-x")},i=function(t){return e.test(r(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=t(e.parentNode,[]),r=0;r<n.length;r+=1)if(i(n[r]))return n[r];return document.scrollingElement||document.documentElement}}})?n.apply(t,r):n)||(e.exports=i)},31579:(e,t,n)=>{"use strict";const r=n(61558);e.exports=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!r(e)&&!Array.isArray(e))throw new TypeError("Expected a plain object or array");const{deep:n}=t,i=[],s=[],o=e=>{const t=i.indexOf(e);if(-1!==t)return s[t];const n=[];return i.push(e),s.push(n),n.push(...e.map((e=>Array.isArray(e)?o(e):r(e)?a(e):e))),n},a=e=>{const c=i.indexOf(e);if(-1!==c)return s[c];const l={},u=Object.keys(e).sort(t.compare);i.push(e),s.push(l);for(const t of u){const i=e[t];let s;s=n&&Array.isArray(i)?o(i):n&&r(i)?a(i):i,Object.defineProperty(l,t,{...Object.getOwnPropertyDescriptor(e,t),value:s})}return l};return Array.isArray(e)?n?o(e):e.slice():a(e)}},98767:(e,t,n)=>{"use strict";const{AbortController:r}=globalThis,i=n(46094);class s extends r{constructor(e){super(),this._ms=e,this._timer=i((()=>this.abort()),e),Object.setPrototypeOf(this,s.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=i((()=>this.abort()),this._ms)}}e.exports={TimeoutController:s}},21533:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},75617:(e,t,n)=>{e.exports={encode:n(84243),decode:n(69504),encodingLength:n(83754)}},56373:()=>{},15861:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,c,"next",e)}function c(e){r(o,i,s,a,c,"throw",e)}a(void 0)}))}}n.d(t,{Z:()=>i})},60372:(e,t,n)=>{"use strict";n.r(t),n.d(t,{code:()=>c,decode:()=>u,encode:()=>l,name:()=>a});var r=n(64429),i=n(32743);const s={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=i.CID.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new r.WU(r.Dy.tag,42),new r.WU(r.Dy.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const o={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};o.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return i.CID.decode(e.subarray(1))};const a="dag-cbor",c=113,l=e=>r.cv(e,s),u=e=>r.Jx(e,o)},47922:(e,t,n)=>{"use strict";n.r(t),n.d(t,{code:()=>P,createLink:()=>I,createNode:()=>C,decode:()=>R,encode:()=>A,name:()=>x,prepare:()=>_,validate:()=>S});var r=n(32743);const i=new TextDecoder;function s(e,t){let n=0;for(let r=0;;r+=7){if(r>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const i=e[t++];if(n+=r<28?(127&i)<<r:(127&i)*2**r,i<128)break}return[n,t]}function o(e,t){let n;[n,t]=s(e,t);const r=t+n;if(n<0||r<0)throw new Error("protobuf: invalid length");if(r>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,r),r]}function a(e,t){let n;return[n,t]=s(e,t),[7&n,n>>3,t]}function c(e){const t={},n=e.length;let r=0;for(;r<n;){let n,c;if([n,c,r]=a(e,r),1===c){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,r]=o(e,r)}else if(2===c){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let s;[s,r]=o(e,r),t.Name=i.decode(s)}else{if(3!==c)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${c}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[t.Tsize,r]=s(e,r)}}if(r>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const l=new TextEncoder,u=2**32;function d(e,t){let n=t.length;if("number"===typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");n=f(t,n,e.Tsize)-1,t[n]=24}if("string"===typeof e.Name){const r=l.encode(e.Name);n-=r.length,t.set(r,n),n=f(t,n,r.length)-1,t[n]=18}return e.Hash&&(n-=e.Hash.length,t.set(e.Hash,n),n=f(t,n,e.Hash.length)-1,t[n]=10),t.length-n}function p(e){const t=function(e){let t=0;if(e.Data){const n=e.Data.length;t+=1+n+g(n)}if(e.Links)for(const n of e.Links){const e=h(n);t+=1+e+g(e)}return t}(e),n=new Uint8Array(t);let r=t;if(e.Data&&(r-=e.Data.length,n.set(e.Data,r),r=f(n,r,e.Data.length)-1,n[r]=10),e.Links)for(let i=e.Links.length-1;i>=0;i--){const t=d(e.Links[i],n.subarray(0,r));r-=t,r=f(n,r,t)-1,n[r]=18}return n}function h(e){let t=0;if(e.Hash){const n=e.Hash.length;t+=1+n+g(n)}if("string"===typeof e.Name){const n=l.encode(e.Name).length;t+=1+n+g(n)}return"number"===typeof e.Tsize&&(t+=1+g(e.Tsize)),t}function f(e,t,n){const r=t-=g(n);for(;n>=2147483648;)e[t++]=127&n|128,n/=128;for(;n>=128;)e[t++]=127&n|128,n>>>=7;return e[t]=n,r}function g(e){return e%2===0&&e++,Math.floor((function(e){let t=0;e>=u&&(e=Math.floor(e/u),t=32);e>=65536&&(e>>>=16,t+=16);e>=256&&(e>>>=8,t+=8);return t+y[e]}(e)+6)/7)}const y=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],m=["Data","Links"],b=["Hash","Name","Tsize"],v=new TextEncoder;function w(e,t){if(e===t)return 0;const n=e.Name?v.encode(e.Name):[],r=t.Name?v.encode(t.Name):[];let i=n.length,s=r.length;for(let o=0,a=Math.min(i,s);o<a;++o)if(n[o]!==r[o]){i=n[o],s=r[o];break}return i<s?-1:s<i?1:0}function k(e,t){return!Object.keys(e).some((e=>!t.includes(e)))}function E(e){if("object"===typeof e.asCID){const t=r.CID.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let i=r.CID.asCID(e.Hash);try{i||("string"===typeof e.Hash?i=r.CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(i=r.CID.decode(e.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}i&&(t.Hash=i)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"===typeof e.Name&&(t.Name=e.Name),"number"===typeof e.Tsize&&(t.Tsize=e.Tsize),t}function _(e){if((e instanceof Uint8Array||"string"===typeof e)&&(e={Data:e}),"object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==e.Data)if("string"===typeof e.Data)t.Data=v.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(E),t.Links.sort(w)}else t.Links=[];return t}function S(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!k(e,m))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){const n=e.Links[t];if(!n||"object"!==typeof n||Array.isArray(n))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!k(n,b))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(n.Hash.asCID!==n.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!==typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize&&("number"!==typeof n.Tsize||n.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&-1===w(n,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return _({Data:e,Links:t})}function I(e,t,n){return E({Hash:n,Name:e,Tsize:t})}const x="dag-pb",P=112;function A(e){S(e);const t={};return e.Links&&(t.Links=e.Links.map((e=>{const t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),p(t)}function R(e){const t=function(e){const t=e.length;let n,r,i=0,s=!1;for(;i<t;){let t,l;if([t,l,i]=a(e,i),2!==t)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${t}`);if(1===l){if(r)throw new Error("protobuf: (PBNode) duplicate Data section");[r,i]=o(e,i),n&&(s=!0)}else{if(2!==l)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${l}`);{if(s)throw new Error("protobuf: (PBNode) duplicate Links section");let t;n||(n=[]),[t,i]=o(e,i),n.push(c(t))}}}if(i>t)throw new Error("protobuf: (PBNode) unexpected end of data");const l={};return r&&(l.Data=r),l.Links=n||[],l}(e),n={};return t.Data&&(n.Data=t.Data),t.Links&&(n.Links=t.Links.map((e=>{const t={};try{t.Hash=r.CID.decode(e.Hash)}catch(n){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),n}},24349:(e,t,n)=>{"use strict";n.d(t,{Ed:()=>i.E});var r=n(8266),i=n(8511);n(37464)},64429:(e,t,n)=>{"use strict";n.d(t,{Dy:()=>s.D,Jx:()=>i.Jx,WU:()=>s.W,cv:()=>r.cv});var r=n(61041),i=n(4712),s=n(96585)},53460:(e,t,n)=>{"use strict";n.d(t,{BB:()=>c,Dz:()=>a,Pu:()=>m,mL:()=>l,nI:()=>u,qu:()=>f,tP:()=>d,un:()=>h,zo:()=>p});const r=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,i=new TextDecoder,s=new TextEncoder;function o(e){return r&&globalThis.Buffer.isBuffer(e)}function a(e){return e instanceof Uint8Array?o(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const c=r?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):y(e,t,n):(e,t,n)=>n-t>64?i.decode(e.subarray(t,n)):y(e,t,n),l=r?e=>e.length>64?globalThis.Buffer.from(e):g(e):e=>e.length>64?s.encode(e):g(e),u=e=>Uint8Array.from(e),d=r?(e,t,n)=>o(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),p=r?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),a(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let i of e)r+i.length>n.length&&(i=i.subarray(0,n.length-r)),n.set(i,r),r+=i.length;return n},h=r?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function f(e,t){if(o(e)&&o(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}function g(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const r=e.length;let i=null;const s=[];for(let o=0;o<r;++o){if(t=e.charCodeAt(o),t>55295&&t<57344){if(!i){if(t>56319){(n-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(n-=3)>-1&&s.push(239,191,189);continue}i=t;continue}if(t<56320){(n-=3)>-1&&s.push(239,191,189),i=t;continue}t=65536+(i-55296<<10|t-56320)}else i&&(n-=3)>-1&&s.push(239,191,189);if(i=null,t<128){if((n-=1)<0)break;s.push(t)}else if(t<2048){if((n-=2)<0)break;s.push(t>>6|192,63&t|128)}else if(t<65536){if((n-=3)<0)break;s.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return s}function y(e,t,n){const r=[];for(;t<n;){const i=e[t];let s=null,o=i>239?4:i>223?3:i>191?2:1;if(t+o<=n){let n,r,a,c;switch(o){case 1:i<128&&(s=i);break;case 2:n=e[t+1],128===(192&n)&&(c=(31&i)<<6|63&n,c>127&&(s=c));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(c=(15&i)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&i)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),t+=o}return m(r)}function m(e){const t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}},92526:(e,t,n)=>{"use strict";n.d(t,{DO:()=>o,IR:()=>r,OO:()=>i});const r="CBOR decode error:",i="CBOR encode error:",s=[];function o(e,t,n){if(e.length-t<n)throw new Error(`${r} not enough data for type`)}s[23]=1,s[24]=2,s[25]=3,s[26]=5,s[27]=9},4712:(e,t,n)=>{"use strict";n.d(t,{Jx:()=>d});var r=n(92526),i=n(96585),s=n(14829);const o={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=s.PS[e];if(void 0===t){const n=s.cW[e];if(!n)throw new Error(`${r.IR} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const i=31&e;t=n(this.data,this.pos,i,this.options)}return this.pos+=t.encodedLength,t}}const c=Symbol.for("DONE"),l=Symbol.for("BREAK");function u(e,t){if(e.done())return c;const n=e.next();if(n.type===i.D.break)return l;if(n.type.terminal)return n.value;if(n.type===i.D.array)return function(e,t,n){const i=[];for(let s=0;s<e.value;s++){const o=u(t,n);if(o===l){if(e.value===1/0)break;throw new Error(`${r.IR} got unexpected break to lengthed array`)}if(o===c)throw new Error(`${r.IR} found array but not enough entries (got ${s}, expected ${e.value})`);i[s]=o}return i}(n,e,t);if(n.type===i.D.map)return function(e,t,n){const i=!0===n.useMaps,s=i?void 0:{},o=i?new Map:void 0;for(let a=0;a<e.value;a++){const d=u(t,n);if(d===l){if(e.value===1/0)break;throw new Error(`${r.IR} got unexpected break to lengthed map`)}if(d===c)throw new Error(`${r.IR} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(!0!==i&&"string"!==typeof d)throw new Error(`${r.IR} non-string keys not supported (got ${typeof d})`);const p=u(t,n);if(p===c)throw new Error(`${r.IR} found map but not enough entries (got ${a} [no value], expected ${e.value})`);i?o.set(d,p):s[d]=p}return i?o:s}(n,e,t);if(n.type===i.D.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=u(e,t);return t.tags[n.value](r)}throw new Error(`${r.IR} tag not supported (${n.value})`)}throw new Error("unsupported")}function d(e,t){if(!(e instanceof Uint8Array))throw new Error(`${r.IR} data to decode must be a Uint8Array`);const n=(t=Object.assign({},o,t)).tokenizer||new a(e,t),i=u(n,t);if(i===c)throw new Error(`${r.IR} did not find any content to decode`);if(i===l)throw new Error(`${r.IR} got unexpected break`);if(!n.done())throw new Error(`${r.IR} too many terminals, data makes no sense`);return i}},61041:(e,t,n)=>{"use strict";n.d(t,{cv:()=>I,w$:()=>C});var r=n(86525),i=n(96585),s=n(56130),o=n(92526),a=n(14829),c=n(53460),l=n(9679),u=n(26421),d=n(99609),p=n(95665),h=n(88925),f=n(68613),g=n(50688),y=n(46947);const m={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,s=b[i].compareTokens(n,r);0===s&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return s},quickEncodeToken:a.JN};const b=function(){const e=[];return e[i.D.uint.major]=l.Fh,e[i.D.negint.major]=u.UT,e[i.D.bytes.major]=d.hg,e[i.D.string.major]=p.YW,e[i.D.array.major]=h.HF,e[i.D.map.major]=f.KI,e[i.D.tag.major]=g.xy,e[i.D.float.major]=y.tA,e}(),v=new s.Bl;class w{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${o.OO} object contains circular references`);return new w(t,e)}}const k={null:new i.W(i.D.null,null),undefined:new i.W(i.D.undefined,void 0),true:new i.W(i.D.true,!0),false:new i.W(i.D.false,!1),emptyArray:new i.W(i.D.array,0),emptyMap:new i.W(i.D.map,0)},E={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new i.W(i.D.uint,e):new i.W(i.D.negint,e):new i.W(i.D.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new i.W(i.D.uint,e):new i.W(i.D.negint,e),Uint8Array:(e,t,n,r)=>new i.W(i.D.bytes,e),string:(e,t,n,r)=>new i.W(i.D.string,e),boolean:(e,t,n,r)=>e?k.true:k.false,null:(e,t,n,r)=>k.null,undefined:(e,t,n,r)=>k.undefined,ArrayBuffer:(e,t,n,r)=>new i.W(i.D.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new i.W(i.D.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[k.emptyArray,new i.W(i.D.break)]:k.emptyArray;r=w.createCheck(r,e);const s=[];let o=0;for(const i of e)s[o++]=_(i,n,r);return n.addBreakTokens?[new i.W(i.D.array,e.length),s,new i.W(i.D.break)]:[new i.W(i.D.array,e.length),s]},Object(e,t,n,r){const s="Object"!==t,o=s?e.keys():Object.keys(e),a=s?e.size:o.length;if(!a)return!0===n.addBreakTokens?[k.emptyMap,new i.W(i.D.break)]:k.emptyMap;r=w.createCheck(r,e);const c=[];let l=0;for(const i of o)c[l++]=[_(i,n,r),_(s?e.get(i):e[i],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(c,n),n.addBreakTokens?[new i.W(i.D.map,a),c,new i.W(i.D.break)]:[new i.W(i.D.map,a),c]}};E.Map=E.Object,E.Buffer=E.Uint8Array;for(const x of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))E[`${x}Array`]=E.DataView;function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=(0,r.is)(e),s=t&&t.typeEncoders&&t.typeEncoders[i]||E[i];if("function"===typeof s){const r=s(e,i,t,n);if(null!=r)return r}const a=E[i];if(!a)throw new Error(`${o.OO} unsupported type: ${i}`);return a(e,i,t,n)}function S(e,t,n,r){if(Array.isArray(t))for(const i of t)S(e,i,n,r);else n[t.type.major](e,t,r)}function C(e,t,n){const r=_(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const i=t[r.type.major];if(i.encodedSize){const e=i.encodedSize(r,n),t=new s.Bl(e);if(i(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return(0,c.Dz)(t.chunks[0])}}return v.reset(),S(v,r,t,n),v.toBytes(!0)}function I(e,t){return t=Object.assign({},m,t),C(e,b,t)}},25937:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var r=n(96585),i=n(61041),s=n(92526),o=n(53460);class a extends Array{constructor(){super(),this.inRecursive=[]}prefix(e){const t=this.inRecursive[this.inRecursive.length-1];t&&(t.type===r.D.array&&(t.elements++,1!==t.elements&&e.push([44])),t.type===r.D.map&&(t.elements++,1!==t.elements&&(t.elements%2===1?e.push([44]):e.push([58]))))}[r.D.uint.major](e,t){this.prefix(e);const n=String(t.value),r=[];for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);e.push(r)}[r.D.negint.major](e,t){this[r.D.uint.major](e,t)}[r.D.bytes.major](e,t){throw new Error(`${s.OO} unsupported type: Uint8Array`)}[r.D.string.major](e,t){this.prefix(e);const n=(0,o.mL)(JSON.stringify(t.value));e.push(n.length>32?(0,o.Dz)(n):n)}[r.D.array.major](e,t){this.prefix(e),this.inRecursive.push({type:r.D.array,elements:0}),e.push([91])}[r.D.map.major](e,t){this.prefix(e),this.inRecursive.push({type:r.D.map,elements:0}),e.push([123])}[r.D.tag.major](e,t){}[r.D.float.major](e,t){if("break"===t.type.name){const t=this.inRecursive.pop();if(t){if(t.type===r.D.array)e.push([93]);else{if(t.type!==r.D.map)throw new Error("Unexpected recursive type; this should not happen!");e.push([125])}return}throw new Error("Unexpected break; this should not happen!")}if(void 0===t.value)throw new Error(`${s.OO} unsupported type: undefined`);if(this.prefix(e),"true"===t.type.name)return void e.push([116,114,117,101]);if("false"===t.type.name)return void e.push([102,97,108,115,101]);if("null"===t.type.name)return void e.push([110,117,108,108]);const n=String(t.value),i=[];let o=!1;for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r),o||46!==i[r]&&101!==i[r]&&69!==i[r]||(o=!0);o||(i.push(46),i.push(48)),e.push(i)}}const c={addBreakTokens:!0,mapSorter:function(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw new Error(`${s.OO} complex map keys are not supported`);const n=e[0],i=t[0];if(n.type!==r.D.string||i.type!==r.D.string)throw new Error(`${s.OO} non-string map keys are not supported`);if(n<i)return-1;if(n>i)return 1;throw new Error(`${s.OO} unexpected duplicate map keys, this is not supported`)}};function l(e,t){return t=Object.assign({},c,t),(0,i.w$)(e,new a,t)}},14829:(e,t,n)=>{"use strict";n.d(t,{JN:()=>b,PS:()=>m,cW:()=>y});var r=n(96585),i=n(9679),s=n(26421),o=n(99609),a=n(95665),c=n(88925),l=n(68613),u=n(50688),d=n(46947),p=n(92526),h=n(53460);function f(e,t,n){throw new Error(`${p.IR} encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function g(e){return()=>{throw new Error(`${p.IR} ${e}`)}}const y=[];for(let v=0;v<=23;v++)y[v]=f;y[24]=i.Km,y[25]=i.Zh,y[26]=i.cs,y[27]=i.uN,y[28]=f,y[29]=f,y[30]=f,y[31]=f;for(let v=32;v<=55;v++)y[v]=f;y[56]=s.yr,y[57]=s.r0,y[58]=s.wy,y[59]=s.ec,y[60]=f,y[61]=f,y[62]=f,y[63]=f;for(let v=64;v<=87;v++)y[v]=o.Ii;y[88]=o.UQ,y[89]=o.BS,y[90]=o.zU,y[91]=o.ME,y[92]=f,y[93]=f,y[94]=f,y[95]=g("indefinite length bytes/strings are not supported");for(let v=96;v<=119;v++)y[v]=a.nt;y[120]=a.Bq,y[121]=a.h,y[122]=a.q0,y[123]=a.bc,y[124]=f,y[125]=f,y[126]=f,y[127]=g("indefinite length bytes/strings are not supported");for(let v=128;v<=151;v++)y[v]=c.Ju;y[152]=c.h7,y[153]=c.OC,y[154]=c.lY,y[155]=c.a8,y[156]=f,y[157]=f,y[158]=f,y[159]=c.s5;for(let v=160;v<=183;v++)y[v]=l._K;y[184]=l.G,y[185]=l.qe,y[186]=l.IY,y[187]=l.F2,y[188]=f,y[189]=f,y[190]=f,y[191]=l.ng;for(let v=192;v<=215;v++)y[v]=u.qJ;y[216]=u.ZR,y[217]=u.CF,y[218]=u.vP,y[219]=u.MV,y[220]=f,y[221]=f,y[222]=f,y[223]=f;for(let v=224;v<=243;v++)y[v]=g("simple values are not supported");y[244]=f,y[245]=f,y[246]=f,y[247]=d.h1,y[248]=g("simple values are not supported"),y[249]=d.mW,y[250]=d.GI,y[251]=d.vV,y[252]=f,y[253]=f,y[254]=f,y[255]=d.y7;const m=[];for(let v=0;v<24;v++)m[v]=new r.W(r.D.uint,v,1);for(let v=-1;v>=-24;v--)m[31-v]=new r.W(r.D.negint,v,1);function b(e){switch(e.type){case r.D.false:return(0,h.nI)([244]);case r.D.true:return(0,h.nI)([245]);case r.D.null:return(0,h.nI)([246]);case r.D.bytes:return e.value.length?void 0:(0,h.nI)([64]);case r.D.string:return""===e.value?(0,h.nI)([96]):void 0;case r.D.array:return 0===e.value?(0,h.nI)([128]):void 0;case r.D.map:return 0===e.value?(0,h.nI)([160]):void 0;case r.D.uint:return e.value<24?(0,h.nI)([Number(e.value)]):void 0;case r.D.negint:if(e.value>=-24)return(0,h.nI)([31-Number(e.value)])}}m[64]=new r.W(r.D.bytes,new Uint8Array(0),1),m[96]=new r.W(r.D.string,"",1),m[128]=new r.W(r.D.array,0,1),m[160]=new r.W(r.D.map,0,1),m[244]=new r.W(r.D.false,!1,1),m[245]=new r.W(r.D.true,!0,1),m[246]=new r.W(r.D.null,null,1)},96585:(e,t,n)=>{"use strict";n.d(t,{D:()=>r,W:()=>i});class r{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}r.uint=new r(0,"uint",!0),r.negint=new r(1,"negint",!0),r.bytes=new r(2,"bytes",!0),r.string=new r(3,"string",!0),r.array=new r(4,"array",!1),r.map=new r(5,"map",!1),r.tag=new r(6,"tag",!1),r.float=new r(7,"float",!0),r.false=new r(7,"false",!0),r.true=new r(7,"true",!0),r.null=new r(7,"null",!0),r.undefined=new r(7,"undefined",!0),r.break=new r(7,"break",!0);class i{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}},62287:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseDatastore:()=>s.e,Errors:()=>p,KeyTransformDatastore:()=>a.v,MemoryDatastore:()=>o.MemoryDatastore,MountDatastore:()=>l.L,NamespaceDatastore:()=>d.v,ShardingDatastore:()=>c.G,TieredDatastore:()=>u.z,shard:()=>h});var r=n(66957),i=n(87511),s=n(8954),o=n(51854),a=n(13252),c=n(64661),l=n(11524),u=n(97823),d=n(69611);const p=r,h=i},49301:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var r=n(96032),i=n(43019),s=n(48009),o=n(71038);const a=s.v.Wantlist.WantType.Block,c=s.v.Wantlist.WantType.Have;class l{constructor(e,t){this.set=t?o({system:"ipfs",component:"bitswap",metric:"wantlist",metrics:t.metrics}):new Map,this._stats=e}get length(){return this.set.size}add(e,t,n){const s=e.toString(i.base58btc),o=this.set.get(s);o?(o.inc(),o.priority=t,o.wantType===c&&n===a&&(o.wantType=n)):(this.set.set(s,new r.D(e,t,n)),this._stats&&this._stats.push(null,"wantListSize",1))}remove(e){const t=e.toString(i.base58btc),n=this.set.get(t);n&&(n.dec(),n.hasRefs()||(this.set.delete(t),this._stats&&this._stats.push(null,"wantListSize",-1)))}removeForce(e){this.set.has(e)&&this.set.delete(e)}forEach(e){return this.set.forEach(e)}entries(){return this.set.entries()}sortedEntries(){return new Map((e=e=>e[1].key,t=Array.from(this.set.entries()),Array.prototype.slice.call(t,0).sort(((t,n)=>{const r=e(t),i=e(n);return r<i?-1:r>i?1:0}))));var e,t}contains(e){const t=e.toString(i.base58btc);return this.set.has(t)}get(e){const t=e.toString(i.base58btc);return this.set.get(t)}}l.Entry=r.D},40389:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(15504),i=n(55194),s=n(62469),o=n(60191),a=n(47664),c=n(5724);async function*l(e,t){if("string"===typeof e||e instanceof String||(0,a._t)(e)||(0,a.Lj)(e)||e._readableState)throw r(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if((0,a.Os)(e)&&(e=i(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const n=s(e),{value:i,done:c}=await n.peek();if(c)return void(yield*[]);if(n.push(i),Number.isInteger(i))throw r(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(i._readableState)return void(yield*o(n,(e=>u({content:e},t))));if((0,a._t)(i))return void(yield u({content:n},t));if((0,a.Mk)(i)||i[Symbol.iterator]||i[Symbol.asyncIterator]||(0,a.Os)(i)||(0,a.Lj)(i))return void(yield*o(n,(e=>u(e,t))))}if((0,a.Mk)(e))throw r(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw r(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function u(e,t){const{path:n,mode:r,mtime:i,content:s}=e,o={path:n||"",mode:(0,c.tK)(r),mtime:(0,c.Xu)(i)};return s?o.content=await t(s):n||(o.content=await t(e)),o}},41048:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(98767),i=n(98691),s=n(73620);class o extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request timed out"),this.name="TimeoutError",this.code=o.code}}function a(e,t){return function(){for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];const l=a[null==t?a.length-1:t];if(!l||!l.timeout)return e(...a);const u="string"===typeof l.timeout?(0,s.Z)(l.timeout):l.timeout,d=new r.TimeoutController(u);l.signal=(0,i.anySignal)([l.signal,d.signal]);const p=e(...a),h=new Promise(((e,t)=>{d.signal.addEventListener("abort",(()=>{t(new o)}))})),f=Date.now(),g=()=>{if(d.signal.aborted)throw new o;if(Date.now()-f>u)throw d.abort(),new o};return p[Symbol.asyncIterator]?async function*(){const e=p[Symbol.asyncIterator]();try{for(;;){const{value:t,done:n}=await Promise.race([e.next(),h]);if(n)break;g(),yield t}}catch(t){throw g(),t}finally{d.clear(),e.return&&e.return()}}():(async()=>{try{const e=await Promise.race([p,h]);return g(),e}catch(e){throw g(),e}finally{d.clear()}})()}}o.code="ERR_TIMEOUT"},70962:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(26494);let i;function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(i)return i;const t=r({singleProcess:e});return i={readLock:e=>async function(){const n=await t.readLock();try{for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return await e.apply(null,i)}finally{n()}},writeLock:e=>async function(){const n=await t.writeLock();try{for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return await e.apply(null,i)}finally{n()}}},i}},61542:(e,t,n)=>{"use strict";n.d(t,{x:()=>d});var r=n(32743),i=n(5724),s=n(47922),o=n(92829),a=n(60720),c=n(15504),l=n(97085);const u=a("ipfs:mfs:utils:with-mfs-root");async function d(e,t){if(t&&t.signal&&t.signal.aborted)throw c(new Error("Request aborted"),"ERR_ABORTED",{name:"Aborted"});let n;await e.repo.datastore.open();try{const t=await e.repo.datastore.get(l.Nt);n=r.CID.decode(t)}catch(a){if("ERR_NOT_FOUND"!==a.code)throw a;u("Creating new MFS root");const d=s.encode({Data:new i.fL({type:"directory"}).marshal(),Links:[]}),p=await o.sha256.digest(d);if(n=r.CID.createV0(p),await e.repo.blocks.put(n,d),t&&t.signal&&t.signal.aborted)throw c(new Error("Request aborted"),"ERR_ABORTED",{name:"Aborted"});await e.repo.datastore.put(l.Nt,n.bytes)}return u(`Loaded MFS root /ipfs/${n}`),n}},31229:(e,t,n)=>{"use strict";n.d(t,{Ue:()=>Jl,bf:()=>eu});var r={};n.r(r),n.d(r,{code:()=>w,decode:()=>E,encode:()=>k,name:()=>v});var i=n(664),s=n(41257),o=n(60720),a=n(15504),c=n(5724),l=n(47922),u=n(60372),d=n(28546),p=n(63225),h=n(64429),f=n(54743);function g(e){const t=p.base64.encode(e).slice(1);return[new h.WU(h.Dy.map,1/0,1),new h.WU(h.Dy.string,"/",1),new h.WU(h.Dy.map,1/0,1),new h.WU(h.Dy.string,"bytes",5),new h.WU(h.Dy.string,t,t.length),new h.WU(h.Dy.break,void 0,1),new h.WU(h.Dy.break,void 0,1)]}const y={typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=d.k0.asCID(e);if(!t)return null;const n=t.toString();return[new h.WU(h.Dy.map,1/0,1),new h.WU(h.Dy.string,"/",1),new h.WU(h.Dy.string,n,n.length),new h.WU(h.Dy.break,void 0,1)]},Uint8Array:g,Buffer:g,undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};class m extends f.d2{constructor(e,t){super(e,t),this.tokenBuffer=[]}done(){return 0===this.tokenBuffer.length&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const e=this._next();if(e.type===h.Dy.map){const e=this._next();if(e.type===h.Dy.string&&"/"===e.value){const e=this._next();if(e.type===h.Dy.string){if(this._next().type!==h.Dy.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(e),new h.WU(h.Dy.tag,42,0)}if(e.type===h.Dy.map){const e=this._next();if(e.type===h.Dy.string&&"bytes"===e.value){const e=this._next();if(e.type===h.Dy.string){for(let e=0;e<2;e++){if(this._next().type!==h.Dy.break)throw new Error("Invalid encoded Bytes form")}const t=p.base64.decode(`m${e.value}`);return new h.WU(h.Dy.bytes,t,e.value.length)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}return e}}const b={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};b.tags[42]=d.k0.parse;const v="dag-json",w=297,k=e=>f.cv(e,y),E=e=>{const t=Object.assign(b,{tokenizer:new m(e,b)});return f.Jx(e,t)};var _=n(58735),S=n.t(_,2),C=n(80073),I=n(40963),x=n(38167);class P extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not initialized"),this.name="NotInitializedError",this.code=P.code}}P.code="ERR_NOT_INITIALIZED";class A extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cannot initialize an initializing node"),this.name="AlreadyInitializingError",this.code=R.code}}A.code="ERR_ALREADY_INITIALIZING";class R extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cannot re-initialize an initialized node"),this.name="AlreadyInitializedError",this.code=R.code}}R.code="ERR_ALREADY_INITIALIZED";class T extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not started"),this.name="NotStartedError",this.code=T.code}}T.code="ERR_NOT_STARTED";class O extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cannot start, already startin"),this.name="AlreadyStartingError",this.code=O.code}}O.code="ERR_ALREADY_STARTING";class D extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cannot start, already started"),this.name="AlreadyStartedError",this.code=D.code}}D.code="ERR_ALREADY_STARTED";class M extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not enabled"),this.name="NotEnabledError",this.code=M.code}}M.code="ERR_NOT_ENABLED";var N=n(68425),j=n(97085);class L{static create(e){let{start:t,stop:n}=e;return new L(t,n)}static async start(e,t){const{state:n,activate:r}=e;switch(n.status){case"stopped":try{const n=r(t);e.state={status:"starting",ready:n};const i=await n;return e.state={status:"started",value:i},i}catch(i){throw e.state={status:"stopped"},i}case"starting":throw new O;case"started":throw new D;case"stopping":return await n.ready,await L.start(e,t);default:return L.panic(e)}}static async stop(e){const{state:t,deactivate:n}=e;switch(t.status){case"stopped":break;case"starting":try{await t.ready}catch(r){}return await L.stop(e);case"stopping":return await t.ready;case"started":n&&await n(t.value),e.state={status:"stopped"};break;default:L.panic(t)}}static try(e){let{state:t}=e;return"started"===t.status?t.value:null}static async use(e,t){let{state:n}=e;switch(n.status){case"started":return n.value;case"starting":return await(0,j.Fb)(n.ready,t);default:throw new T}}static panic(e){let{state:t}=e;const n=JSON.stringify({status:t.status});throw RangeError(`Service in invalid state ${n}, should never happen if you see this please report a bug`)}constructor(e,t){this.activate=e,this.deactivate=t,this.state={status:"stopped"}}async use(e){return await L.use(this,e)}try(){return L.try(this)}}var B=n(42623),z=n(60185),F=n(68170);const U=new B.E(1e3),W=new(z.default?z.default:z)({concurrency:4}),$=e=>{if(e.Path)return e.Path;throw new Error(e.Message)};async function q(e,t){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new URLSearchParams(t);n.set("arg",e);const r=n.toString();if(!t.nocache&&U.has(r)){const e=U.get(r);return $(e)}const i=await W.add((async()=>{const e=await F.get("https://ipfs.io/api/v0/dns",{searchParams:n}),t=new URL(e.url).search.slice(1),r=await e.json();return U.set(t,r,6e4),r}));return $(i)}(e,t)}var H=n(41048);function K(e){return e.endsWith(".eth")&&(e=e.replace(/.eth$/,".eth.link")),e}var V=n(7022),G=n(13380),X=n(32743),Z=n(91401);function Q(e){try{return Z.parse(e).toBytes()}catch{return X.CID.parse(e).bytes}}var Y=n(16586);async function*J(e){if(null===e||void 0===e)throw a(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");const t=X.CID.asCID(e);if(t)yield ee({cid:t});else{if(!(e instanceof String||"string"===typeof e)){if(null!=e.cid||null!=e.path)return yield ee(e);if(Symbol.iterator in e){const t=e[Symbol.iterator](),n=t.next();if(n.done)return t;if(X.CID.asCID(n.value)||n.value instanceof String||"string"===typeof n.value){yield ee({cid:n.value});for(const e of t)yield ee({cid:e});return}if(null!=n.value.cid||null!=n.value.path){yield ee(n.value);for(const e of t)yield ee(e);return}throw a(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(Symbol.asyncIterator in e){const t=e[Symbol.asyncIterator](),n=await t.next();if(n.done)return t;if(X.CID.asCID(n.value)||n.value instanceof String||"string"===typeof n.value){yield ee({cid:n.value});for await(const e of t)yield ee({cid:e});return}if(null!=n.value.cid||null!=n.value.path){yield ee(n.value);for await(const e of t)yield ee(e);return}throw a(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}throw a(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}yield ee({path:e})}}function ee(e){const t=e.cid||`${e.path}`;if(!t)throw a(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");const n={path:t,recursive:!1!==e.recursive};return null!=e.metadata&&(n.metadata=e.metadata),n}const te={direct:"direct",recursive:"recursive",indirect:"indirect",all:"all"};function ne(e,t,n){const r={type:e,cid:t};return n&&(r.metadata=n),r}class re{constructor(e){let{codecs:t,repo:n}=e;const r=function(e){let{repo:t,codecs:n}=e;return(0,H.a)((async function*(e){const r=async function*(){for await(const{path:r,recursive:i,metadata:s}of J(e)){const{cid:e}=await(0,j.i3)(t,n,r),{reason:o}=await t.pins.isPinnedWithType(e,[te.recursive,te.direct]);if("recursive"===o&&!i)throw new Error(`${e} already pinned recursively`);i?await t.pins.pinRecursively(e,{metadata:s}):await t.pins.pinDirectly(e,{metadata:s}),yield e}};if(!Boolean((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).lock))return void(yield*r());const i=await t.gcLock.readLock();try{yield*r()}finally{i()}}))}({codecs:t,repo:n});this.addAll=r,this.add=function(e){let{addAll:t}=e;return function(e){let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=X.CID.asCID(e);return n=t(i?[{cid:i,...r}]:[{path:e.toString(),...r}],r),Y(n)}}({addAll:r});const i=function(e){let{repo:t,codecs:n}=e;return(0,H.a)((async function*(e){const r=await t.gcLock.readLock();try{for await(const{path:r,recursive:i}of J(e)){const{cid:e}=await(0,j.i3)(t,n,r),{pinned:s,reason:o}=await t.pins.isPinnedWithType(e,te.all);if(!s)throw new Error(`${e} is not pinned`);switch(o){case te.recursive:if(!i)throw new Error(`${e} is pinned recursively`);await t.pins.unpin(e),yield e;break;case te.direct:await t.pins.unpin(e),yield e;break;default:throw new Error(`${e} is pinned indirectly under ${o}`)}}}finally{r()}}))}({codecs:t,repo:n});this.rmAll=i,this.rm=function(e){let{rmAll:t}=e;return async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await Y(t([{path:e,...n}],n));if(!r)throw new Error("CID expected");return r}}({rmAll:i}),this.ls=function(e){let{repo:t,codecs:n}=e;return(0,H.a)((async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=te.all;if(e.type&&(r=e.type,!Object.keys(te).includes(r)))throw a(new Error("Invalid pin type"),"ERR_INVALID_PIN_TYPE");if(e.paths){let i=!1;for await(const{path:s}of J(e.paths)){const{cid:e}=await(0,j.i3)(t,n,s),{reason:o,pinned:c,parent:l,metadata:u}=await t.pins.isPinnedWithType(e,r);if(!c)throw a(new Error(`path '${s}' is not pinned`),"ERR_NOT_PINNED");switch(o){case te.direct:case te.recursive:i=!0,yield ne(o,e,u);break;default:i=!0,yield ne(`${te.indirect} through ${l}`,e,u)}}if(!i)throw new Error("No match found")}else{if(r===te.recursive||r===te.all)for await(const{cid:e,metadata:n}of t.pins.recursiveKeys())yield ne(te.recursive,e,n);if(r===te.indirect||r===te.all)for await(const n of t.pins.indirectKeys(e))yield ne(te.indirect,n);if(r===te.direct||r===te.all)for await(const{cid:e,metadata:n}of t.pins.directKeys())yield ne(te.direct,e,n)}}))}({codecs:t,repo:n}),this.remote={add:function(e){return Promise.reject(new Error("Not implemented"))},ls:async function*(e){return Promise.reject(new Error("Not implemented"))},rm:function(e){return Promise.reject(new Error("Not implemented"))},rmAll:function(e){return Promise.reject(new Error("Not implemented"))},service:{add:(e,t)=>Promise.reject(new Error("Not implemented")),rm:function(e){return Promise.reject(new Error("Not implemented"))},ls:function(){return Promise.reject(new Error("Not implemented"))}}}}}var ie=n(82149),se=n(66957),oe=n(93314),ae=n(10764),ce=n(51199),le=n(70380),ue=n(17578),de=n(79357),pe=n(52769),he=n(61163),fe=n(19061),ge=n(90309),ye=n(86034);const me=Object.assign(o("jsipns"),{error:o("jsipns:error")}),be=C.identity.code,ve=(0,N.fromString)("/ipns/"),we="/ipns/",ke=we.length,Ee=async(e,t,n,r,i,s)=>{n=BigInt(n);const o=(0,N.fromString)(i.toString()),a=await Re(e,t,r,o),c=_e(t,o,r,n,s),l=Oe(c),u={value:t,signature:a,validityType:r,validity:o,sequence:n,ttl:s,signatureV2:await e.sign(l),data:c};return me(`ipns entry for ${t} created`),u},_e=(e,t,n,r,i)=>{const s={Value:e,Validity:t,ValidityType:n,Sequence:r,TTL:i};return h.cv(s)},Se=async(e,t)=>{const{value:n,validityType:r,validity:i}=t;let s,o,c;t.signatureV2&&t.data?(o=t.signatureV2,s=Oe(t.data),Ce(t)):(o=t.signature,s=Te(n,r,i));try{c=await e.verify(s,o)}catch(l){c=!1}if(!c)throw me.error("record signature verification failed"),a(new Error("record signature verification failed"),ye.SY);if(r===fe.X.ValidityType.EOL){let e;try{e=(0,ge.r)((0,oe.toString)(i))}catch(u){throw me.error("unrecognized validity format (not an rfc3339 format)"),a(new Error("unrecognized validity format (not an rfc3339 format)"),ye.vH)}if(e.getTime()<Date.now())throw me.error("record has expired"),a(new Error("record has expired"),ye.L0)}else if(r)throw me.error("unrecognized validity type"),a(new Error("unrecognized validity type"),ye.Fl);me(`ipns entry for ${n} is valid`)},Ce=e=>{if(!e.data)throw a(new Error("Record data is missing"),ye.BL);const t=h.Jx(e.data);if(Number.isInteger(t.Sequence)&&(t.Sequence=BigInt(t.Sequence)),Number.isInteger(t.TTL)&&(t.TTL=BigInt(t.TTL)),!(0,ae.equals)(t.Value,e.value))throw a(new Error('Field "value" did not match between protobuf and CBOR'),ye.SY);if(!(0,ae.equals)(t.Validity,e.validity))throw a(new Error('Field "validity" did not match between protobuf and CBOR'),ye.SY);if(t.ValidityType!==e.validityType)throw a(new Error('Field "validityType" did not match between protobuf and CBOR'),ye.SY);if(t.Sequence!==e.sequence)throw a(new Error('Field "sequence" did not match between protobuf and CBOR'),ye.SY);if(t.TTL!==e.ttl)throw a(new Error('Field "ttl" did not match between protobuf and CBOR'),ye.SY)},Ie=async(e,t)=>{if(!t||!e){const e=new Error("one or more of the provided parameters are not defined");throw me.error(e),a(e,ye.eb)}let n;if(t.pubKey){try{n=le.keys.unmarshalPublicKey(t.pubKey)}catch(r){throw me.error(r),r}if(!(await Z.createFromPubKey(t.pubKey)).equals(e))throw a(new Error("Embedded public key did not match PeerID"),ye.TO)}else e.pubKey&&(n=e.pubKey);if(n)return n;throw a(new Error("no public key is available"),ye.eb)},xe=e=>de.base32upper.encode(e).slice(1),Pe=e=>new ie.Key(`/ipns/${xe(e)}`),Ae=e=>{const t=(0,N.fromString)("/pk/"),n=(0,N.fromString)("/ipns/");return{routingPubKey:new ie.Key((0,pe.concat)([t,e]),!1),pkKey:new ie.Key(xe((0,pe.concat)([t,e]))),routingKey:new ie.Key((0,pe.concat)([n,e]),!1),ipnsKey:new ie.Key(xe((0,pe.concat)([n,e])))}},Re=(e,t,n,r)=>{try{const i=Te(t,n,r);return e.sign(i)}catch(i){throw me.error("record signature creation failed"),a(new Error("record signature creation failed: "+i.message),ye.FB)}},Te=(e,t,n)=>{const r=(0,N.fromString)((e=>{if("0"===e.toString())return"EOL";const t=new Error(`unrecognized validity type ${e.toString()}`);throw me.error(t),a(t,ye.Fl)})(t));return(0,pe.concat)([e,n,r])},Oe=e=>{const t=(0,N.fromString)("ipns-signature:");return(0,pe.concat)([t,e])},De=e=>{const t=ue.decode(e.id);return t.code!==be?null:le.keys.unmarshalPublicKey(t.digest)},Me=e=>fe.X.encode({...e,sequence:he.fromString(e.sequence.toString()),ttl:null==e.ttl?void 0:he.fromString(e.ttl.toString())}).finish(),Ne=e=>{const t=fe.X.decode(e),n=fe.X.toObject(t,{defaults:!1,arrays:!0,objects:!1});return{value:n.value,signature:n.signature,validityType:n.validityType,validity:n.validity,sequence:Object.hasOwnProperty.call(n,"sequence")?BigInt(`${n.sequence}`):0,pubKey:n.pubKey,ttl:Object.hasOwnProperty.call(n,"ttl")?BigInt(`${n.ttl}`):void 0,signatureV2:n.signatureV2,data:n.data}},je={validate:async(e,t)=>{const n=Ne(e),r=t.slice(ve.length),i=Z.createFromBytes(r),s=await Ie(i,n);await Se(s,n)},select:(e,t)=>{const n=Ne(e),r=Ne(t);if(n.signatureV2&&!r.signatureV2)return 0;if(r.signatureV2&&!n.signatureV2)return 1;if(n.sequence>r.sequence)return 0;if(n.sequence<r.sequence)return 1;const i=(0,ge.r)((0,oe.toString)(n.validity));return(0,ge.r)((0,oe.toString)(r.validity)).getTime()>i.getTime()?1:0}},Le=Object.assign(o("ipfs:ipns:publisher"),{error:o("ipfs:ipns:publisher:error")}),Be=(0,se.notFoundError)().code,ze=36e5;class Fe{constructor(e,t){this._routing=e,this._datastore=t}async publishWithEOL(e,t,n){if(!e||!e.bytes)throw a(new Error("invalid private key"),"ERR_INVALID_PRIVATE_KEY");const r=await Z.createFromPrivKey(e.bytes),i=await this._updateOrCreateRecord(e,t,n,r);return this._putRecordToRouting(i,r)}publish(e,t){return this.publishWithEOL(e,t,ze)}async _putRecordToRouting(e,t){if(!Z.isPeerId(t)){const e="peerId received is not valid";throw Le.error(e),a(new Error(e),"ERR_INVALID_PEER_ID")}const n=t.pubKey,r=await(async(e,t)=>{if(!e||!e.bytes||!t){const e=new Error("one or more of the provided parameters are not defined");throw me.error(e),a(e,ye.eb)}let n,r;try{n=await Z.createFromPubKey(e.bytes)}catch(i){throw a(i,ye.Qk)}try{r=De(n)}catch(i){throw me.error(i),a(i,ye.kH)}if(r)return null;try{t.pubKey=le.keys.marshalPublicKey(e)}catch(i){throw me.error(i),i}return t})(n,e),i=Ae(t.toBytes());return await this._publishEntry(i.routingKey,r||e),r||e}async _publishEntry(e,t){const n=ie.Key.asKey(e);if(!n){const e="datastore key does not have a valid format";throw Le.error(e),a(new Error(e),"ERR_INVALID_DATASTORE_KEY")}let r;try{r=Me(t)}catch(i){throw Le.error(i),i}try{const e=await this._routing.put(n.uint8Array(),r);return Le(`ipns record for ${(0,oe.toString)(n.uint8Array(),"base32")} was stored in the routing`),e}catch(i){const e=`ipns record for ${(0,oe.toString)(n.uint8Array(),"base32")} could not be stored in the routing - ${i.stack}`;throw Le.error(e),Le.error(i),a(new Error(e),"ERR_PUTTING_TO_ROUTING")}}async _getPublished(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Z.isPeerId(e)){const e="peerId received is not valid";throw Le.error(e),a(new Error(e),"ERR_INVALID_PEER_ID")}const n=!1!==t.checkRouting;try{const t=await this._datastore.get(Pe(e.id));return this._unmarshalData(t)}catch(r){if(r.code!==Be){const t=`unexpected error getting the ipns record ${e.id} from datastore`;throw Le.error(t),a(new Error(t),"ERR_UNEXPECTED_DATASTORE_RESPONSE")}if(!n)throw a(r,"ERR_NOT_FOUND_AND_CHECK_ROUTING_NOT_ENABLED");try{const t=Ae(e.toBytes()),n=await this._routing.get(t.routingKey.uint8Array());return this._unmarshalData(n)}catch(r){throw Le.error(r),r}}}_unmarshalData(e){try{return Ne(e)}catch(t){throw a(t,"ERR_INVALID_RECORD_DATA")}}async _updateOrCreateRecord(e,t,n,r){if(!Z.isPeerId(r)){const e="peerId received is not valid";throw Le.error(e),a(new Error(e),"ERR_INVALID_PEER_ID")}const i={checkRouting:!0};let s;try{s=await this._getPublished(r,i)}catch(l){if(l.code!==Be){const e=`unexpected error when determining the last published IPNS record for ${r.id} ${l.stack}`;throw Le.error(e),a(new Error(e),"ERR_DETERMINING_PUBLISHED_RECORD")}}let o,c=0;s&&void 0!==s.sequence&&(c=(0,ae.equals)(s.value,t)?BigInt(s.sequence):BigInt(s.sequence)+BigInt(1));try{o=await((e,t,n,r)=>{const i=new ce(Date.now()+Number(r)),s=fe.X.ValidityType.EOL,[o,a]=r.toString().split("."),c=BigInt(o)*BigInt(1e5)+BigInt(a||0);return Ee(e,t,n,s,i,c)})(e,t,c,n)}catch(l){const e=`ipns record for ${t} could not be created`;throw Le.error(l),a(new Error(e),"ERR_CREATING_IPNS_RECORD")}try{const e=Me(o);return await this._datastore.put(Pe(r.id),e),Le(`ipns record for ${(0,oe.toString)(t,"base32")} was stored in the datastore`),o}catch(l){const e=`ipns record for ${t} could not be stored in the datastore`;throw Le.error(e),a(new Error(e),"ERR_STORING_IN_DATASTORE")}}}Fe.defaultRecordLifetime=ze;const Ue=Object.assign(o("ipfs:ipns:republisher"),{error:o("ipfs:ipns:republisher:error")});class We{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{pass:""};this._publisher=e,this._datastore=t,this._peerId=n,this._keychain=r,this._options=i,this._republishHandle=null}async start(){if(this._republishHandle)throw a(new Error("republisher is already running"),"ERR_REPUBLISH_ALREADY_RUNNING");const e={_task:null,_inflightTask:null,_timeoutId:null,runPeriodically:t=>{e._timeoutId=setTimeout((async()=>{e._timeoutId=null;try{e._inflightTask=e._task(),await e._inflightTask,e._task&&e.runPeriodically(t)}catch(n){Ue.error(n)}}),t())},cancel:async()=>{null!=e._timeoutId&&clearTimeout(e._timeoutId),e._task=null,await e._inflightTask}},{privKey:t}=this._peerId,{pass:n}=this._options;let r=!0;e._task=()=>this._republishEntries(t,n),e.runPeriodically((()=>r?(r=!1,this._options.initialBroadcastInterval||6e4):this._options.broadcastInterval||144e5)),this._republishHandle=e}async stop(){const e=this._republishHandle;if(!e)throw a(new Error("republisher is not running"),"ERR_REPUBLISH_NOT_RUNNING");this._republishHandle=null,await e.cancel()}async _republishEntries(e,t){try{await this._republishEntry(e)}catch(n){const e="cannot republish entry for the node's private key";return void Ue.error(e)}if(t)try{const e=await this._keychain.listKeys();for(const n of e){if("self"===n.name)continue;const e=await this._keychain.exportKey(n.name,t),r=await le.keys.import(e,t);await this._republishEntry(r)}}catch(n){Ue.error(n)}}async _republishEntry(e){if(!e||!e.bytes)throw a(new Error("invalid private key"),"ERR_INVALID_PRIVATE_KEY");try{const t=await Z.createFromPrivKey(e.bytes),n=await this._getPreviousValue(t);await this._publisher.publishWithEOL(e,n,864e5)}catch(t){if("ERR_NO_ENTRY_FOUND"===t.code)return;throw t}}async _getPreviousValue(e){if(!Z.isPeerId(e))throw a(new Error("invalid peer ID"),"ERR_INVALID_PEER_ID");try{const n=await this._datastore.get(Pe(e.id));if(!(n instanceof Uint8Array))throw a(new Error("found ipns record that we couldn't process"),"ERR_INVALID_IPNS_RECORD");try{return Ne(n).value}catch(t){throw Ue.error(t),a(new Error("found ipns record that we couldn't convert to a value"),"ERR_INVALID_IPNS_RECORD")}}catch(t){if(t&&t.notFound)throw a(new Error(`no previous entry for record with id: ${e.id}`),"ERR_NO_ENTRY_FOUND");throw t}}}const $e=Object.assign(o("ipfs:ipns:resolver"),{error:o("ipfs:ipns:resolver:error")}),qe=se.notFoundError().code;class He{constructor(e){this._routing=e}async resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)throw a(new Error("invalid name"),"ERR_INVALID_NAME");const n=t.recursive&&"true"===t.recursive.toString(),r=e.split("/");if(3!==r.length||""!==r[0])throw a(new Error("invalid name"),"ERR_INVALID_NAME");const i=r[2];let s=1/0;n&&(s=32);const o=await this.resolver(i,s);return $e(`${e} was locally resolved correctly`),o}async resolver(e,t){if(0===t){const e="could not resolve name (recursion limit of 32 exceeded)";throw $e.error(e),a(new Error(e),"ERR_RESOLVE_RECURSION_LIMIT")}const n=await this._resolveName(e),r=n.split("/");return"ipfs"!==r[1]&&t?this.resolver(r[2],t-1):n}async _resolveName(e){const t=Z.parse(e),{routingKey:n}=Ae(t.toBytes());let r,i;try{r=await this._routing.get(n.uint8Array())}catch(s){if($e.error("could not get record from routing",s),s.code===qe)throw a(new Error(`record requested for ${e} was not found in the network`),"ERR_NO_RECORD_FOUND");throw a(new Error(`unexpected error getting the ipns record ${t.toString()}`),"ERR_UNEXPECTED_ERROR_GETTING_RECORD")}try{i=Ne(r)}catch(s){throw $e.error("could not unmarshal record",s),a(new Error("found ipns record that we couldn't convert to a value"),"ERR_INVALID_RECORD_RECEIVED")}return this._validateRecord(t,i)}async _validateRecord(e,t){const n=await Ie(e,t);return await Se(n,t),(0,oe.toString)(t.value)}}var Ke=n(87167);class Ve{constructor(e){this.lru=Ke(e)}get(e){const t=this.lru.get(e);if(t)return t.expire&&t.expire<Date.now()?void this.lru.remove(e):t.value}set(e,t,n){this.lru.set(e,{value:t,expire:Date.now()+n})}has(e){return!!this.get(e)}remove(e){this.lru.remove(e)}clear(){this.lru.clear()}}const Ge=Object.assign(o("ipfs:ipns"),{error:o("ipfs:ipns:error")});class Xe{constructor(e,t,n,r,i){this.publisher=new Fe(e,t),this.republisher=new We(this.publisher,t,n,r,i),this.resolver=new He(e),this.cache=new Ve(1e3),this.routing=e}async publish(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe.defaultRecordLifetime;try{const r=await(0,Z.createFromPrivKey)(e.bytes);await this.publisher.publishWithEOL(e,t,n),Ge(`IPNS value ${(0,oe.toString)(t,"base32")} was published correctly`);const i=r.toB58String(),s=parseFloat(n),o=s<6e4?s:6e4;return this.cache.set(i,t,o),Ge(`IPNS value ${(0,oe.toString)(t,"base32")} was cached correctly`),{name:i,value:t}}catch(r){throw Ge.error(r),r}}async resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)throw a(new Error("name received is not valid"),"ERR_INVALID_NAME");if(!t.nocache&&!t.recursive){const t=e.split("/")[2],n=this.cache.get(t);if(n)return n}try{const n=await this.resolver.resolve(e,t);return Ge(`IPNS record from ${e} was resolved correctly`),n}catch(n){throw Ge.error(n),n}}async initializeKeyspace(e,t){return this.publish(e,t,Fe.defaultRecordLifetime)}}var Ze=n(97823),Qe=n(21613),Ye=n(43019),Je=n(22984),et=n(62287);const tt="/record/";function nt(e){return(0,oe.toString)(e,"base32")}function rt(e){("string"===typeof e||e instanceof String)&&(e=(0,N.fromString)(e.toString()));return`/record/${(0,oe.toString)(e,"base64url")}`}const it=Object.assign(o("datastore-pubsub:publisher"),{error:o("datastore-pubsub:publisher:error")});class st extends et.BaseDatastore{constructor(e,t,n,r,i){if(super(),!r)throw a(new TypeError("missing validator"),"ERR_INVALID_PARAMETERS");if("function"!==typeof r.validate)throw a(new TypeError("missing validate function"),"ERR_INVALID_PARAMETERS");if("function"!==typeof r.select)throw a(new TypeError("missing select function"),"ERR_INVALID_PARAMETERS");if(i&&"function"!==typeof i)throw a(new TypeError("invalid subscriptionKeyFn received"),"ERR_INVALID_PARAMETERS");this._pubsub=e,this._datastore=t,this._peerId=n,this._validator=r,this._handleSubscriptionKeyFn=i,this._onMessage=this._onMessage.bind(this)}async put(e,t){if(!(e instanceof Uint8Array)){const e="datastore key does not have a valid format";throw it.error(e),a(new Error(e),"ERR_INVALID_DATASTORE_KEY")}if(!(t instanceof Uint8Array)){const e="received value is not a Uint8Array";throw it.error(e),a(new Error(e),"ERR_INVALID_VALUE_RECEIVED")}const n=rt(e);it(`publish value for topic ${n}`),await this._pubsub.publish(n,t)}async get(e){if(!(e instanceof Uint8Array)){const e="datastore key does not have a valid format";throw it.error(e),a(new Error(e),"ERR_INVALID_DATASTORE_KEY")}const t=rt(e),n=await this._pubsub.getTopics();if(n&&Array.isArray(n)&&n.indexOf(t)>-1)return this._getLocal(e);try{this._pubsub.on(t,this._onMessage),await this._pubsub.subscribe(t)}catch(r){const e=`cannot subscribe topic ${t}`;throw it.error(e),a(new Error(e),"ERR_SUBSCRIBING_TOPIC")}return it(`subscribed values for key ${t}`),this._getLocal(e)}unsubscribe(e){const t=rt(e);return this._pubsub.removeListener(t,this._onMessage),this._pubsub.unsubscribe(t)}async _getLocal(e){const t=new Je.s("/"+nt(e),!1);let n;try{n=await this._datastore.get(t)}catch(r){if("ERR_NOT_FOUND"!==r.code){const e=`unexpected error getting the ipns record for ${t.toString()}`;throw it.error(e),a(new Error(e),"ERR_UNEXPECTED_ERROR_GETTING_RECORD")}const e=`local record requested was not found for ${t.toString()}`;throw it.error(e),a(new Error(e),"ERR_NOT_FOUND")}if(!(n instanceof Uint8Array)){const e="found record that we couldn't convert to a value";throw it.error(e),a(new Error(e),"ERR_INVALID_RECORD_RECEIVED")}return n}async _onMessage(e){const{data:t,from:n,topicIDs:r}=e;let i;try{i=function(e){if(e.substring(0,tt.length)!==tt)throw a(new Error("topic received is not from a record"),"ERR_TOPIC_IS_NOT_FROM_RECORD_NAMESPACE");const t=e.substring(tt.length);return(0,N.fromString)(t,"base64url")}(r[0])}catch(s){return void it.error(s)}if(it(`message received for topic ${r[0]}`),n!==this._peerId.toB58String()){if(this._handleSubscriptionKeyFn){let e;try{e=await this._handleSubscriptionKeyFn(i)}catch(s){return void it.error("message discarded by the subscriptionKeyFn")}i=e}try{await this._storeIfSubscriptionIsBetter(i,t)}catch(s){it.error(s)}}else it("message discarded as it is from the same peer")}async _storeIfSubscriptionIsBetter(e,t){let n=!1;try{n=await this._isBetter(e,t)}catch(r){if("ERR_NOT_VALID_RECORD"!==r.code)throw r}n&&await this._storeRecord(e,t)}async _validateRecord(e,t){return this._validator.validate(e,t)}async _selectRecord(e,t){return 0===await this._validator.select(e,t)}async _isBetter(e,t){try{await this._validateRecord(t,e)}catch(i){const e="record received through pubsub is not valid";throw it.error(e),a(new Error(e),"ERR_NOT_VALID_RECORD")}const n=new Je.s(e);let r;try{r=await this._getLocal(n.uint8Array())}catch(i){return!0}return!(0,ae.equals)(r,t)&&this._selectRecord(e,[r,t])}async _storeRecord(e,t){const n=new Je.s("/"+nt(e),!1);await this._datastore.put(n,t),it(`record for ${rt(e)} was stored in the datastore`)}}const ot=Object.assign(o("ipfs:ipns:pubsub"),{error:o("ipfs:ipns:pubsub:error")});class at{constructor(e,t,n){this._subscriptions={},this._handleSubscriptionKey=this._handleSubscriptionKey.bind(this),this._pubsubDs=new st(e,t,n,je,this._handleSubscriptionKey)}async put(e,t){try{await this._pubsubDs.put(e,t)}catch(n){throw ot.error(n),n}}async get(e){let t,n;try{t=await this._pubsubDs.get(e)}catch(i){n=i}const r=e.slice(0,ke);if((0,oe.toString)(r)===we){const t=Ye.base58btc.encode(e).substring(1),n=Ye.base58btc.encode(e.slice(ke)).substring(1);this._subscriptions[t]=n,ot(`subscribed to pubsub topic ${t}, id ${n}`)}if(n)throw n;return t}_handleSubscriptionKey(e){e instanceof Uint8Array&&(e=(0,oe.toString)(e,"base58btc"));const t=this._subscriptions[e];if(!t)throw a(new Error(`key ${e} does not correspond to a subscription`),"ERR_INVALID_KEY");let n;try{n=Ae((0,N.fromString)(t,"base58btc"))}catch(r){throw ot.error(r),r}return n.routingKey.uint8Array()}getSubscriptions(){return Object.values(this._subscriptions).filter(Boolean).map((e=>`/ipns/${e}`))}async cancel(e){if("string"!==typeof e)throw a(new Error("invalid subscription name"),"ERR_INVALID_SUBSCRIPTION_NAME");e.startsWith(we)&&(e=e.substring(ke));const t=Object.keys(this._subscriptions).find((t=>this._subscriptions[t]===e));if(!t)return{canceled:!1};const n=(0,N.fromString)(t);return this._pubsubDs.unsubscribe(n),delete this._subscriptions[t],ot(`unsubscribed pubsub ${t}: ${e}`),{canceled:!0}}}var ct=n(16758);const lt=Object.assign(o("ipfs:ipns:offline-datastore"),{error:o("ipfs:ipns:offline-datastore:error")});class ut{constructor(e){this._repo=e,this.stores=[]}async put(e,t){if(!(e instanceof Uint8Array))throw a(new Error("Offline datastore key must be a Uint8Array"),"ERR_INVALID_KEY");if(!(t instanceof Uint8Array))throw a(new Error("Offline datastore value must be a Uint8Array"),"ERR_INVALID_VALUE");let n;try{n=this._routingKey(e)}catch(i){throw lt.error(i),a(new Error("Not possible to generate the routing key"),"ERR_GENERATING_ROUTING_KEY")}const r=new ct.Record(e,t);return this._repo.datastore.put(n,r.serialize())}async get(e){if(!(e instanceof Uint8Array))throw a(new Error("Offline datastore key must be a Uint8Array"),"ERR_INVALID_KEY");let t;try{t=this._routingKey(e)}catch(i){throw lt.error(i),a(new Error("Not possible to generate the routing key"),"ERR_GENERATING_ROUTING_KEY")}const n=await this._repo.datastore.get(t);let r;try{r=ct.Record.deserialize(n)}catch(i){throw lt.error(i),i}return r.value}_routingKey(e){return new ie.Key("/dht/record/"+(0,oe.toString)(e,"base32"),!1)}}var dt=n(20838);const pt=Object.assign(o("ipfs:ipns:dht-datastore"),{error:o("ipfs:ipns:dht-datastore:error")});class ht{constructor(e){this._dht=e}async put(e,t){try{await dt(this._dht.put(e,t))}catch(n){throw pt.error(n),n}}async get(e){for await(const t of this._dht.get(e))if("VALUE"===t.name)return t.value;throw(0,se.notFoundError)()}}const ft=o("ipfs:components:ipns");class gt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pass:""};this.options=e,this.offline=null,this.online=null}getIPNS(){const e=this.online||this.offline;if(e)return e;throw new P}get routing(){return this.getIPNS().routing}startOffline(e){let{repo:t,peerId:n,keychain:r}=e;if(null!=this.offline)throw new R;ft("initializing IPNS keyspace");const i=new ut(t),s=new Xe(i,t.datastore,n,r,this.options);this.offline=s}async startOnline(e){let{libp2p:t,repo:n,peerId:r,keychain:i}=e;if(null!=this.online)throw new R;const s=function(e){let{libp2p:t,repo:n,peerId:r,options:i}=e;const s=[];let o;if(Qe(i,"EXPERIMENTAL.ipnsPubsub",!1)){const e=t.pubsub,i=n.datastore;o=new at(e,i,r),s.push(o)}if(!Qe(i,"offline",!1)&&t._config&&t._config.dht&&t._config.dht.enabled&&s.push(new ht(t._dht)),Qe(i,"offline",!1)||0===s.length){const e=new ut(n);s.push(e)}return new Ze.z(s)}({libp2p:t,repo:n,peerId:r,options:this.options}),o=new Xe(s,n.datastore,r,i,this.options);await o.republisher.start(),this.online=o}async stop(){const e=this.online;e&&(await e.republisher.stop(),this.online=null)}publish(e,t,n){return this.getIPNS().publish(e,t,n)}resolve(e,t){return this.getIPNS().resolve(e,t)}initializeKeyspace(e,t){return this.getIPNS().initializeKeyspace(e,t)}}var yt=n(73620),mt=n(7901);async function bt(e,t,n){let{ipns:r,repo:i,codecs:s}=e;if(G.ipnsPath(t))return r.resolve(t);const{cid:o,path:a}=(0,mt.B)(t);await dt((0,j.DB)(o,a||"",s,i,n))}const vt=Object.assign(o("ipfs:name:publish"),{error:o("ipfs:name:publish:error")});var wt=n(71659),kt=n(47937);const Et=i.Z.bind({ignoreUndefined:!0}),_t=Object.assign(o("ipfs:name:resolve"),{error:o("ipfs:name:resolve:error")}),St=(e,t)=>t.length>0?e+"/"+t.join("/"):e;function Ct(e,t){if(!e||!t||!t.ipnsPubsub)throw a(new Error("IPNS pubsub subsystem is not enabled"),"ERR_IPNS_PUBSUB_NOT_ENABLED");if(e.routing instanceof at)return e.routing;const n=(e.routing.stores||[]).find((e=>e instanceof at));if(!n)throw a(new Error("IPNS pubsub datastore not found"),"ERR_PUBSUB_DATASTORE_NOT_FOUND");return n}class It{constructor(e){let{ipns:t,options:n}=e;this.cancel=function(e){let{ipns:t,options:n}=e;const r=n.EXPERIMENTAL;return(0,H.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ct(t,r).cancel(e,n)}))}({ipns:t,options:n}),this.state=function(e){let{ipns:t,options:n}=e;const r=n.EXPERIMENTAL;return(0,H.a)((async function(){try{return{enabled:Boolean(Ct(t,r))}}catch(e){return{enabled:!1}}}))}({ipns:t,options:n}),this.subs=function(e){let{ipns:t,options:n}=e;const r=n.EXPERIMENTAL;return(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ct(t,r).getSubscriptions(e)}))}({ipns:t,options:n})}}class xt{constructor(e){let{dns:t,ipns:n,repo:r,codecs:i,peerId:s,isOnline:o,keychain:c,options:l}=e;this.publish=function(e){let{ipns:t,repo:n,codecs:r,peerId:i,isOnline:s,keychain:o}=e;const c=async e=>{if("self"===e)return i.privKey;try{const t=await o.exportKey(e,"temp");return await le.keys.import(t,"temp")}catch(t){throw vt.error(t),a(t,"ERR_CANNOT_GET_KEY")}};return(0,H.a)((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=!(!1===i.resolve),l=i.lifetime||"24h",u=i.key||"self";if(!s())throw a(new Error(j.yH),"OFFLINE_ERROR");try{e=(0,j.AH)(e)}catch(g){throw vt.error(g),g}let d=0;try{d=(0,yt.Z)(l)||0,d=parseFloat(d.toFixed(6))}catch(g){throw vt.error(g),g}const p=await Promise.all([c(u),o?bt({ipns:t,repo:n,codecs:r},e):Promise.resolve()]),h=(0,N.fromString)(e),f=await t.publish(p[0],h,d);return{name:f.name,value:(0,oe.toString)(f.value)}}))}({ipns:n,repo:r,codecs:i,peerId:s,isOnline:o,keychain:c}),this.resolve=function(e){let{dns:t,ipns:n,peerId:r,isOnline:i,options:{offline:s}}=e;return(0,H.a)((async function*(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o=Et({nocache:!1,recursive:!0},o),s&&o&&o.nocache)throw a(new Error("cannot specify both offline and nocache"),"ERR_NOCACHE_AND_OFFLINE");if(!i()&&!s)throw a(new Error(j.yH),"OFFLINE_ERROR");e||(e=r.toB58String()),e.startsWith("/ipns/")||(e=`/ipns/${e}`);let[c,l,...u]=e.slice(1).split("/");try{if("1"===l.substring(0,1)){const e=Z.parse(l),t=ue.decode(e.toBytes());l=X.CID.createV1(114,t).toString(wt.base36)}else{const e=X.CID.parse(l);1===e.version&&(l=e.toString(wt.base36))}}catch(p){if(kt(l))return void(yield St(await t(l,o),u));throw _t.error(p),a(new Error("Invalid IPNS name"),"ERR_IPNS_INVALID_NAME")}const d=await n.resolve(`/${c}/${l}`,o);yield St(d instanceof Uint8Array?(0,oe.toString)(d):d,u)}))}({dns:t,ipns:n,peerId:s,isOnline:o,options:l}),this.pubsub=new It({ipns:n,options:l})}}var Pt=n(98767),At=n(98691);const Rt=(0,se.notFoundError)().code,Tt="<dst>",Ot="<src> -> <dst>";function Dt(e,t,n){const{cid:r,path:i}=(0,mt.B)(t);return!1!==n.preload&&e(r),`/ipfs/${r}${i||""}`}async function*Mt(e,t,n,r,i){const s=await e(r,i),{cid:o}=(0,mt.B)(s),a=null!=i.maxDepth?i.maxDepth:1/0,c=i.unique||!1;for await(const u of async function*(e,t,n,r,i,s){const o=new Set;async function*a(n,c){const u=c+1;if(!(u>r))try{for await(const r of async function*(e,t,n,r){const i=await e.blocks.get(n,r),s=(await t.getCodec(n.code)).decode(i),o=n.code===l.code,a=[];for(const[c,l]of jt(s,a)){if(o){const e=c.match(/^Links\/(\d+)\/Hash$/);if(e){const t=Number(e[1]);if(t<s.Links.length){yield{name:s.Links[t].Name,cid:l};continue}}}yield{name:c,cid:l}}}(e,t,n.cid,s))yield{parent:n,node:r,isDuplicate:i&&o.has(r.cid.toString())},i&&o.add(r.cid.toString()),yield*a(r,u)}catch(d){throw d.code===Rt&&(d.message=`Could not find object with CID: ${n.cid}`),d}}yield*a({cid:n},0)}(t,n,o,a,c,i))u.parent&&(u.isDuplicate||(yield{ref:Nt(u.parent.cid,u.node.cid,u.node.name,i.format)}))}function Nt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tt,i=r.replace(/<src>/g,e.toString());return i=i.replace(/<dst>/g,t.toString()),i=i.replace(/<linkname>/g,n),i}const jt=function*(e,t){if(null!=e&&!(e instanceof Uint8Array)){for(const[n,r]of Object.entries(e)){const e=[...t,n];if(null!=r&&"object"===typeof r)if(Array.isArray(r))for(const[t,n]of r.entries()){const r=[...e,t],i=X.CID.asCID(n);i?yield[r.join("/"),i]:"object"===typeof n&&(yield*jt(n,r))}else{const t=X.CID.asCID(r);t?yield[e.join("/"),t]:yield*jt(r,e)}}return[]}};function Lt(e){let{repo:t}=e;return(0,H.a)((async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for await(const n of t.blocks.queryKeys({},{signal:e.signal}))yield{ref:n.toString()}}))}function Bt(e){let{network:t}=e;return(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(await t.use(e)).bitswap,r=n.stat().snapshot;return{provideBufLen:parseInt(r.providesBufferLength.toString()),blocksReceived:BigInt(r.blocksReceived.toString()),wantlist:Array.from(n.getWantlist()).map((e=>e[1].cid)),peers:n.peers().map((e=>e.toB58String())),dupBlksReceived:BigInt(r.dupBlksReceived.toString()),dupDataReceived:BigInt(r.dupDataReceived.toString()),dataReceived:BigInt(r.dataReceived.toString()),blocksSent:BigInt(r.blocksSent.toString()),dataSent:BigInt(r.dataSent.toString())}}))}class zt{constructor(e){let{network:t}=e;this.wantlist=function(e){let{network:t}=e;return(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{bitswap:n}=await t.use(e),r=n.getWantlist();return Array.from(r).map((e=>e[1].cid))}))}({network:t}),this.wantlistForPeer=function(e){let{network:t}=e;return(0,H.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{bitswap:r}=await t.use(n),i=r.wantlistForPeer(Z.createFromB58String(e));return Array.from(i).map((e=>e[1].cid))}))}({network:t}),this.unwant=function(e){let{network:t}=e;return(0,H.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{bitswap:r}=await t.use(n);return Array.isArray(e)||(e=[e]),r.unwant(e)}))}({network:t}),this.stat=Bt({network:t})}}var Ft=n(44021);function Ut(e){try{return Ft.IPFS.matches(e)}catch(t){return!1}}var Wt=n(10006);var $t=n(10036);class qt{constructor(e){let{repo:t}=e;this.add=function(e){let{repo:t}=e;return(0,H.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ut(e))throw new Error(`${e} is not a valid Multiaddr`);const r=await t.config.getAll(n),i=r.Bootstrap||[];return i.push(e.toString()),r.Bootstrap=Array.from(new Set(i)).sort(((e,t)=>e.localeCompare(t))),await t.config.replace(r),{Peers:[e]}}))}({repo:t}),this.list=function(e){let{repo:t}=e;return(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{Peers:(await t.config.get("Bootstrap",e)||[]).map((e=>new Wt.Multiaddr(e)))}}))}({repo:t}),this.rm=function(e){let{repo:t}=e;return(0,H.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ut(e))throw new Error(`${e} is not a valid Multiaddr`);const r=await t.config.getAll(n);return r.Bootstrap=(r.Bootstrap||[]).filter((t=>t.toString()!==e.toString())),await t.config.replace(r),{Peers:[e]}}))}({repo:t}),this.clear=function(e){let{repo:t}=e;return(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await t.config.getAll(e),r=n.Bootstrap||[];return n.Bootstrap=[],await t.config.replace(n),{Peers:r.map((e=>new Wt.Multiaddr(e)))}}))}({repo:t}),this.reset=function(e){let{repo:t}=e;return(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await t.config.getAll(e);return n.Bootstrap=(0,$t.Z)().Bootstrap,await t.config.replace(n),{Peers:(0,$t.Z)().Bootstrap.map((e=>new Wt.Multiaddr(e)))}}))}({repo:t})}}var Ht=n(1833),Kt=n(60191),Vt=n(93663),Gt=n(89962);function Xt(e){return e instanceof Uint8Array?X.CID.decode(e):X.CID.parse(e.toString())}class Zt{constructor(e){let{codecs:t,hashers:n,preload:r,repo:i}=e;this.get=function(e){let{preload:t,repo:n}=e;return(0,H.a)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!1!==r.preload&&t(e),n.blocks.get(e,r)}))}({preload:r,repo:i}),this.put=function(e){let{codecs:t,hashers:n,repo:r,preload:i}=e;return(0,H.a)((async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=s.pin?await r.gcLock.readLock():null;try{const a=null!=s.version?s.version:0,c=s.format||(0===a?"dag-pb":"raw"),l=await n.getHasher(s.mhtype||"sha2-256"),u=await l.digest(e),d=await t.getCodec(c),p=X.CID.create(a,d.code,u);return await r.blocks.put(p,e,{signal:s.signal}),!1!==s.preload&&i(p),!0===s.pin&&await r.pins.pinRecursively(p,{signal:s.signal}),p}finally{o&&o()}}))}({codecs:t,hashers:n,preload:r,repo:i}),this.rm=function(e){let{repo:t}=e;return(0,H.a)((async function*(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(e)||(e=[e]);const r=await t.gcLock.writeLock();try{yield*(0,Gt.pipe)(e,(e=>Kt(e,(e=>async()=>{const r={cid:e=Xt(e)};try{if(!await t.blocks.has(e))throw a(new Error("block not found"),"ERR_BLOCK_NOT_FOUND");await t.blocks.delete(e)}catch(i){n.force||(i.message=`cannot remove ${e}: ${i.message}`,r.error=i)}return r}))),(e=>Ht(e,{concurrency:8})),(e=>Vt(e,(()=>!n.quiet))))}finally{r()}}))}({repo:i}),this.stat=function(e){let{repo:t,preload:n}=e;return(0,H.a)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Xt(e),!1!==r.preload&&n(e);return{cid:e,size:(await t.blocks.get(e)).length}}))}({preload:r,repo:i})}}var Qt=n(55194),Yt=n(31156),Jt=n(62469),en=n(21958),tn=n(47664);async function*nn(e){yield e}async function rn(e){if((0,tn._t)(e))return nn(sn(e));if("string"===typeof e||e instanceof String)return nn(sn(e.toString()));if((0,tn.Lj)(e))return Yt(e);if((0,tn.Os)(e)&&(e=Qt(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const t=Jt(e),{value:n,done:r}=await t.peek();if(r)return nn(new Uint8Array(0));if(t.push(n),Number.isInteger(n))return nn(Uint8Array.from(await en(t)));if((0,tn._t)(n)||"string"===typeof n||n instanceof String)return Kt(t,sn)}throw a(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function sn(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):(0,N.fromString)(e.toString())}async function on(e,t){const{path:n,mode:r,mtime:i,content:s}=e,o={path:n||"",mode:(0,c.tK)(r),mtime:(0,c.Xu)(i)};return s?o.content=await t(s):n||(o.content=await t(e)),o}function an(e){return async function*(e,t){if(null===e||void 0===e)throw a(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if("string"===typeof e||e instanceof String)yield on(e.toString(),t);else if((0,tn._t)(e)||(0,tn.Lj)(e))yield on(e,t);else{if((0,tn.Os)(e)&&(e=Qt(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const n=Jt(e),{value:r,done:i}=await n.peek();if(i)return void(yield{content:[]});if(n.push(r),Number.isInteger(r)||(0,tn._t)(r)||"string"===typeof r||r instanceof String)return void(yield on(n,t));throw a(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(!(0,tn.Mk)(e))throw a(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT");yield on(e,t)}}(e,rn)}var cn=n(46224),ln=n(40389);function un(e){return(0,ln.n)(e,rn)}var dn=n(67835);const pn=i.Z.bind({ignoreUndefined:!0});function hn(e){return async function*(t){for await(const n of t){let t=n.cid;1===e.cidVersion&&(t=t.toV1());let r=n.path?n.path:t.toString();e.wrapWithDirectory&&!n.path&&(r=""),yield{path:r,cid:t,size:n.size,mode:n.unixfs&&n.unixfs.mode,mtime:n.unixfs&&n.unixfs.mtime}}}}function fn(e,t){return async function*(n){for await(const r of n){(!r.path||t.wrapWithDirectory?""===r.path:!r.path.includes("/"))&&!t.onlyHash&&!1!==t.preload&&e(r.cid),yield r}}}function gn(e,t){return async function*(n){for await(const r of n){const n=!(r.path&&r.path.includes("/"));(null==t.pin||t.pin)&&n&&!t.onlyHash&&await e.pins.pinRecursively(r.cid),yield r}}}var yn=n(48206);var mn=n(53659),bn=n(4813),vn=n(42407);class wn{constructor(e){let{preload:t,repo:n,hashers:r,options:i}=e;const s=function(e){let{repo:t,preload:n,hashers:r,options:i}=e;const s=i&&i.sharding;return(0,H.a)((async function*(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=pn({shardSplitThreshold:s?1e3:1/0,strategy:"balanced"},i,{...(0,dn.Aq)(i.chunker)});o.hashAlg&&"sha2-256"!==o.hashAlg&&1!==o.cidVersion&&(o.cidVersion=1),o.trickle&&(o.strategy="trickle"),"trickle"===o.strategy&&(o.leafType="raw",o.reduceSingleLeafToSelf=!1),o.cidVersion>0&&void 0===o.rawLeaves&&(o.rawLeaves=!0),void 0!==o.hashAlg&&void 0===o.rawLeaves&&(o.rawLeaves=!0),delete o.trickle;const a={};if(o.progress){const e=o.progress;o.progress=(t,n)=>{a[n]||(a[n]=0),a[n]+=t,e(a[n],n)}}let c;null!=o.hashAlg&&(c=await r.getHasher(o.hashAlg));const l=(0,Gt.pipe)(un(e),(e=>(0,cn.Z)(e,t.blocks,{...o,hasher:c,pin:!1})),hn(o),fn(n,o),gn(t,o)),u=await t.gcLock.readLock();try{for await(const e of l)delete a[e.path],yield e}finally{u()}}))}({preload:t,repo:n,options:i,hashers:r});this.addAll=s,this.add=function(e){let{addAll:t}=e;return async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await Y(t(an(e),n));if(null==r)throw Error("Failed to add a file, if you see this please report a bug");return r}}({addAll:s}),this.cat=function(e){let{repo:t,preload:n}=e;return(0,H.a)((async function*(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=(0,j.JU)(e),!1!==r.preload){const t=e.split("/");n(X.CID.parse(t[0]))}const i=await(0,yn.OY)(e,t.blocks,r);if("directory"===i.type)throw new Error("this dag node is a directory");if(!i.content)throw new Error("this dag node has no content");yield*i.content(r)}))}({repo:n,preload:t}),this.get=function(e){let{repo:t,preload:n}=e;return(0,H.a)((async function*(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=r.compressionLevel&&(r.compressionLevel<-1||r.compressionLevel>9))throw a(new Error("Compression level must be between -1 and 9"),"ERR_INVALID_PARAMS");if(!1!==r.preload){let t;try{t=(0,j.JU)(e).split("/")}catch(o){throw a(o,"ERR_INVALID_PATH")}n(X.CID.parse(t[0]))}const i=X.CID.asCID(e)||e,s=await(0,yn.OY)(i,t.blocks,r);if("file"===s.type||"raw"===s.type){const e=[];return r.compress&&!0!==r.archive?e.push(s.content):e.push([{header:{name:s.path,mode:"file"===s.type&&s.unixfs.mode,mtime:"file"===s.type&&s.unixfs.mtime?new Date(1e3*s.unixfs.mtime.secs):void 0,size:s.size,type:"file"},body:s.content()}],(0,mn.pack)(),(e=>Kt(e,(e=>e.slice())))),r.compress&&e.push((async function*(e){const t=await vn(e);yield bn.gzip(t,{level:r.compressionLevel||6})})),void(yield*(0,Gt.pipe)(...e))}if("directory"!==s.type)throw a(new Error("Not a UnixFS node"),"ERR_NOT_UNIXFS");{const e=[(0,yn.BE)(i,t.blocks,r),async function*(e){for await(const t of e){const e={header:{name:t.path,size:t.size}};if("file"===t.type)e.header.type="file",e.header.mode=null!=t.unixfs.mode?t.unixfs.mode:void 0,e.header.mtime=t.unixfs.mtime?new Date(1e3*t.unixfs.mtime.secs):void 0,e.body=t.content();else if("raw"===t.type)e.header.type="file",e.body=t.content();else{if("directory"!==t.type)throw a(new Error("Not a UnixFS node"),"ERR_NOT_UNIXFS");e.header.type="directory",e.header.mode=null!=t.unixfs.mode?t.unixfs.mode:void 0,e.header.mtime=t.unixfs.mtime?new Date(1e3*t.unixfs.mtime.secs):void 0}yield e}},(0,mn.pack)(),e=>Kt(e,(e=>e.slice()))];if(r.compress){if(!r.archive)throw a(new Error("file is not regular"),"ERR_INVALID_PATH");r.compress&&e.push((async function*(e){const t=await vn(e);yield bn.gzip(t,{level:r.compressionLevel||6})}))}yield*(0,Gt.pipe)(...e)}}))}({repo:n,preload:t}),this.ls=function(e){let{repo:t,preload:n}=e;return(0,H.a)((async function*(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(0,j.JU)(e),s=i.split("/");!1!==r.preload&&n(X.CID.parse(s[0]));const o=X.CID.asCID(i)||i,c=await(0,yn.OY)(o,t.blocks,r);if("file"!==c.type){if("directory"!==c.type)throw a(new Error(`Unknown UnixFS type ${c.type}`),"ERR_UNKNOWN_UNIXFS_TYPE");for await(const e of c.content())yield(0,j.jr)(e)}else yield(0,j.jr)(c)}))}({repo:n,preload:t})}}var kn=n(22123);const En=Object.assign(o("ipfs:components:id"),{error:o("ipfs:components:id:error")});async function _n(e,t,n){let r=await t.peerStore.get(e);r||(r=await async function(e,t,n){for await(const i of t._dht.findPeer(e,n))if("FINAL_PEER"===i.name)break;const r=await t.peerStore.get(e);if(!r)throw a(new Error("Could not find peer"),"ERR_NOT_FOUND");return r}(e,t,n));let i=e.pubKey?e.pubKey:await t.peerStore.keyBook.get(e);if(!i)try{i=await t._dht.getPublicKey(e,n)}catch(s){En.error("Could not load public key for",e.toB58String(),s)}return{...r,publicKey:i,metadata:r.metadata||new Map,addresses:r.addresses.map((e=>e.multiaddr))}}var Sn=n(69201);const Cn={server:{description:"Recommended for nodes with public IPv4 address (servers, VPSes, etc.), disables host and content discovery and UPnP in local networks.",transform:e=>(Sn(e,"Discovery.MDNS.Enabled",!1),Sn(e,"Discovery.webRTCStar.Enabled",!1),e.Swarm={...e.Swarm||{},DisableNatPortMap:!0},e)},"local-discovery":{description:"Sets default values to fields affected by `server` profile, enables discovery and UPnP in local networks.",transform:e=>(Sn(e,"Discovery.MDNS.Enabled",!0),Sn(e,"Discovery.webRTCStar.Enabled",!0),Sn(e,"Swarm",{...e.Swarm||{},DisableNatPortMap:!1}),e)},test:{description:"Reduces external interference, useful for running ipfs in test environments. Note that with these settings node won't be able to talk to the rest of the network without manual bootstrap.",transform:e=>{const t=(0,$t.Z)();return Sn(e,"Addresses.API",t.Addresses.API?"/ip4/127.0.0.1/tcp/0":""),Sn(e,"Addresses.Gateway",t.Addresses.Gateway?"/ip4/127.0.0.1/tcp/0":""),Sn(e,"Addresses.Swarm",t.Addresses.Swarm.length?["/ip4/127.0.0.1/tcp/0"]:[]),Sn(e,"Addresses.Delegates",[]),Sn(e,"Bootstrap",[]),Sn(e,"Discovery.MDNS.Enabled",!1),Sn(e,"Discovery.webRTCStar.Enabled",!1),Sn(e,"Swarm",{...e.Swarm||{},DisableNatPortMap:!0}),e}},"default-networking":{description:"Restores default network settings. Inverse profile of the `test` profile.",transform:e=>{const t=(0,$t.Z)();return Sn(e,"Addresses.API",t.Addresses.API),Sn(e,"Addresses.Gateway",t.Addresses.Gateway),Sn(e,"Addresses.Swarm",t.Addresses.Swarm),Sn(e,"Addresses.Delegates",t.Addresses.Delegates),Sn(e,"Bootstrap",t.Bootstrap),Sn(e,"Discovery.MDNS.Enabled",t.Discovery.MDNS.Enabled),Sn(e,"Discovery.webRTCStar.Enabled",t.Discovery.webRTCStar.Enabled),Sn(e,"Swarm",{...e.Swarm||{},DisableNatPortMap:!1}),e}},lowpower:{description:"Reduces daemon overhead on the system. May affect node functionality,performance of content discovery and data fetching may be degraded. Recommended for low power systems.",transform:e=>{const t=e.Swarm||{},n=t.ConnMgr||{};return n.LowWater=20,n.HighWater=40,t.ConnMgr=n,e.Swarm=t,e}},"default-power":{description:'Inverse of "lowpower" profile.',transform:e=>{const t=(0,$t.Z)();return e.Swarm=t.Swarm,e}}},In=o("ipfs:core:config");async function xn(e){return Object.keys(Cn).map((e=>({name:e,description:Cn[e].description})))}var Pn=n(83737),An=n(75617);function Rn(e){const t=(0,u.encode)({version:1,roots:e}),n=An.encode(t.length),r=new Uint8Array(n.length+t.length);return r.set(n,0),r.set(t,n.length),r}var Tn=n(54595);const On={Null:e=>null===e,Int:e=>Number.isInteger(e),Float:e=>"number"===typeof e&&Number.isFinite(e),String:e=>"string"===typeof e,Bool:e=>"boolean"===typeof e,Bytes:e=>e instanceof Uint8Array,Link:e=>!On.Null(e)&&"object"===typeof e&&e.asCID===e,List:e=>Array.isArray(e),Map:e=>!On.Null(e)&&"object"===typeof e&&e.asCID!==e&&!On.List(e)&&!On.Bytes(e)},Dn={Int:On.Int,"CarHeader > version":e=>Dn.Int(e),"CarHeader > roots (anon) > valueType (anon)":On.Link,"CarHeader > roots (anon)":e=>On.List(e)&&Array.prototype.every.call(e,Dn["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":e=>Dn["CarHeader > roots (anon)"](e),CarHeader:e=>{const t=e&&Object.keys(e);return On.Map(e)&&["version"].every((e=>t.includes(e)))&&Object.entries(e).every((e=>{let[t,n]=e;return Dn["CarHeader > "+t]&&Dn["CarHeader > "+t](n)}))}},Mn=Dn.CarHeader,Nn=18,jn=32,Ln=112;async function Bn(e){const t=await e.upTo(8);if(!t.length)throw new Error("Unexpected end of data");const n=An.decode(t);return e.seek(An.decode.bytes),n}async function zn(e,t){const n=await Bn(e);if(0===n)throw new Error("Invalid CAR header (zero length)");const r=await e.exactly(n);e.seek(n);const i=(0,u.decode)(r);if(!Mn(i))throw new Error("Invalid CAR header format");if(1!==i.version&&2!==i.version||void 0!==t&&i.version!==t)throw new Error(`Invalid CAR version: ${i.version}${void 0!==t?` (expected ${t})`:""}`);const s=Array.isArray(i.roots);if(1===i.version&&!s||2===i.version&&s)throw new Error("Invalid CAR header format");if(1===i.version)return i;const o=await async function(e){const t=await e.exactly(40),n=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;const i={version:2,characteristics:[n.getBigUint64(r,!0),n.getBigUint64(r+=8,!0)],dataOffset:Number(n.getBigUint64(r+=8,!0)),dataSize:Number(n.getBigUint64(r+=8,!0)),indexOffset:Number(n.getBigUint64(r+=8,!0))};return e.seek(40),i}(e);e.seek(o.dataOffset-e.pos);const a=await zn(e,1);return Object.assign(a,o)}async function Fn(e){const t=await e.exactly(2);if(t[0]===Nn&&t[1]===jn){const t=await e.exactly(34);e.seek(34);const n=ue.decode(t);return X.CID.create(0,Ln,n)}const n=await Bn(e);if(1!==n)throw new Error(`Unexpected CID version (${n})`);const r=await Bn(e),i=await async function(e){const t=await e.upTo(8);An.decode(t);const n=An.decode.bytes,r=An.decode(t.subarray(An.decode.bytes)),i=n+An.decode.bytes+r,s=await e.exactly(i);return e.seek(i),s}(e),s=ue.decode(i);return X.CID.create(n,r,s)}async function Un(e){const t=e.pos;let n=await Bn(e);if(0===n)throw new Error("Invalid CAR section (zero length)");n+=e.pos-t;return{cid:await Fn(e),length:n,blockLength:n-Number(e.pos-t)}}async function Wn(e){const{cid:t,blockLength:n}=await Un(e),r=await e.exactly(n);return e.seek(n),{bytes:r,cid:t}}async function $n(e){const t=e.pos,{cid:n,length:r,blockLength:i}=await Un(e),s={cid:n,length:r,blockLength:i,offset:t,blockOffset:e.pos};return e.seek(s.blockLength),s}function qn(e){const t=(async()=>{const t=await zn(e);if(2===t.version){const n=e.pos-t.dataOffset;e=function(e,t){let n=0;return{async upTo(r){let i=await e.upTo(r);return i.length+n>t&&(i=i.subarray(0,t-n)),i},async exactly(r){const i=await e.exactly(r);if(i.length+n>t)throw new Error("Unexpected end of data");return i},seek(t){n+=t,e.seek(t)},get pos(){return e.pos}}}(e,t.dataSize-n)}return t})();return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await Wn(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await $n(e)}}}function Hn(e){let t=0;return{upTo:async n=>e.subarray(t,t+Math.min(n,e.length-t)),async exactly(n){if(n>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+n)},seek(e){t+=e},get pos(){return t}}}function Kn(e){const t=e[Symbol.asyncIterator]();return function(e){let t=0,n=0,r=0,i=new Uint8Array(0);const s=async t=>{n=i.length-r;const s=[i.subarray(r)];for(;n<t;){const t=await e();if(null==t)break;n<0?t.length>n&&s.push(t.subarray(-n)):s.push(t),n+=t.length}i=new Uint8Array(s.reduce(((e,t)=>e+t.length),0));let o=0;for(const e of s)i.set(e,o),o+=e.length;r=0};return{upTo:async e=>(i.length-r<e&&await s(e),i.subarray(r,r+Math.min(i.length-r,e))),async exactly(e){if(i.length-r<e&&await s(e),i.length-r<e)throw new Error("Unexpected end of data");return i.subarray(r,r+e)},seek(e){t+=e,r+=e},get pos(){return t}}}((async function(){const e=await t.next();return e.done?null:e.value}))}class Vn{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const t=X.CID.asCID(e.cid);if(!t)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then((()=>this._encoder.writeBlock({cid:t,bytes:e.bytes}))),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=function(e){if(void 0===e)return[];if(!Array.isArray(e)){const t=X.CID.asCID(e);if(!t)throw new TypeError("roots must be a single CID or an array of CIDs");return[t]}const t=[];for(const n of e){const e=X.CID.asCID(n);if(!e)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(e)}return t}(e);const{encoder:t,iterator:n}=Xn();return{writer:new Vn(e,t),out:new Gn(n)}}static createAppender(){const{encoder:e,iterator:t}=Xn();e.setRoots=()=>Promise.resolve();return{writer:new Vn([],e),out:new Gn(t)}}static async updateRootsInBytes(e,t){const n=Hn(e);await zn(n);const r=Rn(t);if(Number(n.pos)!==r.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${n.pos} bytes, new header is ${r.length} bytes)`);return e.set(r,0),e}}class Gn{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function Xn(){const e=(0,Tn.U)(),{writer:t,iterator:n}=e,r=function(e){return{async setRoots(t){const n=Rn(t);await e.write(n)},async writeBlock(t){const{cid:n,bytes:r}=t;await e.write(new Uint8Array(An.encode(n.bytes.length+r.length))),await e.write(n.bytes),r.length&&await e.write(r)},async close(){await e.end()}}}(t);return{encoder:r,iterator:n}}var Zn=n(96602),Qn=n(39928);const Yn=async e=>{let{cid:t,load:n,seen:r}=e;r=r||new Set;const i=t.toString(Ye.base58btc);if(r.has(i))return;const s=await n(t);if(r.add(i),null!==s)for(const[,o]of s.links())await Yn({cid:o,load:n,seen:r})},Jn=o("ipfs:components:dag:import"),er=[Zn.code,Qn.code];function tr(e,t,n,r){return async i=>{const s=await r.getCodec(i.code);if(!s)throw new Error(`Can't decode links in block with codec 0x${i.code.toString(16)} to form complete DAG`);const o=await e.blocks.get(i,n);return Jn(`Adding block ${i} to car`),await t.put({cid:i,bytes:o}),er.includes(i.code)?null:(0,Pn.OV)({bytes:o,cid:i,codec:s})}}var nr=n(45454);class rr{constructor(e,t,n){this._version=e,this._roots=t,this._iterable=n,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class ir extends rr{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){const{version:t,roots:n,iterator:r}=await sr(e);return new ir(t,n,r)}static async fromIterable(e){const{version:t,roots:n,iterator:r}=await or(e);return new ir(t,n,r)}}Symbol.asyncIterator;async function sr(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return ar(Hn(e))}async function or(e){if(!e||"function"!==typeof e[Symbol.asyncIterator])throw new TypeError("fromIterable() requires an async iterable");return ar(Kn(e))}async function ar(e){const t=qn(e),{version:n,roots:r}=await t.header();return{version:n,roots:r,iterator:t.blocks()}}const cr=o("ipfs:components:dag:import");async function lr(e,t,n){const r=await ir.fromIterable(n),i=await r.getRoots();return await dt(e.blocks.putMany(Kt(r,(e=>{let{cid:t,bytes:n}=e;return cr(`Import block ${t}`),{key:t,value:n}})),{signal:t.signal})),i}class ur{constructor(e){let{repo:t,codecs:n,hashers:r,preload:i}=e;this.export=function(e){let{repo:t,preload:n,codecs:r}=e;return(0,H.a)((async function*(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!1!==i.preload&&n(e);const s=X.CID.asCID(e);if(!s)throw new Error(`Unexpected error converting CID type: ${e}`);Jn(`Exporting ${s} as car`);const{writer:o,out:a}=await Vn.create([s]);let c=null;(async()=>{try{const e=tr(t,o,{signal:i.signal,timeout:i.timeout},r);await Yn({cid:s,load:e})}catch(e){c=e}finally{o.close()}})();for await(const t of a){if(c)break;yield t}if(c)throw c}))}({repo:t,preload:i,codecs:n}),this.get=function(e){let{codecs:t,repo:n,preload:r}=e;return(0,H.a)((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!1!==i.preload&&r(e),i.path){const r=i.localResolve?await nr((0,j.DB)(e,i.path,t,n,i)):await Y((0,j.DB)(e,i.path,t,n,i));if(!r)throw a(new Error("Not found"),"ERR_NOT_FOUND");return r}const s=await t.getCodec(e.code),o=await n.blocks.get(e,i);return{value:s.decode(o),remainderPath:""}}))}({codecs:n,repo:t,preload:i}),this.import=function(e){let{repo:t}=e;return(0,H.a)((async function*(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await t.gcLock.readLock();try{const s={signal:n.signal,timeout:n.timeout},o=Jt(e),{value:a,done:c}=await o.peek();if(c)return;let l;a&&o.push(a),l=a instanceof Uint8Array?[o]:o;for await(const e of l){const r=await lr(t,s,e);if(!1!==n.pinRoots)for(const e of r){let n="";try{await t.blocks.has(e)?(cr(`Pinning root ${e}`),await t.pins.pinRecursively(e)):n="blockstore: block not found"}catch(i){n=i.message}yield{root:{cid:e,pinErrorMsg:n}}}}}finally{r()}}))}({repo:t}),this.resolve=function(e){let{repo:t,codecs:n,preload:r}=e;return(0,H.a)((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{cid:s}=(0,mt.B)(e);return!1!==i.preload&&r(s),(0,j.i3)(t,n,e,i)}))}({repo:t,codecs:n,preload:i}),this.put=function(e){let{repo:t,codecs:n,hashers:r,preload:i}=e;return(0,H.a)((async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=s.pin?await t.gcLock.readLock():null;try{const a=await n.getCodec(s.storeCodec||"dag-cbor");if(!a)throw new Error(`Unknown storeCodec ${s.storeCodec}, please configure additional BlockCodecs for this IPFS instance`);if(s.inputCodec){if(!(e instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");const t=await n.getCodec(s.inputCodec);if(!t)throw new Error(`Unknown inputCodec ${s.inputCodec}, please configure additional BlockCodecs for this IPFS instance`);e=t.decode(e)}const c=null!=s.version?s.version:1,l=await r.getHasher(s.hashAlg||"sha2-256");if(!l)throw new Error(`Unknown hash algorithm ${s.hashAlg}, please configure additional MultihashHashers for this IPFS instance`);const u=a.encode(e),d=await l.digest(u),p=X.CID.create(c,a.code,d);return await t.blocks.put(p,u,{signal:s.signal}),s.pin&&await t.pins.pinRecursively(p),!1!==s.preload&&i(p),p}finally{o&&o()}}))}({repo:t,codecs:n,hashers:r,preload:i})}}var dr=n(36381),pr=n(76297);const hr=Object.assign(o("ipfs:preload"),{error:o("ipfs:preload:error")}),fr=new(z.default?z.default:z)({concurrency:4});function gr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return hr(e),fr.add((async()=>{const n=(await F.post(e,{signal:t.signal})).body.getReader();try{for(;;){const{done:e}=await n.read();if(e)return}}finally{n.releaseLock()}}))}const yr=Object.assign(o("ipfs:preload"),{error:o("ipfs:preload:error")});function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.enabled=Boolean(e.enabled),e.addresses=e.addresses||[],e.cache=e.cache||1e3,!e.enabled||!e.addresses.length){yr("preload disabled");const e=()=>{};return Object.assign(e,{start:()=>{},stop:()=>{}})}let t=!0,n=[];const r=e.addresses.map(dr),i=Ke(e.cache),s=async e=>{try{if(t)throw new Error(`preload ${e} but preloader is not started`);const o=e.toString();if(i.has(o))return;i.set(o,!0);const a=pr(r);let c=!1;const l=Date.now();for(const e of a){if(t)throw new Error(`preload aborted for ${o}`);let r;try{r=new AbortController,n=n.concat(r),await gr(`${e}/api/v0/refs?r=true&arg=${encodeURIComponent(o)}`,{signal:r.signal}),c=!0}catch(s){"aborted"!==s.type&&yr.error(s)}finally{n=n.filter((e=>e!==r))}if(c)break}yr(`${c?"":"un"}successfully preloaded ${o} in ${Date.now()-l}ms`)}catch(s){yr.error(s)}};return s.start=()=>{t=!1},s.stop=()=>{t=!0,yr(`aborting ${n.length} pending preload request(s)`),n.forEach((e=>e.abort())),n=[]},s}const br=Object.assign(o("ipfs:mfs-preload"),{error:o("ipfs:mfs-preload:error")});var vr=n(70962),wr=n(91025),kr=n(62442),Er=n(12944),_r=n(2723),Sr=n(65887),Cr=n(39849),Ir=n(74009),xr=n(87956),Pr=n(56792),Ar=n(17300),Rr=n(48396);const Tr={stat:wr.y},Or={chmod:kr.b,cp:Er.h,flush:_r.k,mkdir:Sr.T,mv:Cr.f,rm:Ir.Q,touch:xr.T},Dr={write:Ar.g,read:Pr.k,ls:Rr.c},Mr=e=>{let{options:t,mfs:n,operations:r,lock:i}=e;Object.keys(r).forEach((e=>{n[e]=i(r[e](t))}))},Nr={repoOwner:!0,repo:null};function jr(e){let{repo:t,preload:n,hashers:r,options:i}=e;const s=function(e){const{repoOwner:t}=Object.assign({},Nr||{},e),n=(0,vr.Y)(t),r={};return Mr({options:e,mfs:r,operations:Tr,lock:e=>n.readLock(e)}),Mr({options:e,mfs:r,operations:Or,lock:e=>n.writeLock(e)}),Object.keys(Dr).forEach((t=>{r[t]=Dr[t](e)})),r}({repo:t,repoOwner:Boolean(i.repoOwner),hashers:r}),o=e=>function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const s=r.filter((e=>G.ipfsPath(e)||G.cid(e)));if(s.length){const e=r[r.length-1];e&&!1!==e.preload&&s.forEach((e=>n(e)))}return e(...r)};return{...s,chmod:s.chmod,cp:o(s.cp),mkdir:s.mkdir,stat:o(s.stat),rm:s.rm,read:o(s.read),touch:s.touch,write:s.write,mv:o(s.mv),flush:s.flush,ls:o((async function*(){for await(const e of s.ls(...arguments))yield{...e,size:e.size||0}}))}}const Lr="ed25519",Br=2048;class zr{constructor(e){let{keychain:t}=e;this.gen=function(e){let{keychain:t}=e;return(0,H.a)((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:Lr,size:Br};return t.createKey(e,n.type||Lr,n.size||Br)}))}({keychain:t}),this.list=function(e){let{keychain:t}=e;return(0,H.a)((()=>t.listKeys()))}({keychain:t}),this.rm=function(e){let{keychain:t}=e;return(0,H.a)((e=>t.removeKey(e)))}({keychain:t}),this.rename=function(e){let{keychain:t}=e;return(0,H.a)((async(e,n)=>{const r=await t.renameKey(e,n);return{was:e,now:r.name,id:r.id,overwrite:!1}}))}({keychain:t}),this.export=function(e){let{keychain:t}=e;return(0,H.a)(((e,n)=>t.exportKey(e,n)))}({keychain:t}),this.import=function(e){let{keychain:t}=e;return(0,H.a)(((e,n,r)=>t.importKey(e,n,r)))}({keychain:t}),this.info=function(e){let{keychain:t}=e;return(0,H.a)((e=>t.findKeyByName(e)))}({keychain:t})}}function Fr(e){let{repo:t,preload:n}=e;return(0,H.a)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!1!==r.preload&&n(e);const i=await t.blocks.get(e,r);return l.decode(i)}))}function Ur(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const r in e){const i=e[r];if("/"===r&&1===Object.keys(e).length)try{t.push({Name:"",Tsize:0,Hash:X.CID.parse(i)});continue}catch(n){}const s=X.CID.asCID(i);s?t.push({Name:"",Tsize:0,Hash:s}):(Array.isArray(i)&&Ur(i,t),i&&"object"===typeof i&&Ur(i,t))}return t}var Wr=n(92829);function $r(e){let{repo:t,preload:n}=e;return(0,H.a)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=await t.gcLock.readLock();try{const s=l.encode(e),o=await Wr.sha256.digest(s),a=X.CID.createV1(l.code,o);return await t.blocks.put(a,s,{signal:r.signal}),!1!==r.preload&&n(a),r.pin&&await t.pins.pinRecursively(a,{signal:r.signal}),a}finally{i()}}))}class qr{constructor(e){let{repo:t,preload:n}=e;this.addLink=function(e){let{repo:t,preload:n}=e;const r=Fr({repo:t,preload:n}),i=$r({repo:t,preload:n});return(0,H.a)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=await r(e,n);return i({...s,Links:s.Links.concat([t])},n)}))}({repo:t,preload:n}),this.appendData=function(e){let{repo:t,preload:n}=e;const r=Fr({repo:t,preload:n}),i=$r({repo:t,preload:n});return(0,H.a)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=await r(e,n),o=(0,pe.concat)([s.Data||[],t]);return i({...s,Data:o},n)}))}({repo:t,preload:n}),this.rmLink=function(e){let{repo:t,preload:n}=e;const r=Fr({repo:t,preload:n}),i=$r({repo:t,preload:n});return(0,H.a)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=await r(e,n),o=("string"===typeof t?t:t.Name)||"";return s.Links=s.Links.filter((e=>e.Name!==o)),i(s,n)}))}({repo:t,preload:n}),this.setData=function(e){let{repo:t,preload:n}=e;const r=Fr({repo:t,preload:n}),i=$r({repo:t,preload:n});return(0,H.a)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=await r(e,n);return i({...s,Data:t},n)}))}({repo:t,preload:n})}}class Hr{constructor(e){let{repo:t,codecs:n,preload:r}=e;this.data=function(e){let{repo:t,preload:n}=e;const r=Fr({repo:t,preload:n});return(0,H.a)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await r(e,t)).Data||new Uint8Array(0)}))}({repo:t,preload:r}),this.get=Fr({repo:t,preload:r}),this.links=function(e){let{repo:t,codecs:n}=e;return(0,H.a)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=await n.getCodec(e.code),s=await t.blocks.get(e,r),o=i.decode(s);switch(e.code){case Zn.code:return[];case l.code:return o.Links;case u.code:case w:return Ur(o);default:throw new Error(`Cannot resolve links from codec ${e.code}`)}}))}({repo:t,codecs:n}),this.new=function(e){let{repo:t,preload:n}=e;return(0,H.a)((async function(){let e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.template){if("unixfs-dir"!==r.template)throw new Error("unknown template");e=new c.fL({type:"directory"}).marshal()}const i=l.encode({Data:e,Links:[]}),s=await Wr.sha256.digest(i),o=X.CID.createV0(s);return await t.blocks.put(o,i,{signal:r.signal}),!1!==r.preload&&n(o),o}))}({repo:t,preload:r}),this.put=$r({repo:t,preload:r}),this.stat=function(e){let{repo:t,preload:n}=e;const r=Fr({repo:t,preload:n});return(0,H.a)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await r(e,t),i=l.encode(n).length,s=n.Links.reduce(((e,t)=>e+(t.Tsize||0)),0);return{Hash:e,NumLinks:n.Links.length,BlockSize:i,LinksSize:i-(n.Data||[]).length,DataSize:(n.Data||[]).length,CumulativeSize:i+s}}))}({repo:t,preload:r}),this.patch=new qr({repo:t,preload:r})}}var Kr=n(61542);const Vr=o("ipfs:repo:gc");function Gr(e){let{repo:t}=e;return(0,H.a)((async function(){const e=await t.stat();return{numObjects:BigInt(e.numObjects.toString()),repoSize:BigInt(e.repoSize.toString()),repoPath:e.repoPath,version:`${e.version}`,storageMax:BigInt(e.storageMax.toString())}}))}var Xr=n(64931);class Zr{constructor(e){let{repo:t,hashers:n}=e;this.gc=function(e){let{repo:t,hashers:n}=e;return(0,H.a)((async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=Date.now();let i;try{i=await(0,Kr.x)({repo:t,hashers:n},e),await t.pins.pinRecursively(i),yield*t.gc()}finally{i&&await t.pins.unpin(i)}Vr(`Complete (${Date.now()-r}ms)`)}))}({repo:t,hashers:n}),this.stat=Gr({repo:t}),this.version=function(e){let{repo:t}=e;return(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{await t._checkInitialized(e)}catch(n){if([/Key not found in database \[\/version\]/,/ENOENT/,/repo is not initialized yet/].some((e=>e.test(n.message))))return Xr._;throw n}return t.version.get()}))}({repo:t}),this.setApiAddr=e=>t.apiAddr.set(e)}}function Qr(e,t){let n;if(n=e.metrics?t.peer?e.metrics.forPeer(Z.parse(t.peer)):t.proto?e.metrics.forProtocol(t.proto):e.metrics.global:void 0,!n)return{totalIn:BigInt(0),totalOut:BigInt(0),rateIn:0,rateOut:0};const{movingAverages:r,snapshot:i}=n;return{totalIn:BigInt(i.dataReceived.integerValue().toString()),totalOut:BigInt(i.dataSent.integerValue().toString()),rateIn:r.dataReceived[6e4].movingAverage()/60,rateOut:r.dataSent[6e4].movingAverage()/60}}class Yr{constructor(e){let{repo:t,network:n}=e;this.repo=Gr({repo:t}),this.bw=function(e){let{network:t}=e;return(0,H.a)((async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{libp2p:n}=await t.use(e);if(!e.poll)return void(yield Qr(n,e));const r=e.interval||1e3;let i,s=-1;try{if(s="string"===typeof r?(0,yt.Z)(r)||-1:r,!s||s<0)throw new Error("invalid duration")}catch(o){throw a(o,"ERR_INVALID_POLL_INTERVAL")}try{for(;;)yield Qr(n,e),await new Promise((e=>{i=setTimeout(e,s)}))}finally{clearTimeout(i)}}))}({network:n}),this.bitswap=Bt({network:n})}}var Jr=n(2548),ei=n(34695),ti=n(17008),ni=n(24222),ri=n(27401),ii=n(46714);const si={description:"Empty migration.",migrate:()=>{},revert:()=>{},empty:!0},oi=[Object.assign({version:1},si),Object.assign({version:2},si),Object.assign({version:3},si),Object.assign({version:4},si),Object.assign({version:5},si),Object.assign({version:6},si),Object.assign({version:7},si),ei.Q,ti.Q,ni.Q,ri.Q,ii.Q];var ai=n(35264),ci=n(38099),li=n(61757);const ui=o("ipfs:repo:migrator");async function di(e,t,n,r,i){let{ignoreLock:s=!1,onProgress:o,isDryRun:a=!1,migrations:c}=i;if(c=c||oi,!e)throw new hi.RequiredParameterError("Path argument is required!");if(!n)throw new hi.RequiredParameterError("repoOptions argument is required!");if(!r)throw new hi.RequiredParameterError("toVersion argument is required!");if(!Number.isInteger(r)||r<=0)throw new hi.InvalidValueError("Version has to be positive integer!");t=(0,li.pf)(t);const l=await ai.b(t);if(l===r)return void ui("Nothing to migrate.");if(l>r)throw new hi.InvalidValueError(`Current repo's version (${l}) is higher then toVersion (${r}), you probably wanted to revert it?`);let u;pi(c,l,r),a||s||(u=await n.repoLock.lock(e));try{for(const e of c){if(void 0!==r&&e.version>r)break;if(!(e.version<=l)){ui(`Migrating version ${e.version}`);try{if(!a){let n=()=>{};o&&(n=(t,n)=>o(e.version,t.toFixed(2),n)),await e.migrate(t,n)}}catch(d){const n=e.version-1;throw ui(`An exception was raised during execution of migration. Setting the repo's version to last successfully migrated version: ${n}`),await ai.x(n,t),new Error(`During migration to version ${e.version} exception was raised: ${d.stack||d.message||d}`)}ui(`Migrating to version ${e.version} finished`)}}a||await ai.x(r||function(e){return e=e||oi,Array.isArray(e)&&0!==e.length?e[e.length-1].version:0}(c),t),ui("Repo successfully migrated",void 0!==r?`to version ${r}!`:"to latest version!")}finally{a||s||!u||await u.close()}}function pi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=0;for(const s of e){if(s.version>n)break;if(s.version>t){if(r&&!s.revert)throw new hi.NonReversibleMigrationError(`It is not possible to revert to version ${t} because migration version ${s.version} is not reversible. Cancelling reversion.`);i++}}if(i!==n-t)throw new hi.InvalidValueError(`The ipfs-repo-migrations package does not have all migration to migrate from version ${t} to ${n}`)}ai.b;const hi=ci;var fi=n(77073);class gi extends Error{constructor(e){super(e),this.name="LockExistsError",this.code=gi.code}}gi.code="ERR_LOCK_EXISTS";class yi extends Error{constructor(e){super(e),this.name="NotFoundError",this.code=yi.code}}yi.code="ERR_NOT_FOUND";class mi extends Error{constructor(e){super(e),this.name="InvalidRepoVersionError",this.code=mi.code}}mi.code="ERR_INVALID_REPO_VERSION";const bi="ERR_REPO_NOT_INITIALIZED";async function vi(e,t,n){const r=await t(e);if(r)return r;const i=ki(n);return!!i&&new Promise(((t,n)=>{const r=i.store("readonly").get(e.toString());r.transaction.onabort=()=>{n(r.transaction.error)},r.transaction.oncomplete=()=>{t(Boolean(r.result))}}))}async function wi(e,t,n,r){if(await n(e))return t(e);const i=ki(r);if(!i)throw new yi;return new Promise(((t,n)=>{const r=i.store("readonly").get(e.toString());r.transaction.onabort=()=>{n(r.transaction.error)},r.transaction.oncomplete=()=>{if(r.result)return t(r.result);n(new yi)}}))}function ki(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,"level-js"===t.type||"Level"===t.constructor.name)return t}const Ei=o("ipfs:repo:version"),_i=new ie.Key("version");const Si=z.default?z.default:z,Ci=new ie.Key("config");var Ii=n(31579);const xi=new Je.s("datastore_spec");const Pi=new ie.Key("api");var Ai=n(31730);function Ri(e){const t=X.CID.asCID(e);if(null==t)throw a(new Error("Not a valid cid"),"ERR_INVALID_CID");return t.multihash.code!==C.identity.code?{isIdentity:!1}:{isIdentity:!0,digest:t.multihash.digest}}const Ti=o("ipfs:repo:lock:memory"),Oi="repo.lock",Di={};const Mi={lock:async function(e){const t=e+"/"+Oi;if(Ti("locking %s",t),!0===Di[t])throw new gi(`Lock already being held for file: ${t}`);return Di[t]=!0,{async close(){Di[t]&&delete Di[t]}}},locked:async function(e){const t=e+"/"+Oi;return Ti(`checking lock: ${t}`),Boolean(Di[t])}},Ni={autoMigrate:!0,onMigrationProgress:()=>{},repoOwner:!0,repoLock:Mi},ji={Spec:{type:"mount",mounts:[{mountpoint:"/blocks",type:"measure",prefix:"flatfs.datastore",child:{type:"flatfs",path:"blocks",sync:!0,shardFunc:"/repo/flatfs/shard/v1/next-to-last/2"}},{mountpoint:"/",type:"measure",prefix:"leveldb.datastore",child:{type:"levelds",path:"datastore",compression:"none"}}]}};function Li(e){const t=d.k0.asCID(e);if(null==t)throw a(new Error("Not a valid cid"),"ERR_INVALID_CID");const n=de.base32.encode(t.multihash.bytes);return new ie.Key("/"+n.slice(1).toUpperCase(),!1)}function Bi(e){return ue.decode(de.base32.decode(`b${e.toString().toLowerCase().substring(1)}`))}const zi=o("ipfs:repo:utils:walk-dag");async function*Fi(e,t,n,r){try{const i=await t.get(e,r),s=await n(e.code),o=(0,Pn.OV)({bytes:i,cid:e,codec:s});for(const[,e]of o.links())yield e,yield*Fi(e,t,n,r)}catch(i){throw zi("Could not walk DAG for CID",e.toString(),i),i}}class Ui{constructor(e){let{pinstore:t,blockstore:n,loadCodec:r}=e;this.pinstore=t,this.blockstore=n,this.loadCodec=r,this.log=o("ipfs:repo:pin"),this.directPins=new Set,this.recursivePins=new Set}async pinDirectly(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await this.blockstore.get(e,t);const n={depth:0};return 0!==e.version&&(n.version=e.version),e.code!==l.code&&(n.codec=e.code),t.metadata&&(n.metadata=t.metadata),this.pinstore.put(Li(e),h.cv(n))}unpin(e,t){return this.pinstore.delete(Li(e),t)}async pinRecursively(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await this.fetchCompleteDag(e,t);const n={depth:1/0};0!==e.version&&(n.version=e.version),e.code!==l.code&&(n.codec=e.code),t.metadata&&(n.metadata=t.metadata),await this.pinstore.put(Li(e),h.cv(n))}async*directKeys(e){for await(const t of this.pinstore.query({filters:[e=>0===h.Jx(e.value).depth]})){const e=h.Jx(t.value),n=e.version||0,r=null!=e.codec?e.codec:l.code,i=Bi(t.key);yield{cid:X.CID.create(n,r,i),metadata:e.metadata}}}async*recursiveKeys(e){for await(const t of this.pinstore.query({filters:[e=>h.Jx(e.value).depth===1/0]})){const e=h.Jx(t.value),n=e.version||0,r=null!=e.codec?e.codec:l.code,i=Bi(t.key);yield{cid:X.CID.create(n,r,i),metadata:e.metadata}}}async*indirectKeys(e){for await(const{cid:t}of this.recursiveKeys())for await(const n of Fi(t,this.blockstore,this.loadCodec,e)){const e=[te.recursive];(await this.isPinnedWithType(n,e)).pinned||(yield n)}}async isPinnedWithType(e,t,n){Array.isArray(t)||(t=[t]);const r=t.includes(te.all),i=t.includes(te.direct),s=t.includes(te.recursive),o=t.includes(te.indirect);if(s||i||r){const n=await nr(this.pinstore.query({prefix:Li(e).toString(),filters:[e=>{if(r)return!0;const n=h.Jx(e.value);return t.includes(0===n.depth?te.direct:te.recursive)}],limit:1}));if(n){const t=h.Jx(n.value);return{cid:e,pinned:!0,reason:0===t.depth?te.direct:te.recursive,metadata:t.metadata}}}const a=this;if(r||o){const t=await nr(async function*(e,t){for await(const{cid:n}of t)for await(const t of Fi(n,a.blockstore,a.loadCodec))if(t.equals(e))return void(yield n)}(e,this.recursiveKeys()));if(t)return{cid:e,pinned:!0,reason:te.indirect,parent:t}}return{cid:e,pinned:!1}}async fetchCompleteDag(e,t){const n=new Set,r=async(e,t)=>{if(n.has(e.toString()))return;n.add(e.toString());const i=await this.blockstore.get(e,t),s=await this.loadCodec(e.code),o=(0,Pn.OV)({bytes:i,cid:e,codec:s});await Promise.all([...o.links()].map((e=>{let[,n]=e;return r(n,t)})))};await r(e,t)}static checkPinType(e){if("string"!==typeof e||!Object.keys(te).includes(e))throw function(e){return a(new Error(`Invalid type '${e}', must be one of {direct, indirect, recursive, all}`),"ERR_INVALID_PIN_TYPE")}(e);return!0}}async function Wi(e,t){const{pinned:n,reason:r}=await t.isPinnedWithType(e,te.all);if(n)throw a(new Error(`pinned: ${r}`),"ERR_BLOCK_PINNED")}var $i=n(26494),qi=n(88411),Hi=n(92393);const Ki=o("ipfs:repo:gc"),Vi=(0,se.notFoundError)().code,Gi=new ie.Key("/local/filesroot");function Xi(e){let{gcLock:t,pins:n,blockstore:r,root:i,loadCodec:s}=e;return async function*(){const e=Date.now();Ki("Creating set of marked blocks");const o=await t.writeLock();try{const t=await async function(e){let{pins:t,blockstore:n,loadCodec:r,root:i}=e;const s=async function*(){let e;try{e=await i.get(Gi)}catch(s){if(s.code===Vi)return void Ki("No blocks in MFS");throw s}const t=X.CID.decode(e);yield t,yield*Fi(t,n,r)}(),o=Hi(Kt(t.recursiveKeys(),(e=>{let{cid:t}=e;return t})),t.indirectKeys(),Kt(t.directKeys(),(e=>{let{cid:t}=e;return t})),s),a=new Set;for await(const c of Hi(o,s))a.add(de.base32.encode(c.multihash.bytes));return a}({pins:n,blockstore:r,root:i,loadCodec:s}),a=r.queryKeys({});yield*async function*(e,t,n){let{blockstore:r}=e,i=0,s=0;const o=async e=>async function(){i++;try{const i=de.base32.encode(e.multihash.bytes);if(t.has(i))return null;try{await r.delete(e),s++}catch(n){return{err:new Error(`Could not delete block with CID ${e}: ${n.message}`)}}return{cid:e}}catch(n){const t=`Could delete block with CID ${e}`;return Ki(t,n),{err:new Error(t+`: ${n.message}`)}}};yield*(0,Gt.pipe)(qi(Kt(n,o),256),(e=>Vt(e,Boolean))),Ki(`Marked set has ${t.size} unique blocks. Blockstore has ${i} blocks. Deleted ${s} blocks.`)}({blockstore:r},t,a),Ki(`Complete (${Date.now()-e}ms)`)}finally{o()}}}const Zi=o("ipfs:repo"),Qi=Number.MAX_SAFE_INTEGER;class Yi{constructor(e,t,n,r){if("string"!==typeof e)throw new Error("missing repo path");if("function"!==typeof t)throw new Error("missing codec loader");this.options=(0,i.Z)(Ni,r),this.closed=!0,this.path=e,this.root=n.root,this.datastore=n.datastore,this.keys=n.keys;const s=n.blocks,o=n.pins;this.pins=new Ui({pinstore:o,blockstore:s,loadCodec:t});const c=(l=this.pins,u=s,{open:()=>u.open(),close:()=>u.close(),query:(e,t)=>u.query(e,t),queryKeys:(e,t)=>u.queryKeys(e,t),get:async(e,t)=>u.get(e,t),async*getMany(e,t){yield*u.getMany(e,t)},async put(e,t,n){await u.put(e,t,n)},async*putMany(e,t){yield*u.putMany(e,t)},has:(e,t)=>u.has(e,t),delete:async(e,t)=>(await Wi(e,l),u.delete(e,t)),deleteMany:(e,t)=>u.deleteMany(Kt(e,(async e=>(await Wi(e,l),e))),t),batch:()=>u.batch()});var l,u;this.blocks=function(e){return{open:()=>e.open(),close:()=>e.close(),query:(t,n)=>e.query(t,n),queryKeys:(t,n)=>e.queryKeys(t,n),async get(t,n){const r=Ri(t);return r.isIdentity?Promise.resolve(r.digest):e.get(t,n)},async*getMany(e,t){for await(const n of e)yield this.get(n,t)},async put(t,n,r){const{isIdentity:i}=Ri(t);i||await e.put(t,n,r)},async*putMany(t,n){const r=Ai();(globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.setImmediate||globalThis.setTimeout)((async()=>{try{await dt(e.putMany(async function*(){for await(const{key:e,value:n}of t)Ri(e).isIdentity||(yield{key:e,value:n}),r.push({key:e,value:n})}())),r.end()}catch(n){r.end(n)}})),yield*r},has(t,n){const{isIdentity:r}=Ri(t);return r?Promise.resolve(!0):e.has(t,n)},delete(t,n){const{isIdentity:r}=Ri(t);return r?Promise.resolve():e.delete(t,n)},deleteMany:(t,n)=>e.deleteMany(Vt(t,(e=>!Ri(e).isIdentity)),n),batch(){const t=e.batch();return{put(e,n){const{isIdentity:r}=Ri(e);r||t.put(e,n)},delete(e){const{isIdentity:n}=Ri(e);n||t.delete(e)},commit:e=>t.commit(e)}}}}(c),this.version=function(e){return{exists:async()=>vi(_i,e.has.bind(e),e),async get(){const t=await wi(_i,e.get.bind(e),e.has.bind(e),e);return parseInt((0,oe.toString)(t),10)},set:t=>e.put(_i,(0,N.fromString)(String(t))),async check(e){const t=await this.get();return Ei("comparing version: %s and %s",t,e),t===e||6===t&&7===e||6===e&&7===t}}}(this.root),this.config=function(e){const t=new Si({concurrency:1}),n={async getAll(){const t=await wi(Ci,e.get.bind(e),e.has.bind(e),e);return JSON.parse((0,oe.toString)(t))},async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)throw new yi(`Key ${e} does not exist in config`);const n=await this.getAll(t),r=Jr(n,e);if(void 0===r)throw new yi(`Key ${e} does not exist in config`);return r},set(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!==typeof e&&!(e instanceof String))throw a(new Error("Invalid key type: "+typeof e),"ERR_INVALID_KEY");if(void 0===n||n instanceof Uint8Array)throw a(new Error("Invalid value type: "+typeof n),"ERR_INVALID_VALUE");return t.add((()=>r({key:e,value:n},i.signal)))},replace(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e instanceof Uint8Array)throw a(new Error("Invalid value type: "+typeof e),"ERR_INVALID_VALUE");return t.add((()=>r({key:void 0,value:e},n.signal)))},exists:async()=>vi(Ci,e.has.bind(e),e)};return n;async function r(e,t){if(t&&t.aborted)return;const r=e.key,s=e.value;if(r){const e=await n.getAll();return"object"===typeof e&&null!==e&&Sn(e,r,s),i(e)}return i(s)}function i(t){const n=(0,N.fromString)(JSON.stringify(t,null,2));return e.put(Ci,n)}}(this.root),this.spec=function(e){return{exists:()=>e.has(xi),async get(){const t=await e.get(xi);return JSON.parse((0,oe.toString)(t))},set:async t=>e.put(xi,(0,N.fromString)(JSON.stringify(Ii(t,{deep:!0}))))}}(this.root),this.apiAddr=function(e){return{async get(){const t=await e.get(Pi);return t&&t.toString()},set:t=>e.put(Pi,(0,N.fromString)(t.toString())),delete:()=>e.delete(Pi)}}(this.root),this.gcLock=$i(e,{singleProcess:!1!==this.options.repoOwner}),this.gc=Xi({gcLock:this.gcLock,pins:this.pins,blockstore:this.blocks,root:this.root,loadCodec:t})}async init(e){var t;Zi("initializing at: %s",this.path),await this._openRoot(),await this.config.replace((t=e,t.Datastore=Object.assign({},ji,Jr(t,"datastore")),t)),await this.spec.set(function(e){const t={...ji.Spec,...Jr(e,"Datastore.Spec")};return{type:t.type,mounts:t.mounts.map((e=>({mountpoint:e.mountpoint,type:e.child.type,path:e.child.path,shardFunc:e.child.shardFunc})))}}(e)),await this.version.set(Xr._)}async isInitialized(){if(!this.closed)return!0;try{return await this._openRoot(),await this._checkInitialized(),await this.root.close(),!0}catch(e){return!1}}async open(){if(!this.closed)throw a(new Error("repo is already open"),"ERR_REPO_ALREADY_OPEN");Zi("opening at: %s",this.path);try{await this._openRoot(),await this._checkInitialized(),this._lockfile=await this._openLock(),Zi("acquired repo.lock");if(!await this.version.check(Xr._)){if(!await this._isAutoMigrationEnabled())throw new mi("Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.");await this._migrate(Xr._,{root:this.root,datastore:this.datastore,pins:this.pins.pinstore,blocks:this.pins.blockstore,keys:this.keys})}Zi("creating datastore"),await this.datastore.open(),Zi("creating blocks"),await this.blocks.open(),Zi("creating keystore"),await this.keys.open(),Zi("creating pins"),await this.pins.pinstore.open(),this.closed=!1,Zi("all opened")}catch(e){if(this._lockfile)try{await this._closeLock(),this._lockfile=null}catch(t){Zi("error removing lock",t)}throw e}}async _openRoot(){try{await this.root.open()}catch(e){if("Already open"!==e.message)throw e}}async _openLock(){const e=await this.options.repoLock.lock(this.path);if("function"!==typeof e.close)throw a(new Error("Locks must have a close method"),"ERR_NO_CLOSE_FUNCTION");return e}_closeLock(){return this._lockfile&&this._lockfile.close()}async _checkInitialized(){let e;Zi("init check");try{[e]=await Promise.all([this.config.exists(),this.spec.exists(),this.version.exists()])}catch(t){if("ERR_NOT_FOUND"===t.code)throw a(new Error("repo is not initialized yet"),bi,{path:this.path});throw t}if(!e)throw a(new Error("repo is not initialized yet"),bi,{path:this.path})}async close(){if(this.closed)throw a(new Error("repo is already closed"),"ERR_REPO_ALREADY_CLOSED");Zi("closing at: %s",this.path);try{await this.apiAddr.delete()}catch(e){if(e.code!==bi&&!e.message.startsWith("ENOENT"))throw e}await Promise.all([this.root,this.blocks,this.keys,this.datastore,this.pins.pinstore].map((e=>e&&e.close()))),Zi("unlocking"),this.closed=!0,await this._closeLock()}exists(){return this.version.exists()}async stat(){if(this.datastore&&this.keys){const[e,t,n,r,i]=await Promise.all([this._storageMaxStat(),this._blockStat(),this.version.get(),Ji(this.datastore),Ji(this.keys)]),s=t.size+r+i;return{repoPath:this.path,storageMax:e,version:n,numObjects:t.count,repoSize:s}}throw a(new Error("repo is not initialized yet"),bi,{path:this.path})}async _isAutoMigrationEnabled(){if(void 0!==this.options.autoMigrate)return this.options.autoMigrate;let e;try{e=await this.config.get("repoAutoMigrate")}catch(t){if(t.code!==yi.code)throw t;e=!0}return e}async _migrate(e,t){return await this.version.get()>e?(Zi(`reverting to version ${e}`),async function(e,t,n,r,i){let{ignoreLock:s=!1,onProgress:o,isDryRun:a=!1,migrations:c}=i;if(c=c||oi,!e)throw new hi.RequiredParameterError("Path argument is required!");if(!n)throw new hi.RequiredParameterError("repoOptions argument is required!");if(!r)throw new hi.RequiredParameterError("When reverting migrations, you have to specify to which version to revert!");if(!Number.isInteger(r)||r<=0)throw new hi.InvalidValueError("Version has to be positive integer!");t=(0,li.pf)(t);const l=await ai.b(t);if(l===r)return void ui("Nothing to revert.");if(l<r)throw new hi.InvalidValueError(`Current repo's version (${l}) is lower then toVersion (${r}), you probably wanted to migrate it?`);let u;pi(c,r,l,!0),a||s||(u=await n.repoLock.lock(e)),ui(`Reverting from version ${l} to ${r}`);try{const e=c.slice().reverse();for(const n of e){if(n.version<=r)break;if(!(n.version>l)){ui(`Reverting migration version ${n.version}`);try{if(!a){let e=()=>{};o&&(e=(e,t)=>o(n.version,e.toFixed(2),t)),await n.revert(t,e)}}catch(d){const e=n.version;throw ui(`An exception was raised during execution of migration. Setting the repo's version to last successfully reverted version: ${e}`),await ai.x(e,t),d.message=`During reversion to version ${n.version} exception was raised: ${d.message}`,d}ui(`Reverting to version ${n.version} finished`)}}a||await ai.x(r,t),ui(`All migrations successfully reverted to version ${r}!`)}finally{a||s||!u||await u.close()}}(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress})):(Zi(`migrating to version ${e}`),di(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress}))}async _storageMaxStat(){try{const e=await this.config.get("Datastore.StorageMax");return BigInt(fi(e))}catch(e){return BigInt(Qi)}}async _blockStat(){let e=BigInt(0),t=BigInt(0);if(this.blocks)for await(const{key:n,value:r}of this.blocks.query({}))e+=BigInt(1),t+=BigInt(r.byteLength),t+=BigInt(n.bytes.byteLength);return{count:e,size:t}}}async function Ji(e){let t=BigInt(0);for await(const n of e.query({}))t+=BigInt(n.value.byteLength),t+=BigInt(n.key.uint8Array().byteLength);return t}var es=n(62550),ts=n(91703),ns=n(77420);class rs extends et.BaseDatastore{constructor(e,t){super(),this.path=e,this.opts=t,t&&t.db?(this.database=t.db,delete t.db):this.database=ns}_initDb(){return new Promise(((e,t)=>{this.db=this.database(this.path,{...this.opts,valueEncoding:"binary",compression:!1},(n=>{if(n)return t(n);e(this.db)}))}))}async open(){try{this.db?await this.db.open():this.db=await this._initDb()}catch(e){throw et.Errors.dbOpenFailedError(e)}}async put(e,t){try{await this.db.put(e.toString(),t)}catch(n){throw et.Errors.dbWriteFailedError(n)}}async get(e){let t;try{t=await this.db.get(e.toString())}catch(n){if(n.notFound)throw et.Errors.notFoundError(n);throw et.Errors.dbWriteFailedError(n)}return t}async has(e){try{await this.db.get(e.toString())}catch(t){if(t.notFound)return!1;throw t}return!0}async delete(e){try{await this.db.del(e.toString())}catch(t){throw et.Errors.dbDeleteFailedError(t)}}close(){return this.db&&this.db.close()}batch(){const e=[];return{put:(t,n)=>{e.push({type:"put",key:t.toString(),value:n})},delete:t=>{e.push({type:"del",key:t.toString()})},commit:()=>this.db.batch(e)}}query(e){let t=this._query({values:!0,prefix:e.prefix});Array.isArray(e.filters)&&(t=e.filters.reduce(((e,t)=>Vt(e,t)),t)),Array.isArray(e.orders)&&(t=e.orders.reduce(((e,t)=>ts(e,t)),t));const{offset:n,limit:r}=e;if(n){let e=0;t=Vt(t,(()=>e++>=n))}return r&&(t=es(t,r)),t}queryKeys(e){let t=Kt(this._query({values:!1,prefix:e.prefix}),(e=>{let{key:t}=e;return t}));Array.isArray(e.filters)&&(t=e.filters.reduce(((e,t)=>Vt(e,t)),t)),Array.isArray(e.orders)&&(t=e.orders.reduce(((e,t)=>ts(e,t)),t));const{offset:n,limit:r}=e;if(n){let e=0;t=Vt(t,(()=>e++>=n))}return r&&(t=es(t,r)),t}_query(e){const t={keys:!0,keyAsBuffer:!0,values:e.values};if(null!=e.prefix){const n=e.prefix.toString();t.gte=n,t.lt=n+"\xff"}return n=this.db.iterator(t),{[Symbol.asyncIterator]:()=>({next:()=>new Promise(((e,t)=>{n.next(((r,i,s)=>r?t(r):null==i?n.end((n=>{if(n)return t(n);e({done:!0,value:void 0})})):void e({done:!1,value:{key:new Je.s(i,!1),value:s}})))})),return:()=>new Promise(((e,t)=>{n.end((n=>{if(n)return t(n);e({done:!0,value:void 0})}))}))})};var n}}var is=n(8511);function ss(e){const t=X.CID.asCID(e);if(!t)throw a(new Error("Not a valid cid"),"ERR_INVALID_CID");return new ie.Key("/"+de.base32.encode(t.multihash.bytes).slice(1).toUpperCase(),!1)}function os(e){return X.CID.createV1(Zn.code,ue.decode(de.base32.decode("b"+e.toString().slice(1).toLowerCase())))}function as(e){const t=e.substring(0,1);if("/"===t)return as(e.substring(1));let n,r;n="b"===t.toLowerCase()?e=>de.base32.decode(e.toLowerCase()).subarray(2):"c"===t.toLowerCase()?e=>de.base32pad.decode(e.toLowerCase()).subarray(2):"z"===t?e=>Ye.base58btc.decode(e).subarray(2):"Q"===t?e=>Ye.base58btc.decode("z"+e):e=>de.base32.decode("b"+e.toLowerCase()).subarray(2);for(let o=1;o<e.length;o++)try{r=n(e.substring(0,o))}catch(s){if("Unexpected end of data"!==s.message)throw s}let i="/C";return r&&(i=`/${de.base32.encode(r).slice(1,-1).toUpperCase()||"C"}`),i}class cs extends is.E{constructor(e){super(),this.child=e}open(){return this.child.open()}close(){return this.child.close()}async*query(e,t){for await(const{key:n,value:r}of this.child.query(function(e){return{...e,prefix:e.prefix?as(e.prefix):void 0,filters:e.filters?e.filters.map((e=>t=>e({key:os(t.key),value:t.value}))):void 0,orders:e.orders?e.orders.map((e=>(t,n)=>e({key:os(t.key),value:t.value},{key:os(n.key),value:n.value}))):void 0}}(e),t))yield{key:os(n),value:r}}async*queryKeys(e,t){for await(const n of this.child.queryKeys(function(e){return{...e,prefix:e.prefix?as(e.prefix):void 0,filters:e.filters?e.filters.map((e=>t=>e(os(t)))):void 0,orders:e.orders?e.orders.map((e=>(t,n)=>e(os(t),os(n)))):void 0}}(e),t))yield os(n)}async get(e,t){return this.child.get(ss(e),t)}async*getMany(e,t){for await(const n of e)yield this.get(n,t)}async put(e,t,n){await this.child.put(ss(e),t,n)}async*putMany(e,t){const n=Ai();(globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.setImmediate||globalThis.setTimeout)((async()=>{try{const r=this.child;await dt(this.child.putMany(async function*(){for await(const i of e){const e=ss(i.key);await r.has(e,t)||(yield{key:e,value:i.value}),n.push(i)}}())),n.end()}catch(r){n.end(r)}})),yield*n}has(e,t){return this.child.has(ss(e),t)}delete(e,t){return this.child.delete(ss(e),t)}deleteMany(e,t){const n=Ai();return dt(this.child.deleteMany(async function*(){for await(const t of e)yield ss(t),n.push(t);n.end()}(),t)).catch((e=>{n.end(e)})),n}}function ls(e,t,n){const r=n.path||"ipfs";return function(e,t,n,r){return new Yi(e,t,n,r)}(r,(e=>t.getCodec(e)),{root:new rs(r,{prefix:"",version:2}),blocks:new cs(new rs(`${r}/blocks`,{prefix:"",version:2})),datastore:new rs(`${r}/datastore`,{prefix:"",version:2}),keys:new rs(`${r}/keys`,{prefix:"",version:2}),pins:new rs(`${r}/pins`,{prefix:"",version:2})},{autoMigrate:n.autoMigrate,onMigrationProgress:n.onMigrationProgress||e,repoLock:Mi})}var us=n(97153);const ds={gossipsub:us};var ps=n(55585),hs=n(8711),fs=n(48140),gs=n(80425),ys=n(73790),ms=n(70732),bs=n(39541);const vs=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await(await e.post("bitswap/wantlist",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers})).json();return(n.Keys||[]).map((e=>X.CID.parse(e["/"])))})),ws=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await(await e.post("bitswap/wantlist",{signal:n.signal,searchParams:(0,bs.X)({...n,peer:t.toString()}),headers:n.headers})).json();return(r.Keys||[]).map((e=>X.CID.parse(e["/"])))})),ks=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("bitswap/stat",{searchParams:(0,bs.X)(t),signal:t.signal,headers:t.headers});return Es(await n.json())}));function Es(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map((e=>X.CID.parse(e["/"]))),peers:e.Peers||[],blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}const _s=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("bitswap/unwant",{signal:n.signal,searchParams:(0,bs.X)({arg:t.toString(),...n}),headers:n.headers});return r.json()}));function Ss(e){return{wantlist:vs(e),wantlistForPeer:ws(e),unwant:_s(e),stat:ks(e)}}const Cs=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("block/get",{signal:n.signal,searchParams:(0,bs.X)({arg:t.toString(),...n}),headers:n.headers});return new Uint8Array(await r.arrayBuffer())}));var Is=n(6555),xs=n(71696);async function Ps(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[],i=new FormData;let s=0,o=0;for await(const{content:a,path:c,mode:l,mtime:u}of(0,Is.f)(e)){let e="";s>0&&(e=`-${s}`);let t=(a?"file":"dir")+e;const n=[];if(null!==l&&void 0!==l&&n.push(`mode=${(0,xs.Q)(l)}`),null!=u){const{secs:e,nsecs:t}=u;n.push(`mtime=${e}`),null!=t&&n.push(`mtime-nsecs=${t}`)}if(n.length&&(t=`${t}?${n.join("&")}`),a){i.set(t,a,null!=c?encodeURIComponent(c):void 0);const e=o+a.size;r.push({name:c,start:o,end:e}),o=e}else{if(null==c)throw new Error("path or content or both must be set");i.set(t,new File([""],encodeURIComponent(c),{type:"application/x-directory"}))}s++}return{total:o,parts:r,headers:n,body:i}}function As(e){return e.filter(Boolean)}function Rs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,At.anySignal)(As(t))}const Ts=(0,ms.j)((e=>async function t(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new AbortController,s=Rs(i.signal,r.signal);let o;try{const t=await e.post("block/put",{signal:s,searchParams:(0,bs.X)(r),...await Ps([n],i,r.headers)});o=await t.json()}catch(a){if("dag-pb"===r.format)return t(n,{...r,format:"protobuf"});if("dag-cbor"===r.format)return t(n,{...r,format:"cbor"});throw a}return X.CID.parse(o.Key)})),Os=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(t)||(t=[t]);const r=await e.post("block/rm",{signal:n.signal,searchParams:(0,bs.X)({arg:t.map((e=>e.toString())),"stream-channels":!0,...n}),headers:n.headers});for await(const e of r.ndjson())yield Ds(e)}));function Ds(e){const t={cid:X.CID.parse(e.Hash)};return e.Error&&(t.error=new Error(e.Error)),t}const Ms=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("block/stat",{signal:n.signal,searchParams:(0,bs.X)({arg:t.toString(),...n}),headers:n.headers}),i=await r.json();return{cid:X.CID.parse(i.Key),size:i.Size}}));function Ns(e){return{get:Cs(e),put:Ts(e),rm:Os(e),stat:Ms(e)}}const js=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("bootstrap/add",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),{Peers:i}=await r.json();return{Peers:i.map((e=>new Wt.Multiaddr(e)))}})),Ls=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("bootstrap/rm",{signal:t.signal,searchParams:(0,bs.X)({...t,all:!0}),headers:t.headers}),{Peers:r}=await n.json();return{Peers:r.map((e=>new Wt.Multiaddr(e)))}})),Bs=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("bootstrap/list",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers}),{Peers:r}=await n.json();return{Peers:r.map((e=>new Wt.Multiaddr(e)))}})),zs=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("bootstrap/add",{signal:t.signal,searchParams:(0,bs.X)({...t,default:!0}),headers:t.headers}),{Peers:r}=await n.json();return{Peers:r.map((e=>new Wt.Multiaddr(e)))}})),Fs=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("bootstrap/rm",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),{Peers:i}=await r.json();return{Peers:i.map((e=>new Wt.Multiaddr(e)))}}));function Us(e){return{add:js(e),clear:Ls(e),list:Bs(e),reset:zs(e),rm:Fs(e)}}const Ws=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("config/profile/apply",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),i=await r.json();return{original:i.OldCfg,updated:i.NewCfg}}));var $s=n(92670);const qs=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("config/profile/list",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers}),r=await n.json();return r.map((e=>(0,$s.C)(e)))}));function Hs(e){return{apply:Ws(e),list:qs(e)}}const Ks=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("key argument is required");const r=await e.post("config",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),i=await r.json();return i.Value})),Vs=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("config/show",{signal:t.signal,searchParams:(0,bs.X)({...t}),headers:t.headers}),r=await n.json();return r})),Gs=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new AbortController,i=Rs(r.signal,n.signal),s=await e.post("config/replace",{signal:i,searchParams:(0,bs.X)(n),...await Ps([(0,N.fromString)(JSON.stringify(t))],r,n.headers)});await s.text()})),Xs=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!==typeof t)throw new Error("Invalid key type");const i={...r,...Zs(t,n)},s=await e.post("config",{signal:r.signal,searchParams:(0,bs.X)(i),headers:r.headers});await s.text()})),Zs=(e,t)=>{switch(typeof t){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}};function Qs(e){return{getAll:Vs(e),get:Ks(e),set:Xs(e),replace:Gs(e),profiles:Hs(e)}}const Ys=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dag/export",{signal:n.signal,searchParams:(0,bs.X)({arg:t.toString()}),headers:n.headers});yield*r.iterator()}));async function*Js(e,t,n,r,i){const s=async e=>{const t=await n.getCodec(e.code),s=await r(e,i);return t.decode(s)},o=t.split("/").filter(Boolean);let c=await s(e),l=e;for(;o.length;){const e=o.shift();if(!e)throw a(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(!Object.prototype.hasOwnProperty.call(c,e))throw a(new Error(`no link named "${e}" under ${l}`),"ERR_NO_LINK");c=c[e],yield{value:c,remainderPath:o.join("/")};const n=X.CID.asCID(c);n&&(l=n,c=await s(c))}yield{value:c,remainderPath:""}}const eo=(e,t)=>{const n=(0,ms.j)(((t,n)=>{const r=Cs(n);return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.path){const i=n.localResolve?await nr(Js(t,n.path,e,r,n)):await Y(Js(t,n.path,e,r,n));if(!i)throw a(new Error("Not found"),"ERR_NOT_FOUND");return i}const i=await e.getCodec(t.code),s=await r(t,n),o=i.decode(s);return{value:o,remainderPath:""}}}));return n(t)},to=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new AbortController,i=Rs(r.signal,n.signal),{headers:s,body:o}=await Ps(t,r,n.headers),a=await e.post("dag/import",{signal:i,headers:s,body:o,searchParams:(0,bs.X)({"pin-roots":n.pinRoots})});for await(const{Root:e}of a.ndjson())if(void 0!==e){const{Cid:{"/":t},PinErrorMsg:n}=e;yield{root:{cid:X.CID.parse(t),pinErrorMsg:n}}}})),no=(e,t)=>{const n=(0,ms.j)((t=>async function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={storeCodec:"dag-cbor",hashAlg:"sha2-256",...r};let s;if(i.inputCodec){if(!(n instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");s=n}else{s=(await e.getCodec(i.storeCodec)).encode(n),i.inputCodec=i.storeCodec}const o=new AbortController,a=Rs(o.signal,i.signal),c=await t.post("dag/put",{timeout:i.timeout,signal:a,searchParams:(0,bs.X)(i),...await Ps([s],o,i.headers)}),l=await c.json();return X.CID.parse(l.Cid["/"])}));return n(t)},ro=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dag/resolve",{signal:n.signal,searchParams:(0,bs.X)({arg:`${t}${n.path?`/${n.path}`.replace(/\/[/]+/g,"/"):""}`,...n}),headers:n.headers}),i=await r.json();return{cid:X.CID.parse(i.Cid["/"]),remainderPath:i.RemPath}}));function io(e,t){return{export:Ys(t),get:eo(e,t),import:to(t),put:no(e,t),resolve:ro(t)}}var so=n(43592);const oo=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dht/findpeer",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers});for await(const e of r.ndjson())yield(0,so.A)(e)})),ao=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dht/findprovs",{signal:n.signal,searchParams:(0,bs.X)({arg:t.toString(),...n}),headers:n.headers});for await(const e of r.ndjson())yield(0,so.A)(e)})),co=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dht/get",{signal:n.signal,searchParams:(0,bs.X)({arg:t instanceof Uint8Array?(0,oe.toString)(t):t.toString(),...n}),headers:n.headers});for await(const e of r.ndjson())yield(0,so.A)(e)})),lo=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{recursive:!1};const r=Array.isArray(t)?t:[t],i=await e.post("dht/provide",{signal:n.signal,searchParams:(0,bs.X)({arg:r.map((e=>e.toString())),...n}),headers:n.headers});for await(const e of i.ndjson())yield(0,so.A)(e)})),uo=(0,ms.j)((e=>async function*(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new AbortController,s=Rs(i.signal,r.signal),o=await e.post("dht/put",{signal:s,searchParams:(0,bs.X)({arg:t instanceof Uint8Array?(0,oe.toString)(t):t.toString(),...r}),...await Ps([n],i,r.headers)});for await(const e of o.ndjson())yield(0,so.A)(e)})),po=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dht/query",{signal:n.signal,searchParams:(0,bs.X)({arg:t.toString(),...n}),headers:n.headers});for await(const e of r.ndjson())yield(0,so.A)(e)}));function ho(e){return{findPeer:oo(e),findProvs:ao(e),get:co(e),provide:lo(e),put:uo(e),query:po(e)}}const fo=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("diag/cmds",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers});return n.json()})),go=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("diag/net",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers});return n.json()})),yo=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("diag/sys",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers});return n.json()}));function mo(e){return{cmds:fo(e),net:go(e),sys:yo(e)}}const bo=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await e.post("files/chmod",{signal:r.signal,searchParams:(0,bs.X)({arg:t,mode:n,...r}),headers:r.headers});await i.text()})),vo=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Array.isArray(t)?t:[t],s=await e.post("files/cp",{signal:r.signal,searchParams:(0,bs.X)({arg:i.concat(n).map((e=>X.CID.asCID(e)?`/ipfs/${e}`:e)),...r}),headers:r.headers});await s.text()})),wo=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||"string"!==typeof t)throw new Error("ipfs.files.flush requires a path");const r=await e.post("files/flush",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),i=await r.json();return X.CID.parse(i.Cid)}));var ko=n(1611);const Eo=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("ipfs.files.ls requires a path");const r=await e.post("files/ls",{signal:n.signal,searchParams:(0,bs.X)({arg:X.CID.asCID(t)?`/ipfs/${t}`:t,long:!0,...n,stream:!0}),headers:n.headers});for await(const e of r.ndjson())if("Entries"in e)for(const t of e.Entries||[])yield _o((0,ko.c)(t));else yield _o((0,ko.c)(e))}));function _o(e){return e.hash&&(e.cid=X.CID.parse(e.hash)),delete e.hash,e.type=1===e.type?"directory":"file",e}const So=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("files/mkdir",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers});await r.text()})),Co=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);const i=await e.post("files/mv",{signal:r.signal,searchParams:(0,bs.X)({arg:t.concat(n),...r}),headers:r.headers});await i.text()}));var Io=n(84001);const xo=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("files/read",{signal:n.signal,searchParams:(0,bs.X)({arg:t,count:n.length,...n}),headers:n.headers});yield*Io(r.body)})),Po=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("files/rm",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),i=await r.text();if(""!==i){const e=new F.HTTPError(r);throw e.message=i,e}})),Ao=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("files/stat",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),i=await r.json();return i.WithLocality=i.WithLocality||!1,Ro((0,ko.c)(i))}));function Ro(e){return e.cid=X.CID.parse(e.hash),delete e.hash,e}const To=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("files/touch",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers});await r.text()}));var Oo=n(15059),Do=n(13068);const Mo=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new AbortController,s=Rs(i.signal,r.signal),o=await e.post("files/write",{signal:s,searchParams:(0,bs.X)({arg:t,streamChannels:!0,count:r.length,...r}),...await Ps([{content:n,path:"arg",mode:(0,Oo.Q)(r.mode),mtime:(0,Do.X)(r.mtime)}],i,r.headers)});await o.text()}));function No(e){return{chmod:bo(e),cp:vo(e),flush:wo(e),ls:Eo(e),mkdir:So(e),mv:Co(e),read:xo(e),rm:Po(e),stat:Ao(e),touch:To(e),write:Mo(e)}}const jo=(0,ms.j)((e=>async function(e,t){throw a(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})),Lo=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"rsa",size:2048};const r=await e.post("key/gen",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),i=await r.json();return(0,$s.C)(i)})),Bo=(0,ms.j)((e=>async function(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=await e.post("key/import",{signal:i.signal,searchParams:(0,bs.X)({arg:t,pem:n,password:r,...i}),headers:i.headers}),o=await s.json();return(0,$s.C)(o)})),zo=(0,ms.j)((e=>async function(e){throw a(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})),Fo=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("key/list",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers}),r=await n.json();return(r.Keys||[]).map((e=>(0,$s.C)(e)))})),Uo=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await e.post("key/rename",{signal:r.signal,searchParams:(0,bs.X)({arg:[t,n],...r}),headers:r.headers});return(0,$s.C)(await i.json())})),Wo=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("key/rm",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),i=await r.json();return(0,$s.C)(i.Keys[0])}));function $o(e){return{export:jo(e),gen:Lo(e),import:Bo(e),info:zo(e),list:Fo(e),rename:Uo(e),rm:Wo(e)}}const qo=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await e.post("log/level",{signal:r.signal,searchParams:(0,bs.X)({arg:[t,n],...r}),headers:r.headers});return(0,$s.C)(await i.json())})),Ho=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("log/ls",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers}),r=await n.json();return r.Strings})),Ko=(0,ms.j)((e=>async function*(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("log/tail",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers});yield*n.ndjson()}));function Vo(e){return{level:qo(e),ls:Ho(e),tail:Ko(e)}}const Go=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("name/publish",{signal:n.signal,searchParams:(0,bs.X)({arg:`${t}`,...n}),headers:n.headers});return(0,$s.C)(await r.json())})),Xo=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("name/resolve",{signal:n.signal,searchParams:(0,bs.X)({arg:t,stream:!0,...n}),headers:n.headers});for await(const e of r.ndjson())yield e.Path})),Zo=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("name/pubsub/cancel",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers});return(0,$s.C)(await r.json())})),Qo=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("name/pubsub/state",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers});return(0,$s.C)(await n.json())})),Yo=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("name/pubsub/subs",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers}),r=await n.json();return r.Strings||[]}));function Jo(e){return{cancel:Zo(e),state:Qo(e),subs:Yo(e)}}function ea(e){return{publish:Go(e),resolve:Xo(e),pubsub:Jo(e)}}const ta=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("object/data",{signal:n.signal,searchParams:(0,bs.X)({arg:`${t instanceof Uint8Array?X.CID.decode(t):t}`,...n}),headers:n.headers}),i=await r.arrayBuffer();return new Uint8Array(i,0,i.byteLength)})),na=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("object/get",{signal:n.signal,searchParams:(0,bs.X)({arg:`${t instanceof Uint8Array?X.CID.decode(t):t}`,dataEncoding:"base64",...n}),headers:n.headers}),i=await r.json();return{Data:(0,N.fromString)(i.Data,"base64pad"),Links:(i.Links||[]).map((e=>({Name:e.Name,Hash:X.CID.parse(e.Hash),Tsize:e.Size})))}})),ra=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("object/links",{signal:n.signal,searchParams:(0,bs.X)({arg:`${t instanceof Uint8Array?X.CID.decode(t):t}`,...n}),headers:n.headers}),i=await r.json();return(i.Links||[]).map((e=>({Name:e.Name,Tsize:e.Size,Hash:X.CID.parse(e.Hash)})))})),ia=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("object/new",{signal:t.signal,searchParams:(0,bs.X)({arg:t.template,...t}),headers:t.headers}),{Hash:r}=await n.json();return X.CID.parse(r)})),sa=(e,t)=>{const n=(0,ms.j)((n=>{const r=no(e,t);return async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(e,{...t,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}}));return n(t)},oa=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("object/stat",{signal:n.signal,searchParams:(0,bs.X)({arg:`${t}`,...n}),headers:n.headers}),i=await r.json();return{...i,Hash:X.CID.parse(i.Hash)}})),aa=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await e.post("object/patch/add-link",{signal:r.signal,searchParams:(0,bs.X)({arg:[`${t}`,n.Name||n.name||"",(n.Hash||n.cid||"").toString()||null],...r}),headers:r.headers}),{Hash:s}=await i.json();return X.CID.parse(s)})),ca=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new AbortController,s=Rs(i.signal,r.signal),o=await e.post("object/patch/append-data",{signal:s,searchParams:(0,bs.X)({arg:`${t}`,...r}),...await Ps([n],i,r.headers)}),{Hash:a}=await o.json();return X.CID.parse(a)})),la=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await e.post("object/patch/rm-link",{signal:r.signal,searchParams:(0,bs.X)({arg:[`${t}`,n.Name||n.name||null],...r}),headers:r.headers}),{Hash:s}=await i.json();return X.CID.parse(s)})),ua=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new AbortController,s=Rs(i.signal,r.signal),o=await e.post("object/patch/set-data",{signal:s,searchParams:(0,bs.X)({arg:[`${t}`],...r}),...await Ps([n],i,r.headers)}),{Hash:a}=await o.json();return X.CID.parse(a)}));function da(e){return{addLink:aa(e),appendData:ca(e),rmLink:la(e),setData:ua(e)}}function pa(e,t){return{data:ta(t),get:na(t),links:ra(t),new:ia(t),put:sa(e,t),stat:oa(t),patch:da(t)}}const ha=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const{path:r,recursive:i,metadata:s}of J(t)){const t=await e.post("pin/add",{signal:n.signal,searchParams:(0,bs.X)({...n,arg:r,recursive:i,metadata:s?JSON.stringify(s):void 0,stream:!0}),headers:n.headers});for await(const e of t.ndjson())if(e.Pins)for(const t of e.Pins)yield X.CID.parse(t);else yield X.CID.parse(e)}}));function fa(e){const t=ha(e);return(0,ms.j)((()=>async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Y(t([{path:e,...n}],n))}))(e)}function ga(e,t,n){const r={type:e,cid:X.CID.parse(t)};return n&&(r.metadata=n),r}const ya=(0,ms.j)((e=>async function*(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];t.paths&&(n=Array.isArray(t.paths)?t.paths:[t.paths]);const r=await e.post("pin/ls",{signal:t.signal,searchParams:(0,bs.X)({...t,arg:n.map((e=>`${e}`)),stream:!0}),headers:t.headers});for await(const e of r.ndjson()){if(e.Keys){for(const t of Object.keys(e.Keys))yield ga(e.Keys[t].Type,t,e.Keys[t].Metadata);return}yield ga(e.Type,e.Cid,e.Metadata)}})),ma=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const{path:r,recursive:i}of J(t)){const t=new URLSearchParams(n.searchParams);t.append("arg",`${r}`),null!=i&&t.set("recursive",String(i));const s=await e.post("pin/rm",{signal:n.signal,headers:n.headers,searchParams:(0,bs.X)({...n,arg:`${r}`,recursive:i})});for await(const e of s.ndjson())e.Pins?yield*e.Pins.map((e=>X.CID.parse(e))):yield X.CID.parse(e)}})),ba=e=>{const t=ma(e);return(0,ms.j)((()=>async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Y(t([{path:e,...n}],n))}))(e)};var va=n(44190);const wa=e=>{let{Name:t,Status:n,Cid:r}=e;return{cid:X.CID.parse(r),name:t,status:n}},ka=e=>{if("string"===typeof e&&""!==e)return e;throw new TypeError("service name must be passed")},Ea=e=>{if(X.CID.asCID(e))return e.toString();throw new TypeError("CID instance expected instead of "+typeof e)},_a=e=>{let{service:t,cid:n,name:r,status:i,all:s}=e;const o=(0,bs.X)({service:ka(t),name:r,force:!!s||void 0});if(n)for(const a of n)o.append("cid",Ea(a));if(i)for(const a of i)o.append("status",a);return o},Sa=e=>{let{cid:t,service:n,background:r,name:i,origins:s}=e;const o=(0,bs.X)({arg:Ea(t),service:ka(n),name:i,background:!!r||void 0});if(s)for(const a of s)o.append("origin",a.toString());return o};function Ca(e){return async function(t,n){let{timeout:r,signal:i,headers:s,...o}=n;const a=await e.post("pin/remote/add",{timeout:r,signal:i,headers:s,searchParams:Sa({cid:t,...o})});return wa(await a.json())}}function Ia(e){return async function*(t){let{timeout:n,signal:r,headers:i,...s}=t;const o=await e.post("pin/remote/ls",{timeout:n,signal:r,headers:i,searchParams:_a(s)});for await(const e of o.ndjson())yield wa(e)}}function xa(e){return async function(t){let{timeout:n,signal:r,headers:i,...s}=t;await e.post("pin/remote/rm",{timeout:n,signal:r,headers:i,searchParams:_a({...s,all:!1})})}}function Pa(e){return async function(t){let{timeout:n,signal:r,headers:i,...s}=t;await e.post("pin/remote/rm",{timeout:n,signal:r,headers:i,searchParams:_a({...s,all:!0})})}}var Aa=n(99299);function Ra(e){return async function(t,n){const{endpoint:r,key:i,headers:s,timeout:o,signal:a}=n;await e.post("pin/remote/service/add",{timeout:o,signal:a,searchParams:(0,bs.X)({arg:[t,(0,Aa.hm)(r),i]}),headers:s})}}function Ta(e){return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{stat:n,headers:r,timeout:i,signal:s}=t,o=await e.post("pin/remote/service/ls",{timeout:i,signal:s,headers:r,searchParams:!0===n?(0,bs.X)({stat:n}):void 0}),{RemoteServices:a}=await o.json();return a.map(Aa.iI)}}function Oa(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await e.post("pin/remote/service/rm",{signal:n.signal,headers:n.headers,searchParams:(0,bs.X)({arg:t})})}}function Da(e){const t=new va.KU(e);return{add:Ra(t),ls:Ta(t),rm:Oa(t)}}function Ma(e){const t=new va.KU(e);return{add:Ca(t),ls:Ia(t),rm:xa(t),rmAll:Pa(t),service:Da(e)}}function Na(e){return{addAll:ha(e),add:fa(e),ls:ya(e),rmAll:ma(e),rm:ba(e),remote:Ma(e)}}const ja=e=>Array.isArray(e)?e.map(La):e,La=e=>(0,oe.toString)(Ba(e)),Ba=e=>p.base64url.decode(e),za=e=>p.base64url.encode((0,N.fromString)(e)),Fa=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{Strings:n}=await(await e.post("pubsub/ls",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers})).json();return ja(n)||[]})),Ua=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("pubsub/peers",{signal:n.signal,searchParams:(0,bs.X)({arg:za(t),...n}),headers:n.headers}),{Strings:i}=await r.json();return i||[]})),Wa=(0,ms.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(0,bs.X)({arg:za(t),...r}),s=new AbortController,o=Rs(s.signal,r.signal),a=await e.post("pubsub/pub",{signal:o,searchParams:i,...await Ps([n],s,r.headers)});await a.text()})),$a=o("ipfs-http-client:pubsub:subscribe");async function qa(e,t){let{onMessage:n,onEnd:r,onError:i}=t;i=i||$a;try{for await(const t of e.ndjson())try{if(!t.from)continue;n({from:t.from,data:Ba(t.data),seqno:Ba(t.seqno),topicIDs:ja(t.topicIDs)})}catch(s){s.message=`Failed to parse pubsub message: ${s.message}`,i(s,!1,t)}}catch(s){Ha(s)||i(s,!0)}finally{r()}}const Ha=e=>{switch(e.type){case"aborted":case"abort":return!0;default:return"AbortError"===e.name}};var Ka=n(12613),Va=n(21194);function Ga(e){const t=new Va.f;return{ls:Fa(e),peers:Ua(e),publish:Wa(e),subscribe:(n=e,r=t,(0,ms.j)((e=>async function(t,n){let i,s,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o.signal=r.subscribe(t,n,o.signal);const a=new Promise(((e,t)=>{i=e,s=t})),c=setTimeout((()=>i()),1e3);return e.post("pubsub/sub",{signal:o.signal,searchParams:(0,bs.X)({arg:za(t),...o}),headers:o.headers}).catch((e=>{r.unsubscribe(t,n),s(e)})).then((e=>{clearTimeout(c),e&&(qa(e,{onMessage:n,onEnd:()=>r.unsubscribe(t,n),onError:o.onError}),i())})),a}))(n)),unsubscribe:(0,Ka.W)(e,t)};var n,r}var Xa=n(7519);const Za=(0,ms.j)(((e,t)=>Object.assign((async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(t)?t:[t],i=await e.post("refs",{signal:n.signal,searchParams:(0,bs.X)({arg:r.map((e=>`${e instanceof Uint8Array?X.CID.decode(e):e}`)),...n}),headers:n.headers,transform:$s.C});yield*i.ndjson()}),{local:(0,Xa.p)(t)}))),Qa=(0,ms.j)((e=>async function*(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("repo/gc",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers,transform:e=>({err:e.Error?new Error(e.Error):null,cid:(e.Key||{})["/"]?X.CID.parse(e.Key["/"]):null})});yield*n.ndjson()})),Ya=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("repo/stat",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers}),r=await n.json();return{numObjects:BigInt(r.NumObjects),repoSize:BigInt(r.RepoSize),repoPath:r.RepoPath,version:r.Version,storageMax:BigInt(r.StorageMax)}})),Ja=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await(await e.post("repo/version",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers})).json();return n.Version}));function ec(e){return{gc:Qa(e),stat:Ya(e),version:Ja(e)}}const tc=(0,ms.j)((e=>async function*(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("stats/bw",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers,transform:e=>({totalIn:BigInt(e.TotalIn),totalOut:BigInt(e.TotalOut),rateIn:parseFloat(e.RateIn),rateOut:parseFloat(e.RateOut)})});yield*n.ndjson()}));function nc(e){return{bitswap:ks(e),repo:Ya(e),bw:tc(e)}}const rc=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("swarm/addrs",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers}),{Addrs:r}=await n.json();return Object.keys(r).map((e=>({id:e,addrs:(r[e]||[]).map((e=>new Wt.Multiaddr(e)))})))})),ic=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("swarm/connect",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),{Strings:i}=await r.json();return i||[]})),sc=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("swarm/disconnect",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),{Strings:i}=await r.json();return i||[]})),oc=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("swarm/addrs/local",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers}),{Strings:r}=await n.json();return(r||[]).map((e=>new Wt.Multiaddr(e)))})),ac=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("swarm/peers",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers}),{Peers:r}=await n.json();return(r||[]).map((e=>({addr:new Wt.Multiaddr(e.Addr),peer:e.Peer,muxer:e.Muxer,latency:e.Latency,streams:e.Streams,direction:null==e.Direction?void 0:0===e.Direction?"inbound":"outbound"})))}));function cc(e){return{addrs:rc(e),connect:ic(e),disconnect:sc(e),localAddrs:oc(e),peers:ac(e)}}const lc=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new AbortController,i=Rs(r.signal,n.signal),{headers:s,body:o,total:a,parts:c}=await Ps(t,r,n.headers),[l,u]="function"===typeof n.progress?uc(a,c,n.progress):[void 0,void 0],d=await e.post("add",{searchParams:(0,bs.X)({"stream-channels":!0,...n,progress:Boolean(l)}),onUploadProgress:u,signal:i,headers:s,body:o});for await(let e of d.ndjson())e=(0,$s.C)(e),void 0!==e.hash?yield pc(e):l&&l(e.bytes||0,e.name)})),uc=(e,t,n)=>t?[void 0,dc(e,t,n)]:[n,void 0],dc=(e,t,n)=>{let r=0;const i=t.length;return s=>{let{loaded:o,total:a}=s;const c=Math.floor(o/a*e);for(;r<i;){const{start:e,end:i,name:s}=t[r];if(c<i){n(c-e,s);break}n(i-e,s),r+=1}}};function pc(e){let{name:t,hash:n,size:r,mode:i,mtime:s,mtimeNsecs:o}=e;const a={path:t,cid:X.CID.parse(n),size:parseInt(r)};return null!=i&&(a.mode=parseInt(i,8)),null!=s&&(a.mtime={secs:s,nsecs:o||0}),a}function hc(e){const t=lc(e);return(0,ms.j)((()=>async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await Y(t(an(e),n))}))(e)}const fc=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("cat",{signal:n.signal,searchParams:(0,bs.X)({arg:t.toString(),...n}),headers:n.headers});yield*r.iterator()})),gc=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("commands",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers});return n.json()})),yc=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dns",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),i=await r.json();return i.Path})),mc=(0,ms.j)((e=>()=>{const t=new URL(e.opts.base||"");return{host:t.hostname,port:t.port,protocol:t.protocol,pathname:t.pathname,"api-path":t.pathname}})),bc=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={arg:`${t instanceof Uint8Array?X.CID.decode(t):t}`,...n};r.compressionLevel&&(r["compression-level"]=r.compressionLevel,delete r.compressionLevel);const i=await e.post("get",{signal:n.signal,searchParams:(0,bs.X)(r),headers:n.headers});yield*i.iterator()})),vc=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("id",{signal:t.signal,searchParams:(0,bs.X)({arg:t.peerId?t.peerId.toString():void 0,...t}),headers:t.headers}),r=await n.json(),i={...(0,$s.C)(r)};return i.addresses&&(i.addresses=i.addresses.map((e=>new Wt.Multiaddr(e)))),i})),wc=e=>{const t=vc(e);return async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await t(e);return Boolean(n&&n.addresses&&n.addresses.length)}},kc=(0,ms.j)(((e,t)=>async function*(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=`${n instanceof Uint8Array?X.CID.decode(n):n}`;async function s(e){let n=e.Hash;if(n.includes("/")){const e=n.startsWith("/ipfs/")?n:`/ipfs/${n}`;n=(await Ao(t)(e)).cid}else n=X.CID.parse(n);const r={name:e.Name,path:i+(e.Name?`/${e.Name}`:""),size:e.Size,cid:n,type:Ec(e)};return e.Mode&&(r.mode=parseInt(e.Mode,8)),void 0!==e.Mtime&&null!==e.Mtime&&(r.mtime={secs:e.Mtime},void 0!==e.MtimeNsecs&&null!==e.MtimeNsecs&&(r.mtime.nsecs=e.MtimeNsecs)),r}const o=await e.post("ls",{signal:r.signal,searchParams:(0,bs.X)({arg:i,...r}),headers:r.headers});for await(let e of o.ndjson()){if(e=e.Objects,!e)throw new Error("expected .Objects in results");if(e=e[0],!e)throw new Error("expected one array in results.Objects");const t=e.Links;if(!Array.isArray(t))throw new Error("expected one array in results.Objects[0].Links");if(!t.length)return void(yield s(e));yield*t.map(s)}}));function Ec(e){switch(e.Type){case 1:case 5:return"dir";default:return"file"}}const _c=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("dns",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers});return(0,$s.C)(await n.json())})),Sc=(0,ms.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("ping",{signal:n.signal,searchParams:(0,bs.X)({arg:`${t}`,...n}),headers:n.headers,transform:$s.C});yield*r.ndjson()})),Cc=(0,ms.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("resolve",{signal:n.signal,searchParams:(0,bs.X)({arg:t,...n}),headers:n.headers}),{Path:i}=await r.json();return i})),Ic=(0,ms.j)((e=>async function(){throw a(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})),xc=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("shutdown",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers});await n.text()})),Pc=(0,ms.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("version",{signal:t.signal,searchParams:(0,bs.X)(t),headers:t.headers});return{...(0,$s.C)(await n.json()),"ipfs-http-client":"1.0.0"}}));n(42611),n(88910);var Ac=n(62162),Rc=n(84856),Tc=n(48402),Oc=n(65967),Dc=n(49616);const Mc={func:(e,t)=>je.validate(t,e)};function Nc(e,t){return je.select(t[0],t[1])}var jc=n(95067),Lc=n(60403);const Bc=i.Z.bind({ignoreUndefined:!0});function zc(e){let{options:t={},peerId:n,multiaddrs:i=[],repo:s,keychainConfig:o={},config:c={}}=e;const{datastore:d,keys:p}=s,h=function(e){let{options:t,config:n,datastore:i,keys:s,keychainConfig:o,peerId:c,multiaddrs:d}=e;const p={datastore:i,peerId:c,modules:{}},h={modules:{pubsub:(()=>{const e=Qe(n,"Pubsub.Router")||"gossipsub";if(!ds[e])throw a(new Error(`Router unavailable. Configure libp2p.modules.pubsub to use the ${e} router.`),"ERR_NOT_SUPPORTED");return ds[e]})(),contentRouting:[],peerRouting:[]},config:{peerDiscovery:{mdns:{enabled:Qe(t,"config.Discovery.MDNS.Enabled",Qe(n,"Discovery.MDNS.Enabled",!0))},webRTCStar:{enabled:Qe(t,"config.Discovery.webRTCStar.Enabled",Qe(n,"Discovery.webRTCStar.Enabled",!0))},bootstrap:{list:Qe(t,"config.Bootstrap",Qe(n,"Bootstrap",[]))}},relay:{enabled:Qe(t,"relay.enabled",Qe(n,"relay.enabled",!0)),hop:{enabled:Qe(t,"relay.hop.enabled",Qe(n,"relay.hop.enabled",!1)),active:Qe(t,"relay.hop.active",Qe(n,"relay.hop.active",!1))}},dht:{enabled:"none"!==Qe(n,"Routing.Type","dhtclient"),clientMode:"dhtserver"!==Qe(n,"Routing.Type","dht"),kBucketSize:Qe(t,"dht.kBucketSize",20),validators:{ipns:je}},pubsub:{enabled:Qe(t,"config.Pubsub.Enabled",Qe(n,"Pubsub.Enabled",!0))},nat:{enabled:!Qe(n,"Swarm.DisableNatPortMap",!1)}},addresses:{listen:d.map((e=>e.toString())),announce:Qe(t,"addresses.announce",Qe(n,"Addresses.Announce",[])),noAnnounce:Qe(t,"addresses.noAnnounce",Qe(n,"Addresses.NoAnnounce",[]))},connectionManager:Qe(t,"connectionManager",{maxConnections:Qe(t,"config.Swarm.ConnMgr.HighWater",Qe(n,"Swarm.ConnMgr.HighWater")),minConnections:Qe(t,"config.Swarm.ConnMgr.LowWater",Qe(n,"Swarm.ConnMgr.LowWater"))}),keychain:{datastore:s,...o},host:{agentVersion:`js-ipfs/${kn.Pr}`}};let f=Qe(t,"libp2p",void 0);"function"===typeof f&&(f=void 0);const g=Bc(p,{dialer:{maxParallelDials:150,maxDialsPerPeer:4,dialTimeout:1e4},modules:{transport:[Ac,Rc],streamMuxer:[Tc],connEncryption:[Oc.NOISE],peerDiscovery:[],dht:Dc,pubsub:us},config:{peerDiscovery:{autoDial:!0,bootstrap:{enabled:!0},webRTCStar:{enabled:!0}},dht:{kBucketSize:20,enabled:!0,clientMode:!0,validators:{ipns:Mc},selectors:{ipns:Nc}},pubsub:{enabled:!0,emitSelf:!0},nat:{enabled:!1}},metrics:{enabled:!0},peerStore:{persistence:!0}},h,f);Qe(g,"config.peerDiscovery.bootstrap.list",[]).length>0&&g.modules.peerDiscovery.push(jc);const y=Qe(t,"config.Addresses.Delegates",Qe(n,"Addresses.Delegates",[]));if(y.length>0){const e=y[Math.floor(Math.random()*y.length)],t=new Wt.Multiaddr(e).toOptions(),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={name:C.identity.name,code:C.identity.code,encode:e=>e,decode:e=>e},n=Object.values(I.gh);(e.ipld&&e.ipld.bases?e.ipld.bases:[]).forEach((e=>n.push(e)));const i=new fs.x({bases:n,loadBase:e.ipld&&e.ipld.loadBase}),s=Object.values(I.QB);[l,u,r,S,t].concat(e.ipld&&e.ipld.codecs||[]).forEach((e=>s.push(e)));const o=new gs.w({codecs:s,loadCodec:e.ipld&&e.ipld.loadCodec}),a=Object.values(I.kq);(e.ipld&&e.ipld.hashers?e.ipld.hashers:[]).forEach((e=>a.push(e)));const c=new ys.d({hashers:a,loadHasher:e.ipld&&e.ipld.loadHasher});return{add:hc(e),addAll:lc(e),bitswap:Ss(e),block:Ns(e),bootstrap:Us(e),cat:fc(e),commands:gc(e),config:Qs(e),dag:io(o,e),dht:ho(e),diag:mo(e),dns:yc(e),files:No(e),get:bc(e),getEndpointConfig:mc(e),id:vc(e),isOnline:wc(e),key:$o(e),log:Vo(e),ls:kc(e),mount:_c(e),name:ea(e),object:pa(o,e),pin:Na(e),ping:Sc(e),pubsub:Ga(e),refs:Za(e),repo:ec(e),resolve:Cc(e),start:Ic(e),stats:nc(e),stop:xc(e),swarm:cc(e),version:Pc(e),bases:i,codecs:o,hashers:c}}({host:t.host,protocol:443===parseInt(t.port)?"https":"http",port:t.port});h.modules.contentRouting=h.modules.contentRouting||[],h.modules.contentRouting.push(new hs(c,n)),h.modules.peerRouting=h.modules.peerRouting||[],h.modules.peerRouting.push(new ps(n))}return g}({options:t,config:c,datastore:d,keys:p,keychainConfig:o,peerId:n,multiaddrs:i});return"function"===typeof t.libp2p?t.libp2p({libp2pOptions:h,options:t,config:c,datastore:d,peerId:n}):Lc.create(h)}const Fc=i.Z.bind({ignoreUndefined:!0}),Uc=o("ipfs:components:peer:storage");class Wc{constructor(e,t,n,r,i){this.print=r,this.peerId=e,this.keychain=t,this.repo=n,this.print=r,this.isNew=i}static async start(e,t,n){const{repoAutoMigrate:r,repo:i,onMigrationProgress:s}=n,o="string"===typeof i||null==i?ls(e,t,{path:i,autoMigrate:r,onMigrationProgress:s}):i,{peerId:a,keychain:c,isNew:l}=await $c(e,o,n);return new Wc(a,c,o,e,l)}}const $c=async(e,t,n)=>{if(!t.closed)return{...await Gc(t,n),isNew:!1};try{return await t.open(),{...await Gc(t,n),isNew:!1}}catch(r){if(r.code!==bi)throw r;if(n.init&&!1===n.init.allowNew)throw new M("Initialization of new repos disabled by config, pass `config.init.isNew: true` to enable it");return{...await qc(e,t,n),isNew:!0}}},qc=async(e,t,n)=>{const r=n.init||{},i=await t.exists();if(Uc("repo exists?",i),!0===i)throw new Error("repo already exists");const s=r.privateKey?await Hc(r.privateKey):await Kc(e,r),o=Vc(s);Uc("peer identity: %s",o.PeerID);const a={...Fc(Zc((0,$t.Z)(),r.profiles),n.config),Identity:o};await t.init(a),await t.open(),Uc("repo opened");const c={pass:n.pass};try{c.dek=await t.config.get("Keychain.DEK")}catch(u){if("ERR_NOT_FOUND"!==u.code)throw u}const l=await zc({options:void 0,multiaddrs:void 0,peerId:s,repo:t,config:a,keychainConfig:c});return l.keychain&&l.keychain.opts&&(await l.loadKeychain(),await t.config.set("Keychain",{DEK:l.keychain.opts.dek})),{peerId:s,keychain:l.keychain}},Hc=e=>(Uc("using user-supplied private-key"),"object"===typeof e?e:Z.createFromPrivKey((0,N.fromString)(e,"base64pad"))),Kc=(e,t)=>{let{algorithm:n="Ed25519",bits:r=2048}=t;return e("generating %s keypair...",n),Z.create({keyType:n,bits:r})},Vc=e=>({PeerID:e.toB58String(),PrivKey:(0,oe.toString)(e.privKey.bytes,"base64pad")}),Gc=async(e,t)=>{const n=t.config,r=t.init&&t.init.profiles||[],i=t.pass,s=await e.config.getAll(),o=Xc(Zc(s,r),n);if(s!==o&&await e.config.replace(o),!o.Identity||!o.Identity.PrivKey)throw new P("No private key was found in the config, please intialize the repo");const a=await Z.createFromPrivKey(o.Identity.PrivKey),c=await zc({options:void 0,multiaddrs:void 0,peerId:a,repo:e,config:o,keychainConfig:{pass:i,...o.Keychain}});return c.keychain&&await c.loadKeychain(),{peerId:a,keychain:c.keychain}},Xc=(e,t)=>t?Fc(e,t):e,Zc=(e,t)=>(t||[]).reduce(((e,t)=>{const n=Cn[t];if(!n)throw new Error(`Could not find profile with name '${t}'`);return Uc("applying profile %s",t),n.transform(e)}),e);var Qc=n(5717),Yc=n(3390),Jc=n(81564);const el=(e,t)=>{const n=["bitswap"];return t&&n.push(t),e&&n.push(`${e.toB58String().slice(0,8)}`),Object.assign(o(n.join(":")),{error:o(n.concat(["error"]).join(":"))})},tl=(e,t)=>{if(e.size!==t.size)return!1;for(const[n,r]of e){const e=t.get(n);if(void 0===e)return!1;if(r instanceof Uint8Array&&e instanceof Uint8Array&&!(0,ae.equals)(r,e))return!1;if(r instanceof Jc.b&&e instanceof Jc.b&&!r.equals(e))return!1}return!0};var nl=n(48009);class rl{constructor(e){this.full=e,this.wantlist=new Map,this.blocks=new Map,this.blockPresences=new Map,this.pendingBytes=0}get empty(){return 0===this.blocks.size&&0===this.wantlist.size&&0===this.blockPresences.size}addEntry(e,t,n,r,i){null==n&&(n=rl.WantType.Block);const s=e.toString(Ye.base58btc),o=this.wantlist.get(s);o?(o.wantType===n&&(o.priority=t),r&&(o.cancel=Boolean(r)),i&&(o.sendDontHave=Boolean(i)),n===rl.WantType.Block&&o.wantType===rl.WantType.Have&&(o.wantType=n)):this.wantlist.set(s,new Jc.b(e,t,n,r,i))}addBlock(e,t){const n=e.toString(Ye.base58btc);this.blocks.set(n,t)}addHave(e){const t=e.toString(Ye.base58btc);this.blockPresences.has(t)||this.blockPresences.set(t,rl.BlockPresenceType.Have)}addDontHave(e){const t=e.toString(Ye.base58btc);this.blockPresences.has(t)||this.blockPresences.set(t,rl.BlockPresenceType.DontHave)}cancel(e){const t=e.toString(Ye.base58btc);this.wantlist.delete(t),this.addEntry(e,0,rl.WantType.Block,!0,!1)}setPendingBytes(e){this.pendingBytes=e}serializeToBitswap100(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.bytes,priority:Number(e.priority),cancel:Boolean(e.cancel)}))),full:!!this.full||void 0},blocks:Array.from(this.blocks.values())};return nl.v.encode(e).finish()}serializeToBitswap110(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.bytes,priority:Number(e.priority),wantType:e.wantType,cancel:Boolean(e.cancel),sendDontHave:Boolean(e.sendDontHave)}))),full:!!this.full||void 0},blockPresences:[],payload:[],pendingBytes:this.pendingBytes};for(const[t,n]of this.blocks.entries()){const r=X.CID.parse(t),i=r.version,s=r.code,o=r.multihash.code,a=r.multihash.digest.length,c=(0,Yc.Z)([i,s,o,a]);e.payload.push(new nl.v.Block({prefix:c,data:n}))}for(const[t,n]of this.blockPresences)e.blockPresences.push(new nl.v.BlockPresence({cid:X.CID.parse(t).bytes,type:n}));return this.pendingBytes>0&&(e.pendingBytes=this.pendingBytes),nl.v.encode(e).finish()}equals(e){return!!(this.full===e.full&&this.pendingBytes===e.pendingBytes&&tl(this.wantlist,e.wantlist)&&tl(this.blocks,e.blocks)&&tl(this.blockPresences,e.blockPresences))}get[Symbol.toStringTag](){const e=Array.from(this.wantlist.keys()),t=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${e}, blocks: ${t}>`}}rl.deserialize=async(e,t)=>{const n=nl.v.decode(e),r=n.wantlist&&n.wantlist.full||!1,i=new rl(r);return n.wantlist&&n.wantlist.entries&&n.wantlist.entries.forEach((e=>{if(!e.block)return;const t=X.CID.decode(e.block);i.addEntry(t,e.priority||0,e.wantType,Boolean(e.cancel),Boolean(e.sendDontHave))})),n.blockPresences&&n.blockPresences.forEach((e=>{if(!e.cid)return;const t=X.CID.decode(e.cid);e.type===rl.BlockPresenceType.Have?i.addHave(t):i.addDontHave(t)})),n.blocks.length>0?(await Promise.all(n.blocks.map((async e=>{const t=await Wr.sha256.digest(e),n=X.CID.createV0(t);i.addBlock(n,e)}))),i):n.payload.length>0?(await Promise.all(n.payload.map((async e=>{if(!e.prefix||!e.data)return;const n=Qc(e.prefix),r=n[0],s=n[1],o=n[2],c=o===Wr.sha256.code?Wr.sha256:t&&await t.getHasher(o);if(!c)throw a(new Error("Unknown hash algorithm"),"ERR_UNKNOWN_HASH_ALG");const l=await c.digest(e.data),u=X.CID.create(r,s,l);i.addBlock(u,e.data)}))),i.setPendingBytes(n.pendingBytes),i):i},rl.blockPresenceSize=e=>e.bytes.length+1,rl.Entry=Jc.b,rl.WantType={Block:nl.v.Wantlist.WantType.Block,Have:nl.v.Wantlist.WantType.Have},rl.BlockPresenceType={Have:nl.v.BlockPresenceType.Have,DontHave:nl.v.BlockPresenceType.DontHave};var il=n(49301);const sl=Math.pow(2,31)-1;var ol=n(88898);class al{constructor(e,t,n){this.peerId=t,this.network=n,this.refcnt=1,this._entries=[],this._log=el(e,"msgqueue"),this.sendEntries=ol(this._sendEntries.bind(this),1)}addMessage(e){e.empty||this.send(e)}addEntries(e){this._entries=this._entries.concat(e),this.sendEntries()}_sendEntries(){if(!this._entries.length)return;const e=new rl(!1);this._entries.forEach((t=>{t.cancel?e.cancel(t.cid):e.addEntry(t.cid,t.priority)})),this._entries=[],this.addMessage(e)}async send(e){try{await this.network.connectTo(this.peerId)}catch(t){return void this._log.error("cant connect to peer %s: %s",this.peerId.toB58String(),t.message)}this._log("sending message to peer %s",this.peerId.toB58String()),this.network.sendMessage(this.peerId,e).catch((e=>{this._log.error("send error: %s",e.message)}))}}var cl=n(71038);class ll{constructor(e,t,n,r){this.peers=cl({system:"ipfs",component:"bitswap",metric:"want-manager-peers",metrics:r.metrics}),this.wantlist=new il.m(n,r),this.network=t,this._stats=n,this._peerId=e,this._log=el(e,"want")}_addEntries(e,t,n){const r=e.map(((e,n)=>new rl.Entry(e,sl-n,rl.WantType.Block,t)));r.forEach((e=>{e.cancel?n?this.wantlist.removeForce(e.cid.toString(Ye.base58btc)):this.wantlist.remove(e.cid):(this._log("adding to wl"),this.wantlist.add(e.cid,e.priority))}));for(const i of this.peers.values())i.addEntries(r)}_startPeerHandler(e){let t=this.peers.get(e.toB58String());if(t)return void t.refcnt++;t=new al(this._peerId,e,this.network);const n=new rl(!0);for(const r of this.wantlist.entries())n.addEntry(r[1].cid,r[1].priority);return t.addMessage(n),this.peers.set(e.toB58String(),t),t}_stopPeerHandler(e){const t=this.peers.get(e.toB58String());t&&(t.refcnt--,t.refcnt>0||this.peers.delete(e.toB58String()))}wantBlocks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._addEntries(e,!1),t&&t.signal&&t.signal.addEventListener("abort",(()=>{this.cancelWants(e)}))}unwantBlocks(e){this._log("unwant blocks: %s",e.length),this._addEntries(e,!0,!0)}cancelWants(e){this._log("cancel wants: %s",e.length),this._addEntries(e,!0)}connectedPeers(){return Array.from(this.peers.keys())}connected(e){this._startPeerHandler(e)}disconnected(e){this._stopPeerHandler(e)}start(){}stop(){this.peers.forEach((e=>this.disconnected(e.peerId)))}}var ul=n(7213),dl=n(90983);const pl="/ipfs/bitswap/1.0.0",hl="/ipfs/bitswap/1.1.0",fl="/ipfs/bitswap/1.2.0";class gl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._log=el(e.peerId,"network"),this._libp2p=e,this._bitswap=t,this._protocols=[pl],r.b100Only||(this._protocols.unshift(hl),this._protocols.unshift(fl)),this._stats=n,this._running=!1,this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._onConnection=this._onConnection.bind(this),this._hashLoader=r.hashLoader}async start(){this._running=!0,await this._libp2p.handle(this._protocols,this._onConnection);const e=new dl({multicodecs:this._protocols,handlers:{onConnect:this._onPeerConnect,onDisconnect:this._onPeerDisconnect}});this._registrarId=await this._libp2p.registrar.register(e);for await(const t of this._libp2p.peerStore.getPeers()){const e=this._libp2p.connectionManager.get(t.id);e&&this._onPeerConnect(e.remotePeer)}}async stop(){this._running=!1,await this._libp2p.unhandle(this._protocols),null!=this._registrarId&&this._libp2p.registrar.unregister(this._registrarId)}async _onConnection(e){let{protocol:t,stream:n,connection:r}=e;if(this._running){this._log("incoming new bitswap %s connection from %s",t,r.remotePeer.toB58String());try{await(0,Gt.pipe)(n,ul.decode(),(async e=>{for await(const n of e)try{const e=await rl.deserialize(n.slice(),this._hashLoader);await this._bitswap._receiveMessage(r.remotePeer,e)}catch(t){this._bitswap._receiveError(t);break}}))}catch(i){this._log(i)}}}_onPeerConnect(e){this._bitswap._onPeerConnected(e)}_onPeerDisconnect(e){this._bitswap._onPeerDisconnected(e)}findProviders(e,t){return this._libp2p.contentRouting.findProviders(e,{timeout:1e4,maxNumProviders:t})}async findAndConnect(e,t){const n=[];for await(const r of this.findProviders(e,3,t))this._log(`connecting to provider ${r.id}`),n.push(this.connectTo(r.id,t).catch((e=>{this._log.error(e)})));await Promise.all(n)}async provide(e,t){await this._libp2p.contentRouting.provide(e,t)}async sendMessage(e,t){if(!this._running)throw new Error("network isn't running");const n=e.toB58String();this._log("sendMessage to %s",n,t);const r=await this._libp2p.dial(e),{stream:i,protocol:s}=await r.newStream([fl,hl,pl]);let o;switch(s){case pl:o=t.serializeToBitswap100();break;case hl:case fl:o=t.serializeToBitswap110();break;default:throw new Error("Unknown protocol: "+s)}!async function(e,t,n){try{await(0,Gt.pipe)([t],ul.encode(),e)}catch(r){n(r)}}(i,o,this._log),this._updateSentStats(e,t.blocks)}async connectTo(e,t){if(!this._running)throw new Error("network isn't running");return this._libp2p.dial(e,t)}_updateSentStats(e,t){const n=e.toB58String();if(this._stats){for(const e of t.values())this._stats.push(n,"dataSent",e.length);this._stats.push(n,"blocksSent",t.size)}}}class yl{constructor(e){this.partner=e,this.wantlist=new il.m,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesSent+=e}receivedBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesRecv+=e}wants(e,t,n){this.wantlist.add(e,t,n)}cancelWant(e){this.wantlist.remove(e)}wantlistContains(e){return this.wantlist.get(e)}debtRatio(){return this.accounting.bytesSent/(this.accounting.bytesRecv+1)}}class ml extends Map{constructor(e,t){super(),this._cmp=t||this._defaultSort,this._keys=[];for(const[n,r]of e||[])this.set(n,r)}update(e){if(e<0||e>=this._keys.length)return;const t=this._keys[e];this._keys.splice(e,1);const n=this._find(t);this._keys.splice(n,0,t)}set(e,t){if(this.has(e)){const t=this.indexOf(e);this._keys.splice(t,1)}super.set(e,t);const n=this._find(e);return this._keys.splice(n,0,e),this}clear(){super.clear(),this._keys=[]}delete(e){if(!this.has(e))return!1;const t=this.indexOf(e);return this._keys.splice(t,1),super.delete(e)}indexOf(e){if(!this.has(e))return-1;const t=this._find(e);if(this._keys[t]===e)return t;for(let n=1;n<this._keys.length;n++){if(this._keys[t+n]===e)return t+n;if(this._keys[t-n]===e)return t-n}return-1}_find(e){let t=0,n=this._keys.length;for(;t<n;){const r=t+n>>>1,i=this._kCmp(this._keys[r],e);if(i<0)t=r+1;else{if(!(i>0))return r;n=r}}return t}*keys(){for(const e of this._keys)yield e}*values(){for(const e of this._keys)yield this.get(e)}*entries(){for(const e of this._keys)yield[e,this.get(e)]}*[Symbol.iterator](){yield*this.entries()}forEach(e,t){if(e)for(const n of this._keys)e.apply(t,[[n,this.get(n)]])}_defaultSort(e,t){return e[0]<t[0]?-1:t[0]<e[0]?1:0}_kCmp(e,t){return this._cmp([e,this.get(e)],[t,this.get(t)])}}const bl={hasNewInfo:()=>!1,merge(){}};class vl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bl;this._taskMerger=e,this._byPeer=new ml([],wl.compare)}pushTasks(e,t){let n=this._byPeer.get(e.toB58String());n||(n=new wl(e,this._taskMerger)),n.pushTasks(t),this._byPeer.set(e.toB58String(),n)}popTasks(e){const t=this._head();if(void 0===t)return{tasks:[],pendingSize:0};const{tasks:n,pendingSize:r}=t.popTasks(e);if(0===n.length)return{tasks:n,pendingSize:r};const i=t.peerId;return t.isIdle()?this._byPeer.delete(i.toB58String()):this._byPeer.update(0),{peerId:i,tasks:n,pendingSize:r}}_head(){if(0!==this._byPeer.size)for(const[,e]of this._byPeer)return e}remove(e,t){const n=this._byPeer.get(t.toB58String());n&&n.remove(e)}tasksDone(e,t){const n=this._byPeer.get(e.toB58String());if(!n)return;const r=this._byPeer.indexOf(e.toB58String());for(const i of t)n.taskDone(i);this._byPeer.update(r)}}class wl{constructor(e,t){this.peerId=e,this._taskMerger=t,this._activeTotalSize=0,this._pending=new kl,this._active=new Set}pushTasks(e){for(const t of e)this._pushTask(t)}_pushTask(e){if(!this._taskHasMoreInfoThanActiveTasks(e))return;const t=this._pending.get(e.topic);if(t)return e.priority>t.priority&&this._pending.updatePriority(e.topic,e.priority),void this._taskMerger.merge(e,t);this._pending.add(e)}_taskHasMoreInfoThanActiveTasks(e){const t=[];for(const n of this._active)n.topic===e.topic&&t.push(n);return 0===t.length||this._taskMerger.hasNewInfo(e,t)}popTasks(e){let t=0;const n=[],r=this._pending.tasks();for(let i=0;i<r.length&&t<e;i++){const e=r[i];n.push(e),t+=e.size,this._pending.delete(e.topic),this._activeTotalSize+=e.size,this._active.add(e)}return{tasks:n,pendingSize:this._pending.totalSize}}taskDone(e){this._active.has(e)&&(this._activeTotalSize-=e.size,this._active.delete(e))}remove(e){this._pending.delete(e)}isIdle(){return 0===this._pending.length&&0===this._active.size}static compare(e,t){return 0===e[1]._pending.length?1:0===t[1]._pending.length?-1:e[1]._activeTotalSize===t[1]._activeTotalSize?t[1]._pending.length-e[1]._pending.length:e[1]._activeTotalSize-t[1]._activeTotalSize}}class kl{constructor(){this._tasks=new ml([],this._compare)}get length(){return this._tasks.size}get totalSize(){return[...this._tasks.values()].reduce(((e,t)=>e+t.task.size),0)}get(e){return(this._tasks.get(e)||{}).task}add(e){this._tasks.set(e.topic,{created:Date.now(),task:e})}delete(e){this._tasks.delete(e)}tasks(){return[...this._tasks.values()].map((e=>e.task))}updatePriority(e,t){const n=this._tasks.get(e);if(!n)return;const r=this._tasks.indexOf(e);n.task.priority=t,this._tasks.update(r)}_compare(e,t){return e[1].task.priority===t[1].task.priority?e[1].created-t[1].created:t[1].task.priority-e[1].task.priority}}const El={hasNewInfo(e,t){let n=!1,r=!1;for(const i of t)i.data.haveBlock&&(n=!0),i.data.isWantBlock&&(r=!0);return!(r||!e.data.isWantBlock)||!(n||!e.data.haveBlock)},merge(e,t){const n=e.data,r=t.data;!r.haveBlock&&n.haveBlock&&(r.haveBlock=n.haveBlock,r.blockSize=n.blockSize),!r.isWantBlock&&n.isWantBlock&&(r.isWantBlock=!0,r.haveBlock&&!n.haveBlock||(r.haveBlock=n.haveBlock,t.size=e.size)),r.isWantBlock&&r.haveBlock&&(t.size=r.blockSize)}},_l=rl.WantType;class Sl{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this._log=el(e,"engine"),this.blockstore=t,this.network=n,this._stats=r,this._opts=this._processOpts(s),this.ledgerMap=cl({system:"ipfs",component:"bitswap",metric:"ledger-map",metrics:i.metrics}),this._running=!1,this._requestQueue=new vl(El)}_processOpts(e){return{maxSizeReplaceHasWithBlock:1024,targetMessageSize:16384,...e}}_scheduleProcessTasks(){setTimeout((()=>{this._processTasks()}))}async _processTasks(){if(!this._running)return;const{peerId:e,tasks:t,pendingSize:n}=this._requestQueue.popTasks(this._opts.targetMessageSize);if(0===t.length)return;const r=new rl(!1);r.setPendingBytes(n);const i=[],s=new Map;for(const c of t){const e=X.CID.parse(c.topic);c.data.haveBlock?c.data.isWantBlock?(i.push(e),s.set(c.topic,c.data)):r.addHave(e):r.addDontHave(e)}const o=await this._getBlocks(i);for(const[c,l]of s){const e=X.CID.parse(c),t=o.get(c);t?r.addBlock(e,t):l.sendDontHave&&r.addDontHave(e)}if(r.empty)return e&&this._requestQueue.tasksDone(e,t),void this._scheduleProcessTasks();try{e&&await this.network.sendMessage(e,r);for(const[t,n]of o.entries())e&&this.messageSent(e,X.CID.parse(t),n)}catch(a){this._log.error(a)}e&&this._requestQueue.tasksDone(e,t),this._scheduleProcessTasks()}wantlistForPeer(e){const t=e.toB58String(),n=this.ledgerMap.get(t);return n?n.wantlist.sortedEntries():new Map}ledgerForPeer(e){const t=e.toB58String(),n=this.ledgerMap.get(t);return n?{peer:n.partner,value:n.debtRatio(),sent:n.accounting.bytesSent,recv:n.accounting.bytesRecv,exchanged:n.exchangeCount}:null}peers(){return Array.from(this.ledgerMap.values()).map((e=>e.partner))}receivedBlocks(e){if(e.length){for(const t of this.ledgerMap.values())for(const n of e){const e=t.wantlistContains(n.cid);if(!e)continue;const r=n.data.length,i=this._sendAsBlock(e.wantType,r);let s=r;i||(s=rl.blockPresenceSize(e.cid)),this._requestQueue.pushTasks(t.partner,[{topic:e.cid.toString(Ye.base58btc),priority:e.priority,size:s,data:{blockSize:r,isWantBlock:i,haveBlock:!0,sendDontHave:!1}}])}this._scheduleProcessTasks()}}async messageReceived(e,t){const n=this._findOrCreate(e);if(t.empty)return;if(t.full&&(n.wantlist=new il.m),this._updateBlockAccounting(t.blocks,n),0===t.wantlist.size)return void this._scheduleProcessTasks();const r=[],i=[];t.wantlist.forEach((e=>{e.cancel?(n.cancelWant(e.cid),r.push(e.cid)):(n.wants(e.cid,e.priority,e.wantType),i.push(e))})),this._cancelWants(e,r),await this._addWants(e,i),this._scheduleProcessTasks()}_cancelWants(e,t){for(const n of t)this._requestQueue.remove(n.toString(Ye.base58btc),e)}async _addWants(e,t){const n=await this._getBlockSizes(t.map((e=>e.cid))),r=[];for(const i of t){const t=i.cid.toString(Ye.base58btc),s=n.get(t);if(null==s)i.sendDontHave&&r.push({topic:t,priority:i.priority,size:rl.blockPresenceSize(i.cid),data:{isWantBlock:i.wantType===_l.Block,blockSize:0,haveBlock:!1,sendDontHave:i.sendDontHave}});else{const e=this._sendAsBlock(i.wantType,s);let n=s;e||(n=rl.blockPresenceSize(i.cid)),r.push({topic:t,priority:i.priority,size:n,data:{isWantBlock:e,blockSize:s,haveBlock:!0,sendDontHave:i.sendDontHave}})}this._requestQueue.pushTasks(e,r)}}_sendAsBlock(e,t){return e===_l.Block||t<=this._opts.maxSizeReplaceHasWithBlock}async _getBlockSizes(e){const t=await this._getBlocks(e);return new Map([...t].map((e=>{let[t,n]=e;return[t,n.length]})))}async _getBlocks(e){const t=new Map;return await Promise.all(e.map((async e=>{try{const n=await this.blockstore.get(e);t.set(e.toString(Ye.base58btc),n)}catch(n){"ERR_NOT_FOUND"!==n.code&&this._log.error("failed to query blockstore for %s: %s",e,n)}}))),t}_updateBlockAccounting(e,t){for(const n of e.values())this._log("got block (%s bytes)",n.length),t.receivedBytes(n.length)}messageSent(e,t,n){const r=this._findOrCreate(e);r.sentBytes(n.length),r.wantlist.remove(t)}numBytesSentTo(e){return this._findOrCreate(e).accounting.bytesSent}numBytesReceivedFrom(e){return this._findOrCreate(e).accounting.bytesRecv}peerDisconnected(e){this.ledgerMap.delete(e.toB58String())}_findOrCreate(e){const t=e.toB58String(),n=this.ledgerMap.get(t);if(n)return n;const r=new yl(e);return this.ledgerMap.set(t,r),this._stats&&this._stats.push(t,"peerCount",1),r}start(){this._running=!0}stop(){this._running=!1}}var Cl=n(36571);const Il=e=>`unwant:${(0,oe.toString)(e.multihash.bytes,"base64")}`,xl=e=>`block:${(0,oe.toString)(e.multihash.bytes,"base64")}`;class Pl extends Cl.EventEmitter{constructor(e){super(),this.setMaxListeners(1e3),this._log=el(e,"notif")}hasBlock(e,t){const n=xl(e);this._log(n),this.emit(n,t)}wantBlock(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Not a valid cid");const n=xl(e),r=Il(e);return this._log(`wantBlock:${e}`),new Promise(((i,s)=>{const o=()=>{this.removeListener(n,a),s(new Error(`Block for ${e} unwanted`))},a=e=>{this.removeListener(r,o),i(e)};this.once(r,o),this.once(n,a),t&&t.signal&&t.signal.addEventListener("abort",(()=>{this.removeListener(n,a),this.removeListener(r,o),s(new Error(`Want for ${e} aborted`))}))}))}unwantBlock(e){const t=Il(e);this._log(t),this.emit(t)}}var Al=n(40316);class Rl extends Cl.EventEmitter{constructor(e,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),e.forEach((e=>{this._stats[e]=BigInt(0),this._movingAverages[e]={},this._options.movingAverageIntervals.forEach((t=>{(this._movingAverages[e][t]=Al(t)).push(this._frequencyLastTime,0)}))})),this._enabled=this._options.enabled}enable(){this._enabled=!0}disable(){this._disabled=!0}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(e,t){this._enabled&&(this._queue.push([e,t,Date.now()]),this._resetComputeTimeout())}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){const e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(;this._queue.length;){const t=e=this._queue.shift();t&&this._applyOp(t)}e&&this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){const t=e-this._frequencyLastTime;t&&Object.keys(this._stats).forEach((n=>{this._updateFrequencyFor(n,t,e)})),this._frequencyLastTime=e}_updateFrequencyFor(e,t,n){const r=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;const i=r/t*1e3;let s=this._movingAverages[e];s||(s=this._movingAverages[e]={}),this._options.movingAverageIntervals.forEach((e=>{let t=s[e];t||(t=s[e]=Al(e)),t.push(n,i)}))}_applyOp(e){const t=e[0],n=e[1];if("number"!==typeof n)throw new Error(`invalid increment number: ${n}`);Object.prototype.hasOwnProperty.call(this._stats,t)||(this._stats[t]=BigInt(0)),this._stats[t]=BigInt(this._stats[t])+BigInt(n),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=n}}const Tl={enabled:!1,computeThrottleTimeout:1e3,computeThrottleMaxQueueSize:1e3,movingAverageIntervals:[6e4,3e5,9e5]};class Ol extends Cl.EventEmitter{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tl;super();const r=Object.assign({},Tl,n);if("number"!==typeof r.computeThrottleTimeout)throw new Error("need computeThrottleTimeout");if("number"!==typeof r.computeThrottleMaxQueueSize)throw new Error("need computeThrottleMaxQueueSize");this._initialCounters=t,this._options=r,this._enabled=this._options.enabled,this._global=new Rl(t,r),this._global.on("update",(e=>this.emit("update",e))),this._peers=cl({system:"ipfs",component:"bitswap",metric:"stats-peers",metrics:e.metrics})}enable(){this._enabled=!0,this._options.enabled=!0,this._global.enable()}disable(){this._enabled=!1,this._options.enabled=!1,this._global.disable()}stop(){this._enabled=!1,this._global.stop();for(const e of this._peers)e[1].stop()}get snapshot(){return this._global.snapshot}get movingAverages(){return this._global.movingAverages}forPeer(e){const t="string"!==typeof e&&e.toB58String?e.toB58String():`${e}`;return this._peers.get(t)}push(e,t,n){if(this._enabled&&(this._global.push(t,n),e)){let r=this._peers.get(e);r||(r=new Rl(this._initialCounters,this._options),this._peers.set(e,r)),r.push(t,n)}}disconnected(e){const t=e.toB58String(),n=this._peers.get(t);n&&(n.stop(),this._peers.delete(t))}}const Dl={statsEnabled:!1,statsComputeThrottleTimeout:1e3,statsComputeThrottleMaxQueueSize:1e3},Ml=["blocksReceived","dataReceived","dupBlksReceived","dupDataReceived","blocksSent","dataSent","providesBufferLength","wantListLength","peerCount"];class Nl extends is.E{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this._libp2p=e,this._log=el(this.peerId),this._options=Object.assign({},Dl,n),this._stats=new Ol(e,Ml,{enabled:this._options.statsEnabled,computeThrottleTimeout:this._options.statsComputeThrottleTimeout,computeThrottleMaxQueueSize:this._options.statsComputeThrottleMaxQueueSize}),this.network=new gl(e,this,this._stats,{hashLoader:n.hashLoader}),this.blockstore=t,this.engine=new Sl(this.peerId,t,this.network,this._stats,e),this.wm=new ll(this.peerId,this.network,this._stats,e),this.notifications=new Pl(this.peerId),this.started=!1}isStarted(){return this.started}get peerId(){return this._libp2p.peerId}async _receiveMessage(e,t){try{await this.engine.messageReceived(e,t)}catch(r){this._log("failed to receive message",t)}if(0===t.blocks.size)return;const n=[];for(const[i,s]of t.blocks.entries()){const e=X.CID.parse(i);n.push({wasWanted:this.wm.wantlist.contains(e),cid:e,data:s})}this.wm.cancelWants(n.filter((e=>{let{wasWanted:t}=e;return t})).map((e=>{let{cid:t}=e;return t}))),await Promise.all(n.map((t=>{let{cid:n,wasWanted:r,data:i}=t;return this._handleReceivedBlock(e,n,i,r)})))}async _handleReceivedBlock(e,t,n,r){this._log("received block");const i=await this.blockstore.has(t);this._updateReceiveCounters(e.toB58String(),t,n,i),r&&await this.put(t,n)}_updateReceiveCounters(e,t,n,r){this._stats.push(e,"blocksReceived",1),this._stats.push(e,"dataReceived",n.length),r&&(this._stats.push(e,"dupBlksReceived",1),this._stats.push(e,"dupDataReceived",n.length))}_receiveError(e){this._log.error("ReceiveError: %s",e.message)}_onPeerConnected(e){this.wm.connected(e)}_onPeerDisconnected(e){this.wm.disconnected(e),this.engine.peerDisconnected(e),this._stats.disconnected(e)}enableStats(){this._stats.enable()}disableStats(){this._stats.disable()}wantlistForPeer(e,t){return this.engine.wantlistForPeer(e)}ledgerForPeer(e){return this.engine.ledgerForPeer(e)}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(e,t)=>(this.wm.wantBlocks([e],t),this.notifications.wantBlock(e,t));let r=!1;const i=new AbortController,s=t.signal?(0,At.anySignal)([t.signal,i.signal]):i.signal,o=await Promise.race([this.notifications.wantBlock(e,{signal:s}),(async(e,t)=>{try{return await this.blockstore.get(e,t)}catch(i){if("ERR_NOT_FOUND"!==i.code)throw i;return r||(r=!0,this.network.findAndConnect(e).catch((e=>this._log.error(e)))),n(e,t)}})(e,{signal:s})]);return i.abort(),o}async*getMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const n of e)yield this.get(n,t)}unwant(e){const t=Array.isArray(e)?e:[e];this.wm.unwantBlocks(t),t.forEach((e=>this.notifications.unwantBlock(e)))}cancelWants(e){this.wm.cancelWants(Array.isArray(e)?e:[e])}async put(e,t,n){await this.blockstore.put(e,t),this._sendHaveBlockNotifications(e,t)}async*putMany(e,t){for await(const{key:n,value:r}of this.blockstore.putMany(e,t))this._sendHaveBlockNotifications(n,r),yield{key:n,value:r}}_sendHaveBlockNotifications(e,t){this.notifications.hasBlock(e,t),this.engine.receivedBlocks([{cid:e,data:t}]),this.network.provide(e).catch((e=>{this._log.error("Failed to provide: %s",e.message)}))}getWantlist(){return this.wm.wantlist.entries()}peers(){return this.engine.peers()}stat(){return this._stats}async start(){this.wm.start(),await this.network.start(),this.engine.start(),this.started=!0}async stop(){this._stats.stop(),this.wm.stop(),await this.network.stop(),this.engine.stop(),this.started=!1}unwrap(){return this.blockstore}}var jl=n(24349);class Ll extends jl.Ed{constructor(e,t){super(),this.child=e,this.bitswap=t}open(){return this.child.open()}close(){return this.child.close()}unwrap(){return this.child}async put(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};await this.has(e)||(this.bitswap.isStarted()?await this.bitswap.put(e,t,n):await this.child.put(e,t,n))}async*putMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Vt(e,(async e=>{let{key:t}=e;return!await this.has(t)}));this.bitswap.isStarted()?yield*this.bitswap.putMany(n,t):yield*this.child.putMany(n,t)}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!await this.has(e)&&this.bitswap.isStarted()?this.bitswap.get(e,t):this.child.get(e,t)}async*getMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ai(),r=Ai();Promise.resolve().then((async()=>{for await(const t of e)!await this.has(t)&&this.bitswap.isStarted()?n.push(t):r.push(t);n.end(),r.end()})),yield*Hi(this.bitswap.getMany(n,t),this.child.getMany(r,t))}async delete(e,t){await this.child.delete(e,t)}async*deleteMany(e,t){yield*this.child.deleteMany(e,t)}async has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.child.has(e,t)}async*query(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield*this.child.query(e,t)}async*queryKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield*this.child.queryKeys(e,t)}}class Bl{constructor(e,t,n,r,i){this.peerId=e,this.libp2p=t,this.bitswap=n,this.repo=r,this.blockstore=i}static async start(e){let{peerId:t,repo:n,print:r,hashers:i,options:s}=e;n.closed&&await n.open();const o=await n.config.getAll(),a=await zc({options:s,repo:n,peerId:t,multiaddrs:zl(t,o),config:o,keychainConfig:void 0});a.keychain&&await a.loadKeychain(),await a.start();for(const u of a.multiaddrs)r(`Swarm listening on ${u}/p2p/${t.toB58String()}`);const c=function(e,t){return new Nl(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}(a,n.blocks,{statsEnabled:!0,hashLoader:i});await c.start();const l=new Ll(n.blocks,c);return n.blocks=l,n.pins.blockstore=l,new Bl(t,a,c,n,l)}static async stop(e){e.repo.blocks=e.blockstore.unwrap(),e.repo.pins.blockstore=e.blockstore.unwrap(),await e.bitswap.stop(),await e.libp2p.stop()}}const zl=(e,t)=>{const n=e.toB58String(),r=[],i=t.Addresses&&t.Addresses.Swarm||[];for(const s of i){let e=new Wt.Multiaddr(s);if(e.protoCodes().includes(Fl))throw a(new Error("websocket-star swarm addresses are not supported. See https://github.com/ipfs/js-ipfs/issues/2779"),"ERR_WEBSOCKET_STAR_SWARM_ADDR_NOT_SUPPORTED");const t=e.getPeerId();t&&t!==n&&(e=e.encapsulate(`/p2p/${n}`)),r.push(e)}return r},Fl=479;class Ul{constructor(e){let{network:t}=e;this.addrs=function(e){let{network:t}=e;return(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=[],{libp2p:r}=await t.use(e);for await(const t of r.peerStore.getPeers())n.push({id:t.id.toB58String(),addrs:t.addresses.map((e=>e.multiaddr))});return n}))}({network:t}),this.connect=function(e){let{network:t}=e;return(0,H.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:r}=await t.use(n);await r.dial(e,n)}))}({network:t}),this.disconnect=function(e){let{network:t}=e;return(0,H.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:r}=await t.use(n);await r.hangUp(e)}))}({network:t}),this.localAddrs=function(e){let{network:t}=e;return(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{libp2p:n}=await t.use(e);return n.multiaddrs}))}({network:t}),this.peers=function(e){let{network:t}=e;return(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{libp2p:n}=await t.use(e),r=[];for(const[t,i]of n.connections)for(const n of i){const i={addr:n.remoteAddr,peer:t};(e.verbose||e.direction)&&(i.direction=n.stat.direction),e.verbose&&(i.muxer=n.stat.multiplexer,i.latency="n/a",i.streams=[]),r.push(i)}return r}))}({network:t})}}const Wl={success:!0,time:0,text:""};const $l="/ipns/";function ql(e){let t;if(e.startsWith($l)&&(e=e.substring($l.length)),"1"!==e[0]&&"Q"!==e[0]||(e=`z${e}`),"z"===e[0]&&(t=Ye.base58btc.decode(e)),"k"===e[0]&&(t=wt.base36.decode(e)),!t)throw new Error("Could not parse string");if(1!==t[0]&&114!==t[1]&&(t=(0,pe.concat)([[1,114],t])),40!==t.length)throw new Error("Incorrect length "+t.length);return(0,pe.concat)([(0,N.fromString)($l),t.subarray(2)])}function Hl(e){if("SENDING_QUERY"===e.name)return{type:e.type,name:e.name,to:e.to.toB58String()};if("PEER_RESPONSE"===e.name)return{type:e.type,name:e.name,messageType:e.messageType,messageName:e.messageName,closer:e.closer.map((e=>{let{id:t,multiaddrs:n}=e;return{id:t.toB58String(),multiaddrs:n}})),providers:e.providers.map((e=>{let{id:t,multiaddrs:n}=e;return{id:t.toB58String(),multiaddrs:n}})),record:e.record,from:e.from.toB58String()};if("FINAL_PEER"===e.name)return{type:e.type,name:e.name,from:e.from.toB58String(),peer:{id:e.peer.id.toB58String(),multiaddrs:e.peer.multiaddrs}};if("QUERY_ERROR"===e.name)return{type:e.type,name:e.name,error:e.error,from:e.from.toB58String()};if("PROVIDER"===e.name)return{type:e.type,name:e.name,providers:e.providers.map((e=>{let{id:t,multiaddrs:n}=e;return{id:t.toB58String(),multiaddrs:n}})),from:e.from.toB58String()};if("VALUE"===e.name)return{type:e.type,name:e.name,value:e.value,from:e.from.toB58String()};if("ADDING_PEER"===e.name)return{type:e.type,name:e.name,peer:e.peer.toB58String()};if("DIALING_PEER"===e.name)return{type:e.type,name:e.name,peer:e.peer.toB58String()};throw a(new Error("Unknown DHT event type"),"ERR_UNKNOWN_DHT_EVENT")}const Kl=async(e,t,n)=>{const r=await e.use(n);if(Qe(r.libp2p,"_config.dht.enabled",!1))return r;{const e=async function*(){yield{from:t,name:"QUERY_ERROR",type:3,error:new M("dht not enabled")}};return{libp2p:{_dht:{get:e,put:e,findProvs:e,findPeer:e,provide:e,query:e}}}}};const Vl=async()=>{throw new M("pubsub not enabled")},Gl=i.Z.bind({ignoreUndefined:!0}),Xl=Object.assign(o("ipfs"),{error:o("ipfs:error")});class Zl{constructor(e){let{print:t,storage:n,codecs:r,options:i}=e;const{peerId:s,repo:o,keychain:c}=n,l=L.create(Bl),u=mr(i.preload),d=(0,H.a)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{recursive:!0};if("string"!==typeof e)throw new Error("Invalid arguments, domain must be a string");return q(e=K(e),t)})),p=(0,V.X)({network:l}),h=new gt(i),f=Object.values(I.kq);(i.ipld&&i.ipld.hashers?i.ipld.hashers:[]).forEach((e=>f.push(e))),this.hashers=new ys.d({hashers:f,loadHasher:i.ipld&&i.ipld.loadHasher});const g=Object.values(I.gh);(i.ipld&&i.ipld.bases?i.ipld.bases:[]).forEach((e=>g.push(e))),this.bases=new fs.x({bases:g,loadBase:i.ipld&&i.ipld.loadBase});const y=new re({repo:o,codecs:r}),m=new Zt({codecs:r,hashers:this.hashers,preload:u,repo:o}),b=new xt({dns:d,ipns:h,repo:o,codecs:r,peerId:s,isOnline:p,keychain:c,options:i}),v=function(e){let{repo:t,codecs:n,bases:r,name:i}=e;return(0,H.a)((async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!G.path(e))throw new Error("invalid argument "+e);if(G.ipnsPath(e))for await(const t of i.resolve(e,s))e=t;const[,o,a,...c]=e.split("/"),l=s.cidBase?await r.getBase(s.cidBase):void 0,u=Q(a);if(0===c.length)return`/${o}/${l?l.encoder.encode(u):a}`;const d=X.CID.decode(u);e=c.join("/");const p=(0,j.DB)(d,e,n,t,s);let h=d,f=e;for await(const t of p)X.CID.asCID(t.value)&&(h=t.value,f=t.remainderPath);return`/ipfs/${h.toString(l&&l.encoder)}${f?"/"+f:""}`}))}({repo:o,codecs:r,bases:this.bases,name:b}),w=new ur({repo:o,codecs:r,hashers:this.hashers,preload:u}),k=Object.assign(function(e){let{repo:t,codecs:n,resolve:r,preload:i}=e;return async function*(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===s.maxDepth)return;if(s.edges&&s.format&&s.format!==Tt)throw new Error("Cannot set edges to true and also specify format");if(s.format=s.edges?Ot:s.format,"number"!==typeof s.maxDepth&&(s.maxDepth=s.recursive?1/0:1),s.timeout){const e=[new Pt.TimeoutController(s.timeout).signal];s.signal&&e.push(s.signal),s.signal=(0,At.anySignal)(e)}const o=(Array.isArray(e)?e:[e]).map((e=>Dt(i,e,s)));for(const i of o)try{yield*Mt(r,t,n,i,s)}catch(a){yield{ref:"",err:a.message}}}}({repo:o,codecs:r,resolve:v,preload:u}),{local:Lt({repo:n.repo})}),{add:E,addAll:_,cat:S,get:C,ls:x}=new wn({preload:u,repo:o,options:i.EXPERIMENTAL,hashers:this.hashers}),P=jr({repo:o,preload:u,hashers:this.hashers,options:i}),A=function(e){let{preload:t,files:n,options:r={}}=e;if(r.interval=r.interval||3e4,!r.enabled){br("MFS preload disabled");const e=async()=>{};return{start:e,stop:e}}let i,s="";const o=async()=>{try{const e=await n.stat("/"),a=e.cid.toString();s!==a&&(br(`preloading updated MFS root ${s} -> ${e.cid}`),await t(e.cid),s=a)}catch(e){br.error("failed to preload MFS root",e)}finally{i=setTimeout(o,r.interval)}};return{async start(){const e=await n.stat("/");s=e.cid.toString(),br(`monitoring MFS root ${e.cid}`),i=setTimeout(o,r.interval)},stop(){clearTimeout(i)}}}({files:P,preload:u,options:i.preload});this.preload=u,this.name=b,this.ipns=h,this.pin=y,this.resolve=v,this.block=m,this.refs=k,this.start=function(e){let{network:t,preload:n,peerId:r,keychain:i,repo:s,ipns:o,mfsPreload:a,print:c,hashers:l,options:u}=e;return async()=>{const{libp2p:e}=await L.start(t,{peerId:r,repo:s,print:c,hashers:l,options:u});await Promise.all([o.startOnline({keychain:i,libp2p:e,peerId:r,repo:s}),n.start(),a.start()])}}({network:l,peerId:s,repo:o,preload:u,ipns:h,mfsPreload:A,print:t,keychain:c,hashers:this.hashers,options:i}),this.stop=function(e){let{network:t,preload:n,ipns:r,repo:i,mfsPreload:s}=e;return async()=>{await Promise.all([n.stop(),r.stop(),s.stop()]),await L.stop(t),await i.close()}}({network:l,preload:u,mfsPreload:A,ipns:h,repo:o}),this.dht=function(e){let{network:t,repo:n,peerId:r}=e;const{get:i,put:s,findProvs:o,findPeer:c,provide:l,query:u}={async*get(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:i}=await Kl(t,r,n),s=e instanceof Uint8Array?e:ql(e);yield*Kt(i._dht.get(s,n),Hl)},async*put(e,n,i){const{libp2p:s}=await Kl(t,r,i),o=e instanceof Uint8Array?e:ql(e);yield*Kt(s._dht.put(o,n),Hl)},async*findProvs(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:i}=await Kl(t,r,n);yield*Kt(i._dht.findProviders(e,{signal:n.signal}),Hl)},async*findPeer(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:i}=await Kl(t,r,n);yield*Kt(i._dht.findPeer(Z.parse(e),{signal:n.signal}),Hl)},async*provide(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{recursive:!1};const{libp2p:s}=await Kl(t,r,i);if(!await n.blocks.has(e))throw a(new Error("block(s) not found locally, cannot provide"),"ERR_BLOCK_NOT_FOUND");if(i.recursive)throw a(new Error("not implemented yet"),"ERR_NOT_IMPLEMENTED_YET");yield*Kt(s._dht.provide(e),Hl)},async*query(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:i}=await Kl(t,r,n);let s;const o=X.CID.asCID(e);s=null!=o?o.multihash.bytes:Z.parse(e.toString()).toBytes(),yield*Kt(i._dht.getClosestPeers(s,n),Hl)}};return{get:(0,H.a)(i),put:(0,H.a)(s),findProvs:(0,H.a)(o),findPeer:(0,H.a)(c),provide:(0,H.a)(l),query:(0,H.a)(u)}}({network:l,repo:o,peerId:s}),this.pubsub=function(e){let{network:t,config:n}=e;const r=Qe(n||{},"Pubsub.Enabled",!0);return{subscribe:r?(0,H.a)((async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{libp2p:i}=await t.use(r);return i.pubsub.subscribe(e,n,r)})):Vl,unsubscribe:r?(0,H.a)((async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{libp2p:i}=await t.use(r);i.pubsub.unsubscribe(e,n,r)})):Vl,publish:r?(0,H.a)((async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{libp2p:i}=await t.use(r);if(!n)throw a(new Error('argument "data" is required'),"ERR_ARG_REQUIRED");await i.pubsub.publish(e,n)})):Vl,ls:r?(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{libp2p:n}=await t.use(e);return n.pubsub.getTopics()})):Vl,peers:r?(0,H.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:r}=await t.use(n);return r.pubsub.getSubscribers(e)})):Vl}}({network:l,config:i.config}),this.dns=d,this.isOnline=p,this.id=function(e){let{peerId:t,network:n}=e;return(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=n.try();if(!r){if(e.peerId)throw new T;return{id:t.toB58String(),publicKey:(0,oe.toString)(t.pubKey.bytes,"base64pad"),addresses:[],agentVersion:`js-ipfs/${kn.Pr}`,protocolVersion:"9000",protocols:[]}}const{libp2p:i}=r,s=e.peerId?Z.parse(e.peerId):t,o=await _n(s,i,e),a=(0,oe.toString)(o.metadata.get("AgentVersion")||new Uint8Array),c=(0,oe.toString)(o.metadata.get("ProtocolVersion")||new Uint8Array),l=o.id.toB58String(),u=o.publicKey?(0,oe.toString)(o.publicKey.bytes,"base64pad"):"";return{id:l,publicKey:u,addresses:(o.addresses||[]).map((e=>{const t=e.toString();return t.endsWith(`/p2p/${l}`)?t:`${t}/p2p/${l}`})).sort().map((e=>new Wt.Multiaddr(e))),agentVersion:a,protocolVersion:c,protocols:(o.protocols||[]).sort()}}))}({network:l,peerId:s}),this.version=function(e){let{repo:t}=e;return(0,H.a)((async function(){const e=await t.version.get();return{version:kn.Pr,commit:kn.th,repo:`${e}`,"ipfs-core":kn.Pr,"interface-ipfs-core":kn.Px}}))}({repo:o}),this.bitswap=new zt({network:l}),this.bootstrap=new qt({repo:o}),this.config=function(e){let{repo:t}=e;return{getAll:(0,H.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.config.getAll(e)})),get:(0,H.a)((async function(e,n){return e?t.config.get(e,n):Promise.reject(new Error("key argument is required"))})),set:(0,H.a)((async function(e,n,r){return t.config.set(e,n,r)})),replace:(0,H.a)((async function(e,n){return t.config.replace(e,n)})),profiles:{apply:(0,H.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dryRun:!1};const{dryRun:r}=n,i=Cn[e];if(!i)throw new Error(`No profile with name '${e}' exists`);try{const e=await t.config.getAll(n);let s=JSON.parse(JSON.stringify(e));return s=i.transform(s),r||await t.config.replace(s,n),delete e.Identity.PrivKey,delete s.Identity.PrivKey,{original:e,updated:s}}catch(s){throw In(s),new Error(`Could not apply profile '${e}' to config: ${s.message}`)}})),list:(0,H.a)(xn)}}}({repo:o}),this.ping=function(e){let{network:t}=e;return(0,H.a)((async function*(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:r}=await t.use();n.count=n.count||10;const i=Z.createFromB58String(e),s=await r.peerStore.get(i);let o=s&&s.id;if(!o){yield{...Wl,text:`Looking up peer ${e}`};const t=await r.peerRouting.findPeer(i);o=t&&t.id}if(!o)throw new Error("Peer was not found");yield{...Wl,text:`PING ${o.toB58String()}`};let a=0,c=0;for(let t=0;t<n.count;t++)try{const e=await r.ping(o);c+=e,a++,yield{...Wl,time:e}}catch(l){yield{...Wl,success:!1,text:l.toString()}}if(a){const e=c/a;yield{...Wl,text:`Average latency: ${e}ms`}}}))}({network:l}),this.add=E,this.addAll=_,this.cat=S,this.get=C,this.ls=x,this.dag=w,this.files=P,this.key=new zr({keychain:c}),this.object=new Hr({preload:u,codecs:r,repo:o}),this.repo=new Zr({repo:o,hashers:this.hashers}),this.stats=new Yr({repo:o,network:l}),this.swarm=new Ul({network:l}),Object.defineProperty(this,"libp2p",{get(){const e=l.try();return e?e.libp2p:void 0}});const R=()=>Promise.reject(a(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED"));this.commands=R,this.diag={cmds:R,net:R,sys:R},this.log={level:R,ls:R,tail:async function*(){throw a(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}},this.mount=R,this.codecs=r}async init(){throw new R}}const Ql=async e=>{const t=l.encode({Data:new c.fL({type:"directory"}).marshal(),Links:[]}),n=await e.block.put(t,{mhtype:"sha2-256",format:"dag-pb"});return await e.pin.add(n),n},Yl=()=>({start:!0,EXPERIMENTAL:{},preload:{enabled:!s.isTest,addresses:["/dns4/node0.preload.ipfs.io/https","/dns4/node1.preload.ipfs.io/https","/dns4/node2.preload.ipfs.io/https","/dns4/node3.preload.ipfs.io/https"]}});n(64009);const Jl=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Gl(Yl(),e);const t=e.init||{},n={name:C.identity.name,code:C.identity.code,encode:e=>e,decode:e=>e},i=Object.values(I.QB);[l,u,r,S,n].concat(e.ipld&&e.ipld.codecs||[]).forEach((e=>i.push(e)));const s=new gs.w({codecs:i,loadCodec:e.ipld&&e.ipld.loadCodec}),o=e.silent?Xl:console.log;Xl("creating repo");const a=await Wc.start(o,s,e);Xl("getting repo config");const c=await a.repo.config.getAll(),d=new Zl({storage:a,print:o,codecs:s,options:{...e,config:c}});if(Xl("starting preload"),await d.preload.start(),Xl("starting storage"),d.ipns.startOffline(a),a.isNew&&!t.emptyRepo){const e=await Ql(d);Xl("adding default assets"),await(0,x.L)({addAll:d.addAll,print:o}),Xl("initializing IPNS keyspace"),await d.ipns.initializeKeyspace(a.peerId.privKey,(0,N.fromString)(`/ipfs/${e}`))}return!1!==e.start&&(Xl("starting node"),await d.start()),d},eu=G},97085:(e,t,n)=>{"use strict";n.d(t,{AH:()=>h,DB:()=>b,Fb:()=>m,JU:()=>f,Nt:()=>d,i3:()=>g,iJ:()=>p,jr:()=>y,yH:()=>u});var r=n(13380),i=n(32743),s=n(82149),o=n(15504),a=n(41048),c=n(7901),l=n(47922);const u="This command must be run in online mode. Try running 'ipfs daemon' first.",d=new s.Key("/local/filesroot"),p=262144,h=e=>{if(i.CID.asCID(e))return`/ipfs/${e}`;const t=e.toString();try{return`/ipfs/${i.CID.parse(t)}`}catch{}if(r.path(t))return t;throw o(new Error(`invalid path: ${e}`),"ERR_BAD_PATH")},f=e=>e instanceof Uint8Array?i.CID.decode(e).toString():(0===(e=e.toString()).indexOf("/ipfs/")&&(e=e.substring("/ipfs/".length)),"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e),g=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{cid:s,path:o}=(0,c.B)(n);o&&(r.path=o);let a=s,l=r.path||"";if(l.startsWith("/")&&(l=l.substring(1)),r.path)try{for await(const{value:n,remainderPath:o}of b(s,r.path,t,e,{signal:r.signal})){if(!i.CID.asCID(n))break;l=o,a=n}}catch(u){throw u.message.startsWith("Object has no property")&&(u.message=`no link named "${l.split("/")[0]}" under ${a}`,u.code="ERR_NO_LINK"),u}return{cid:a,remainderPath:l||""}},y=e=>{if("file"!==e.type&&"directory"!==e.type&&"raw"!==e.type)throw new Error(`Unknown node type '${e.type}'`);const t={cid:e.cid,path:e.path,name:e.name,size:e.size,type:"file"};return"directory"===e.type&&(t.type="dir"),"file"===e.type&&(t.size=e.unixfs.fileSize()),"file"!==e.type&&"directory"!==e.type||(t.mode=e.unixfs.mode,void 0!==e.unixfs.mtime&&(t.mtime=e.unixfs.mtime)),t},m=(0,a.a)((async(e,t)=>await e)),b=async function*(e,t,n,r,s){const a=async e=>{const t=await n.getCodec(e.code),i=await r.blocks.get(e,s);return t.decode(i)},c=t.split("/").filter(Boolean);let u=await a(e),d=e;for(;c.length;){const n=c.shift();if(!n)throw o(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(e.code===l.code&&Array.isArray(u.Links)){const e=u.Links.find((e=>e.Name===n));if(e){yield{value:e.Hash,remainderPath:c.join("/")},u=await a(e.Hash),d=e.Hash;continue}}if(!Object.prototype.hasOwnProperty.call(u,n))throw o(new Error(`no link named "${n}" under ${d}`),"ERR_NO_LINK");u=u[n],yield{value:u,remainderPath:c.join("/")},i.CID.asCID(u)&&(d=u,u=await a(u))}yield{value:u,remainderPath:""}}},70732:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var r=n(44190);const i=e=>t=>e(new r.KU(t),t)},44190:(e,t,n)=>{"use strict";n.d(t,{KU:()=>v});var r=n(10006),i=n(41257),s=n(73620),o=n(60720),a=n(68170),c=n(664),l=n(62414),u=n(10912);const d=o("ipfs-http-client:lib:error-handler"),p=c.Z.bind({ignoreUndefined:!0}),h=i.isBrowser||i.isWebWorker?location.protocol:"http",f=i.isBrowser||i.isWebWorker?location.hostname:"localhost",g=i.isBrowser||i.isWebWorker?location.port:"5001",y=async e=>{let t;try{if((e.headers.get("Content-Type")||"").startsWith("application/json")){const n=await e.json();d(n),t=n.Message||n.message}else t=await e.text()}catch(r){d("Failed to parse error response",r),t=r.message}let n=new a.HTTPError(e);throw t&&(t.includes("deadline has elapsed")&&(n=new a.TimeoutError),t&&t.includes("context deadline exceeded")&&(n=new a.TimeoutError)),t&&t.includes("request timed out")&&(n=new a.TimeoutError),t&&(n.message=t),n},m=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,b=e=>e.replace(m,(function(e){return"-"+e.toLowerCase()}));class v extends a{constructor(){var e;const t=function(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s={};if("string"===typeof n||r.Multiaddr.isMultiaddr(n))e=new URL((0,l.d)(n));else if(n instanceof URL)e=n;else if("string"===typeof n.url||r.Multiaddr.isMultiaddr(n.url))e=new URL((0,l.d)(n.url)),s=n;else if(n.url instanceof URL)e=n.url,s=n;else{s=n||{};const t=(s.protocol||h).replace(":",""),r=(s.host||f).split(":")[0],i=s.port||g;e=new URL(`${t}://${r}:${i}`)}if(s.apiPath?e.pathname=s.apiPath:"/"!==e.pathname&&void 0!==e.pathname||(e.pathname="api/v0"),i.isNode){const n=(0,u.Z)(e);t=s.agent||new n({keepAlive:!0,maxSockets:6})}return{...s,host:e.host,protocol:e.protocol.replace(":",""),port:Number(e.port),apiPath:e.pathname,url:e,agent:t}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});var n;super({timeout:(n=t.timeout||0,("string"===typeof n?(0,s.Z)(n):n)||void 0),headers:t.headers,base:`${t.url}`,handleError:y,transformSearchParams:e=>{const t=new URLSearchParams;for(const[n,r]of e)"undefined"!==r&&"null"!==r&&"signal"!==n&&t.append(b(n),r),"timeout"!==n||isNaN(r)||t.append(b(n),r);return t},agent:t.agent}),e=this,delete this.get,delete this.put,delete this.delete,delete this.options;const o=this.fetch;this.fetch=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"!==typeof n||n.startsWith("/")||(n=`${t.url}/${n}`),o.call(e,n,p(r,{method:"POST"}))}}}a.HTTPError},39541:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var r=n(15059),i=n(13068);function s(){let{arg:e,searchParams:t,hashAlg:n,mtime:s,mode:o,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&(a={...a,...t}),n&&(a.hash=n),null!=s&&(s=(0,i.X)(s),a.mtime=s.secs,a.mtimeNsecs=s.nsecs),null!=o&&(a.mode=(0,r.Q)(o)),a.timeout&&!isNaN(a.timeout)&&(a.timeout=`${a.timeout}ms`),void 0===e||null===e?e=[]:Array.isArray(e)||(e=[e]);const c=new URLSearchParams(a);return e.forEach((e=>c.append("arg",e))),c}},38099:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InvalidValueError:()=>o,MissingRepoOptionsError:()=>a,NonReversibleMigrationError:()=>r,NotInitializedRepoError:()=>i,RequiredParameterError:()=>s});class r extends Error{constructor(e){super(e),this.name="NonReversibleMigrationError",this.code=r.code,this.message=e}}r.code="ERR_NON_REVERSIBLE_MIGRATION";class i extends Error{constructor(e){super(e),this.name="NotInitializedRepoError",this.code=i.code,this.message=e}}i.code="ERR_NOT_INITIALIZED_REPO";class s extends Error{constructor(e){super(e),this.name="RequiredParameterError",this.code=s.code,this.message=e}}s.code="ERR_REQUIRED_PARAMETER";class o extends Error{constructor(e){super(e),this.name="InvalidValueError",this.code=o.code,this.message=e}}o.code="ERR_INVALID_VALUE";class a extends Error{constructor(e){super(e),this.name="MissingRepoOptionsError",this.code=a.code,this.message=e}}a.code="ERR_MISSING_REPO_OPTIONS"},61757:(e,t,n)=>{"use strict";n.d(t,{fR:()=>s,pf:()=>l,s0:()=>a,xW:()=>o});var r=n(82149),i=n(66957);const s=new r.Key("/config"),o=new r.Key("/version");function a(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,"level-js"===t.type||"Level"===t.constructor.name)return t}function c(e){const t=e.get.bind(e),n=e.has.bind(e);return e.get=r=>async function(e,t,n,r){if(await n(e))return t(e);const s=a(r);if(!s)throw(0,i.notFoundError)();return new Promise(((t,n)=>{const r=s.store("readonly").get(e.toString());r.transaction.onabort=()=>{n(r.transaction.error)},r.transaction.oncomplete=()=>{if(r.result)return t(r.result);n((0,i.notFoundError)())}}))}(r,t,n,e),e.has=t=>async function(e,t,n){const r=await t(e);if(r)return r;const i=a(n);return!!i&&new Promise(((t,n)=>{const r=i.store("readonly").get(e.toString());r.transaction.onabort=()=>{n(r.transaction.error)},r.transaction.oncomplete=()=>{t(Boolean(r.result))}}))}(t,n,e),e}function l(e){return{...e,root:c(e.root),datastore:c(e.datastore),pins:c(e.pins),keys:c(e.keys)}}},48206:(e,t,n)=>{"use strict";n.d(t,{BE:()=>u,HN:()=>c,OY:()=>l});var r=n(15504),i=n(32743),s=n(20513),o=n(16586);const a=e=>{if(e instanceof Uint8Array)return{cid:i.CID.decode(e),toResolve:[]};const t=i.CID.asCID(e);if(t)return{cid:t,toResolve:[]};if("string"===typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));const t=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)}(e);return{cid:i.CID.parse(t[0]),toResolve:t.slice(1)}}throw r(new Error(`Unknown path type ${e}`),"ERR_BAD_PATH")};async function*c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{cid:i,toResolve:o}=a(e),c=i.toString(),l=c;const u=o.length;for(;;){const a=await(0,s.Z)(i,c,l,o,u,t,n);if(!a.entry&&!a.next)throw r(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");if(a.entry&&(yield a.entry),!a.next)return;o=a.next.toResolve,i=a.next.cid,c=a.next.name,l=a.next.path}}async function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await o(c(e,t,n));if(!i)throw r(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");return i}async function*u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await l(e,t,n);if(r&&(yield r,"directory"===r.type))for await(const s of i(r,n))yield s;async function*i(e,t){for await(const n of e.content(t))yield n,n instanceof Uint8Array||"directory"===n.type&&(yield*i(n,t))}}},46224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(88411),i=n(22580),s=n(45711),o=n(49067);async function*a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(0,i.Z)(n);let c,l,u;c="function"===typeof n.dagBuilder?n.dagBuilder:s.Z,l="function"===typeof n.treeBuilder?n.treeBuilder:o.Z,u=Symbol.asyncIterator in e||Symbol.iterator in e?e:[e];for await(const i of l(r(c(u,t,a),a.fileImportConcurrency),t,a))yield{cid:i.cid,path:i.path,unixfs:i.unixfs,size:i.size}}},5724:(e,t,n)=>{"use strict";n.d(t,{Xu:()=>u,fL:()=>d,tK:()=>l});var r=n(15504);const i=n(46766).Vw,s=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],o=["directory","hamt-sharded-directory"],a=parseInt("0644",8),c=parseInt("0755",8);function l(e){if(null!=e)return"number"===typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function u(e){if(null==e)return;let t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){const n=e.getTime(),r=Math.floor(n/1e3);t={secs:r,nsecs:1e3*(n-1e3*r)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw r(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}class d{static unmarshal(e){const t=i.decode(e),n=i.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}),r=new d({type:s[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return r._originalMode=n.mode||0,r}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"file"};const{type:t,data:n,blockSizes:i,hashType:o,fanout:a,mtime:c,mode:d}=e;if(t&&!s.includes(t))throw r(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t||"file",this.data=n,this.hashType=o,this.fanout=a,this.blockSizes=i||[],this._originalMode=0,this.mode=l(d),c&&(this.mtime=u(c),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?c:a;const t=l(e);void 0!==t&&(this._mode=t)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&o.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach((t=>{e+=t})),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=i.DataType.Raw;break;case"directory":e=i.DataType.Directory;break;case"file":e=i.DataType.File;break;case"metadata":e=i.DataType.Metadata;break;case"symlink":e=i.DataType.Symlink;break;case"hamt-sharded-directory":e=i.DataType.HAMTShard;break;default:throw r(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t,n,s=this.data;if(this.data&&this.data.length||(s=void 0),null!=this.mode&&(t=4294963200&this._originalMode|(l(this.mode)||0),t!==a||this.isDirectory()||(t=void 0),t===c&&this.isDirectory()&&(t=void 0)),null!=this.mtime){const e=u(this.mtime);e&&(n={Seconds:e.secs,FractionalNanoseconds:e.nsecs},0===n.FractionalNanoseconds&&delete n.FractionalNanoseconds)}const o={Type:e,Data:s,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:n};return i.encode(o).finish()}}},664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(47250)},71659:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base36:()=>i,base36upper:()=>s});var r=n(17384);const i=(0,r.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),s=(0,r.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})},43019:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base58btc:()=>i,base58flickr:()=>s});var r=n(17384);const i=(0,r.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s=(0,r.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},40963:(e,t,n)=>{"use strict";n.d(t,{QB:()=>b,gh:()=>y,kq:()=>m});var r=n(17527),i=n(14906),s=n(90247),o=n(86955),a=n(2180),c=n(79357),l=n(71659),u=n(43019),d=n(63225),p=n(92829),h=n(80073),f=n(96602),g=n(39928);n(28546);const y={...r,...i,...s,...o,...a,...c,...l,...u,...d},m={...p,...h},b={raw:f,json:g}},83737:(e,t,n)=>{"use strict";n.d(t,{OV:()=>c});var r=n(28546);const i=function(){let{enumerable:e=!0,configurable:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{enumerable:e,configurable:t,writable:!1}},s=function*(e,t){if(null!=e&&!(e instanceof Uint8Array))for(const[n,i]of Object.entries(e)){const e=[...t,n];if(null!=i&&"object"===typeof i)if(Array.isArray(i))for(const[t,n]of i.entries()){const i=[...e,t],o=r.k0.asCID(n);o?yield[i.join("/"),o]:"object"===typeof n&&(yield*s(n,i))}else{const t=r.k0.asCID(i);t?yield[e.join("/"),t]:yield*s(i,e)}}},o=function*(e,t){if(null!=e)for(const[n,i]of Object.entries(e)){const e=[...t,n];if(yield e.join("/"),null!=i&&!(i instanceof Uint8Array)&&"object"===typeof i&&!r.k0.asCID(i))if(Array.isArray(i))for(const[t,n]of i.entries()){const i=[...e,t];yield i.join("/"),"object"!==typeof n||r.k0.asCID(n)||(yield*o(n,i))}else yield*o(i,e)}};class a{constructor(e){let{cid:t,bytes:n,value:r}=e;if(!t||!n||"undefined"===typeof r)throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:i(),bytes:i(),value:i(),asBlock:i()})}links(){return s(this.value,[])}tree(){return o(this.value,[])}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return((e,t)=>{let n=e;for(const[i,s]of t.entries()){if(n=n[s],null==n)throw new Error(`Object has no property at ${t.slice(0,i+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const e=r.k0.asCID(n);if(e)return{value:e,remaining:t.slice(i+1).join("/")}}return{value:n}})(this.value,e.split("/").filter(Boolean))}}const c=e=>{let{bytes:t,cid:n,value:r,codec:i}=e;const s=void 0!==r?r:i&&i.decode(t);if(void 0===s)throw new Error('Missing required argument, must either provide "value" or "codec"');return new a({cid:n,bytes:t,value:s})}},80073:(e,t,n)=>{"use strict";n.r(t),n.d(t,{identity:()=>o});var r=n(17893),i=n(17578);const s=r.coerce,o={code:0,name:"identity",encode:s,digest:e=>i.create(0,s(e))}},92829:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sha256:()=>s,sha512:()=>o});var r=n(32616);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,r.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,r.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},73620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});let r=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/giu;function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms";var n=null;return e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2"),e.replace(r,(function(e,t,r){(r=s(r))&&(n=(n||0)+parseFloat(t,10)*r)})),n&&n/(s(t)||1)}function s(e){return i[e]||i[e.toLowerCase().replace(/s$/,"")]}i.nanosecond=i.ns=1e-6,i["\xb5s"]=i["\u03bcs"]=i.us=i.microsecond=.001,i.millisecond=i.ms=i[""]=1,i.second=i.sec=i.s=1e3*i.ms,i.minute=i.min=i.m=60*i.s,i.hour=i.hr=i.h=60*i.m,i.day=i.d=24*i.h,i.week=i.wk=i.w=7*i.d,i.month=i.b=30.4375*i.d,i.year=i.yr=i.y=365.25*i.d;const o=i},92805:(e,t,n)=>{"use strict";n.d(t,{t:()=>C,o:()=>x});var r=n(92950),i=n(60980);function s(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function o(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>n.indexOf(e)<0)).forEach((n=>{"undefined"===typeof e[n]?e[n]=t[n]:s(t[n])&&s(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:o(e[n],t[n]):e[n]=t[n]}))}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.pagination&&"undefined"===typeof e.pagination.el}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.scrollbar&&"undefined"===typeof e.scrollbar.el}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e)),n=[];return t.forEach((e=>{n.indexOf(e)<0&&n.push(e)})),n.join(" ")}const d=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={on:{}},n={},r={};o(t,i.ZP.defaults),o(t,i.ZP.extendedDefaults),t._emitClasses=!0,t.init=!1;const a={},c=d.map((e=>e.replace(/_/,"")));return Object.keys(e).forEach((i=>{c.indexOf(i)>=0?s(e[i])?(t[i]={},r[i]={},o(t[i],e[i]),o(r[i],e[i])):(t[i]=e[i],r[i]=e[i]):0===i.search(/on[A-Z]/)&&"function"===typeof e[i]?n[`${i[2].toLowerCase()}${i.substr(3)}`]=e[i]:a[i]=e[i]})),["navigation","pagination","scrollbar"].forEach((e=>{!0===t[e]&&(t[e]={}),!1===t[e]&&delete t[e]})),{params:t,passedParams:r,rest:a,events:n}}function h(e){return new i.ZP(e)}function f(e,t){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:u}=e;a(t)&&r&&i&&(u.params.navigation.nextEl=r,u.originalParams.navigation.nextEl=r,u.params.navigation.prevEl=i,u.originalParams.navigation.prevEl=i),c(t)&&s&&(u.params.pagination.el=s,u.originalParams.pagination.el=s),l(t)&&o&&(u.params.scrollbar.el=o,u.originalParams.scrollbar.el=o),u.init(n)}function g(e,t){let n=t.slidesPerView;if(t.breakpoints){const e=i.ZP.prototype.getBreakpoint(t.breakpoints),r=e in t.breakpoints?t.breakpoints[e]:void 0;r&&r.slidesPerView&&(n=r.slidesPerView)}let r=Math.ceil(parseFloat(t.loopedSlides||n,10));return r+=t.loopAdditionalSlides,r>e.length&&(r=e.length),r}function y(e,t,n){const i=t.map(((t,n)=>r.cloneElement(t,{swiper:e,"data-swiper-slide-index":n})));function s(e,t,i){return r.cloneElement(e,{key:`${e.key}-duplicate-${t}-${i}`,className:`${e.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const e=n.slidesPerGroup-i.length%n.slidesPerGroup;if(e!==n.slidesPerGroup)for(let t=0;t<e;t+=1){const e=r.createElement("div",{className:`${n.slideClass} ${n.slideBlankClass}`});i.push(e)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length);const o=g(i,n),a=[],c=[];return i.forEach(((e,t)=>{t<o&&c.push(s(e,t,"prepend")),t<i.length&&t>=i.length-o&&a.push(s(e,t,"append"))})),e&&(e.loopedSlides=o),[...a,...i,...c]}function m(e,t,n,r){const i=[];if(!t)return i;const o=e=>{i.indexOf(e)<0&&i.push(e)},a=r.map((e=>e.key)),c=n.map((e=>e.key));a.join("")!==c.join("")&&o("children"),r.length!==n.length&&o("children");return d.filter((e=>"_"===e[0])).map((e=>e.replace(/_/,""))).forEach((n=>{if(n in e&&n in t)if(s(e[n])&&s(t[n])){const r=Object.keys(e[n]),i=Object.keys(t[n]);r.length!==i.length?o(n):(r.forEach((r=>{e[n][r]!==t[n][r]&&o(n)})),i.forEach((r=>{e[n][r]!==t[n][r]&&o(n)})))}else e[n]!==t[n]&&o(n)})),i}function b(e){const t=[];return r.Children.toArray(e).forEach((e=>{e.type&&"SwiperSlide"===e.type.displayName?t.push(e):e.props&&e.props.children&&b(e.props.children).forEach((e=>t.push(e)))})),t}function v(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return r.Children.toArray(e).forEach((e=>{if(e.type&&"SwiperSlide"===e.type.displayName)t.push(e);else if(e.props&&e.props.slot&&n[e.props.slot])n[e.props.slot].push(e);else if(e.props&&e.props.children){const r=b(e.props.children);r.length>0?r.forEach((e=>t.push(e))):n["container-end"].push(e)}else n["container-end"].push(e)})),{slides:t,slots:n}}function w(e){let{swiper:t,slides:n,passedParams:r,changedParams:i,nextEl:a,prevEl:c,scrollbarEl:l,paginationEl:u}=e;const d=i.filter((e=>"children"!==e&&"direction"!==e)),{params:p,pagination:h,navigation:f,scrollbar:g,virtual:y,thumbs:m}=t;let b,v,w,k,E;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&p.thumbs&&!p.thumbs.swiper&&(b=!0),i.includes("controller")&&r.controller&&r.controller.control&&p.controller&&!p.controller.control&&(v=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||u)&&(p.pagination||!1===p.pagination)&&h&&!h.el&&(w=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(p.scrollbar||!1===p.scrollbar)&&g&&!g.el&&(k=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||c)&&(r.navigation.nextEl||a)&&(p.navigation||!1===p.navigation)&&f&&!f.prevEl&&!f.nextEl&&(E=!0);if(d.forEach((e=>{if(s(p[e])&&s(r[e]))o(p[e],r[e]);else{const i=r[e];!0!==i&&!1!==i||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?p[e]=r[e]:!1===i&&t[n=e]&&(t[n].destroy(),"navigation"===n?(p[n].prevEl=void 0,p[n].nextEl=void 0,t[n].prevEl=void 0,t[n].nextEl=void 0):(p[n].el=void 0,t[n].el=void 0))}var n})),i.includes("children")&&y&&p.virtual.enabled?(y.slides=n,y.update(!0)):i.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),b){m.init()&&m.update(!0)}v&&(t.controller.control=p.controller.control),w&&(u&&(p.pagination.el=u),h.init(),h.render(),h.update()),k&&(l&&(p.scrollbar.el=l),g.init(),g.updateSize(),g.setTranslate()),E&&(a&&(p.navigation.nextEl=a),c&&(p.navigation.prevEl=c),f.init(),f.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&t.changeDirection(r.direction,!1),t.update()}function k(e){!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}function E(e,t,n){if(!n)return null;const i=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return t.filter(((e,t)=>t>=n.from&&t<=n.to)).map((t=>r.cloneElement(t,{swiper:e,style:i})))}function _(e,t){return"undefined"===typeof window?(0,r.useEffect)(e,t):(0,r.useLayoutEffect)(e,t)}function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}const C=(0,r.forwardRef)((function(){let{className:e,tag:t="div",wrapperTag:n="div",children:i,onSwiper:s,...d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0,C=!1;const[I,x]=(0,r.useState)("swiper"),[P,A]=(0,r.useState)(null),[R,T]=(0,r.useState)(!1),O=(0,r.useRef)(!1),D=(0,r.useRef)(null),M=(0,r.useRef)(null),N=(0,r.useRef)(null),j=(0,r.useRef)(null),L=(0,r.useRef)(null),B=(0,r.useRef)(null),z=(0,r.useRef)(null),F=(0,r.useRef)(null),{params:U,passedParams:W,rest:$,events:q}=p(d),{slides:H,slots:K}=v(i),V=()=>{T(!R)};if(Object.assign(U.on,{_containerClasses(e,t){x(t)}}),!D.current&&(Object.assign(U.on,q),C=!0,M.current=h(U),M.current.loopCreate=()=>{},M.current.loopDestroy=()=>{},U.loop&&(M.current.loopedSlides=g(H,U)),M.current.virtual&&M.current.params.virtual.enabled)){M.current.virtual.slides=H;const e={cache:!1,slides:H,renderExternal:A,renderExternalUpdate:!1};o(M.current.params.virtual,e),o(M.current.originalParams.virtual,e)}M.current&&M.current.on("_beforeBreakpoint",V);const G=()=>{!C&&q&&M.current&&Object.keys(q).forEach((e=>{M.current.on(e,q[e])}))},X=()=>{q&&M.current&&Object.keys(q).forEach((e=>{M.current.off(e,q[e])}))};function Z(){return U.virtual?E(M.current,H,P):!U.loop||M.current&&M.current.destroyed?H.map((e=>r.cloneElement(e,{swiper:M.current}))):y(M.current,H,U)}return(0,r.useEffect)((()=>()=>{M.current&&M.current.off("_beforeBreakpoint",V)})),(0,r.useEffect)((()=>{!O.current&&M.current&&(M.current.emitSlidesClasses(),O.current=!0)})),_((()=>{if(b&&(b.current=D.current),D.current)return f({el:D.current,nextEl:L.current,prevEl:B.current,paginationEl:z.current,scrollbarEl:F.current,swiper:M.current},U),s&&s(M.current),()=>{M.current&&!M.current.destroyed&&M.current.destroy(!0,!1)}}),[]),_((()=>{G();const e=m(W,N.current,H,j.current);return N.current=W,j.current=H,e.length&&M.current&&!M.current.destroyed&&w({swiper:M.current,slides:H,passedParams:W,changedParams:e,nextEl:L.current,prevEl:B.current,scrollbarEl:F.current,paginationEl:z.current}),()=>{X()}})),_((()=>{k(M.current)}),[P]),r.createElement(t,S({ref:D,className:u(`${I}${e?` ${e}`:""}`)},$),K["container-start"],a(U)&&r.createElement(r.Fragment,null,r.createElement("div",{ref:B,className:"swiper-button-prev"}),r.createElement("div",{ref:L,className:"swiper-button-next"})),l(U)&&r.createElement("div",{ref:F,className:"swiper-scrollbar"}),c(U)&&r.createElement("div",{ref:z,className:"swiper-pagination"}),r.createElement(n,{className:"swiper-wrapper"},K["wrapper-start"],Z(),K["wrapper-end"]),K["container-end"])}));function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}C.displayName="Swiper";const x=(0,r.forwardRef)((function(){let{tag:e="div",children:t,className:n="",swiper:i,zoom:s,virtualIndex:o,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;const l=(0,r.useRef)(null),[d,p]=(0,r.useState)("swiper-slide");function h(e,t,n){t===l.current&&p(n)}let f;_((()=>{if(c&&(c.current=l.current),l.current&&i){if(!i.destroyed)return i.on("_slideClass",h),()=>{i&&i.off("_slideClass",h)};"swiper-slide"!==d&&p("swiper-slide")}})),_((()=>{i&&l.current&&p(i.getSlideClasses(l.current))}),[i]),"function"===typeof t&&(f={isActive:d.indexOf("swiper-slide-active")>=0||d.indexOf("swiper-slide-duplicate-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isDuplicate:d.indexOf("swiper-slide-duplicate")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0||d.indexOf("swiper-slide-duplicate-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0||d.indexOf("swiper-slide-duplicate-next")>=0});const g=()=>"function"===typeof t?t(f):t;return r.createElement(e,I({ref:l,className:u(`${d}${n?` ${n}`:""}`),"data-swiper-slide-index":o},a),s?r.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof s?s:void 0},g()):g())}));x.displayName="SwiperSlide"},60980:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((n=>{"undefined"===typeof e[n]?e[n]=t[n]:r(t[n])&&r(e[n])&&Object.keys(t[n]).length>0&&i(e[n],t[n])}))}n.d(t,{W_:()=>ie,tl:()=>oe,ZP:()=>ne});const s={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function o(){const e="undefined"!==typeof document?document:{};return i(e,s),e}const a={document:s,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function c(){const e="undefined"!==typeof window?window:{};return i(e,a),e}class l extends Array{constructor(e){"number"===typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:()=>t,set(e){t.__proto__=e}})}(this))}}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...u(e)):t.push(e)})),t}function d(e,t){return Array.prototype.filter.call(e,t)}function p(e,t){const n=c(),r=o();let i=[];if(!t&&e instanceof l)return e;if(!e)return new l(i);if("string"===typeof e){const n=e.trim();if(n.indexOf("<")>=0&&n.indexOf(">")>=0){let e="div";0===n.indexOf("<li")&&(e="ul"),0===n.indexOf("<tr")&&(e="tbody"),0!==n.indexOf("<td")&&0!==n.indexOf("<th")||(e="tr"),0===n.indexOf("<tbody")&&(e="table"),0===n.indexOf("<option")&&(e="select");const t=r.createElement(e);t.innerHTML=n;for(let n=0;n<t.childNodes.length;n+=1)i.push(t.childNodes[n])}else i=function(e,t){if("string"!==typeof e)return[e];const n=[],r=t.querySelectorAll(e);for(let i=0;i<r.length;i+=1)n.push(r[i]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)i.push(e);else if(Array.isArray(e)){if(e instanceof l)return e;i=e}return new l(function(e){const t=[];for(let n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i))}p.fn=l.prototype;const h="resize scroll".split(" ");function f(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("undefined"===typeof n[0]){for(let t=0;t<this.length;t+=1)h.indexOf(e)<0&&(e in this[t]?this[t][e]():p(this[t]).trigger(e));return this}return this.on(e,...n)}}f("click"),f("blur"),f("focus"),f("focusin"),f("focusout"),f("keyup"),f("keydown"),f("keypress"),f("submit"),f("change"),f("mousedown"),f("mousemove"),f("mouseup"),f("mouseenter"),f("mouseleave"),f("mouseout"),f("mouseover"),f("touchstart"),f("touchend"),f("touchmove"),f("resize"),f("scroll");const g={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=u(t.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.add(...r)})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=u(t.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.remove(...r)})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=u(t.map((e=>e.split(" "))));return d(this,(e=>r.filter((t=>e.classList.contains(t))).length>0)).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=u(t.map((e=>e.split(" "))));this.forEach((e=>{r.forEach((t=>{e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(const t in e)this[n][t]=e[t],this[n].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!==typeof e?`${e}ms`:e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,i,s,o]=t;function a(e){const t=e.target;if(!t)return;const n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),p(t).is(i))s.apply(t,n);else{const e=p(t).parents();for(let t=0;t<e.length;t+=1)p(e[t]).is(i)&&s.apply(e[t],n)}}function c(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),s.apply(this,t)}"function"===typeof t[1]&&([r,s,o]=t,i=void 0),o||(o=!1);const l=r.split(" ");let u;for(let d=0;d<this.length;d+=1){const e=this[d];if(i)for(u=0;u<l.length;u+=1){const t=l[u];e.dom7LiveListeners||(e.dom7LiveListeners={}),e.dom7LiveListeners[t]||(e.dom7LiveListeners[t]=[]),e.dom7LiveListeners[t].push({listener:s,proxyListener:a}),e.addEventListener(t,a,o)}else for(u=0;u<l.length;u+=1){const t=l[u];e.dom7Listeners||(e.dom7Listeners={}),e.dom7Listeners[t]||(e.dom7Listeners[t]=[]),e.dom7Listeners[t].push({listener:s,proxyListener:c}),e.addEventListener(t,c,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,i,s,o]=t;"function"===typeof t[1]&&([r,s,o]=t,i=void 0),o||(o=!1);const a=r.split(" ");for(let c=0;c<a.length;c+=1){const e=a[c];for(let t=0;t<this.length;t+=1){const n=this[t];let r;if(!i&&n.dom7Listeners?r=n.dom7Listeners[e]:i&&n.dom7LiveListeners&&(r=n.dom7LiveListeners[e]),r&&r.length)for(let t=r.length-1;t>=0;t-=1){const i=r[t];s&&i.listener===s||s&&i.listener&&i.listener.dom7proxy&&i.listener.dom7proxy===s?(n.removeEventListener(e,i.proxyListener,o),r.splice(t,1)):s||(n.removeEventListener(e,i.proxyListener,o),r.splice(t,1))}}}return this},trigger:function(){const e=c();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n[0].split(" "),s=n[1];for(let o=0;o<i.length;o+=1){const t=i[o];for(let r=0;r<this.length;r+=1){const i=this[r];if(e.CustomEvent){const r=new e.CustomEvent(t,{detail:s,bubbles:!0,cancelable:!0});i.dom7EventData=n.filter(((e,t)=>t>0)),i.dispatchEvent(r),i.dom7EventData=[],delete i.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=c();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=c(),t=o(),n=this[0],r=n.getBoundingClientRect(),i=t.body,s=n.clientTop||i.clientTop||0,a=n.clientLeft||i.clientLeft||0,l=n===e?e.scrollY:n.scrollTop,u=n===e?e.scrollX:n.scrollLeft;return{top:r.top+l-s,left:r.left+u-a}}return null},css:function(e,t){const n=c();let r;if(1===arguments.length){if("string"!==typeof e){for(r=0;r<this.length;r+=1)for(const t in e)this[r].style[t]=e[t];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(r=0;r<this.length;r+=1)this[r].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(((t,n)=>{e.apply(t,[t,n])})),this):this},html:function(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=c(),n=o(),r=this[0];let i,s;if(!r||"undefined"===typeof e)return!1;if("string"===typeof e){if(r.matches)return r.matches(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);for(i=p(e),s=0;s<i.length;s+=1)if(i[s]===r)return!0;return!1}if(e===n)return r===n;if(e===t)return r===t;if(e.nodeType||e instanceof l){for(i=e.nodeType?[e]:e,s=0;s<i.length;s+=1)if(i[s]===r)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if("undefined"===typeof e)return this;const t=this.length;if(e>t-1)return p([]);if(e<0){const n=t+e;return p(n<0?[]:[this[n]])}return p([this[e]])},append:function(){let e;const t=o();for(let n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(let n=0;n<this.length;n+=1)if("string"===typeof e){const r=t.createElement("div");for(r.innerHTML=e;r.firstChild;)this[n].appendChild(r.firstChild)}else if(e instanceof l)for(let t=0;t<e.length;t+=1)this[n].appendChild(e[t]);else this[n].appendChild(e)}return this},prepend:function(e){const t=o();let n,r;for(n=0;n<this.length;n+=1)if("string"===typeof e){const i=t.createElement("div");for(i.innerHTML=e,r=i.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(e instanceof l)for(r=0;r<e.length;r+=1)this[n].insertBefore(e[r],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&p(this[0].nextElementSibling).is(e)?p([this[0].nextElementSibling]):p([]):this[0].nextElementSibling?p([this[0].nextElementSibling]):p([]):p([])},nextAll:function(e){const t=[];let n=this[0];if(!n)return p([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;e?p(r).is(e)&&t.push(r):t.push(r),n=r}return p(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&p(t.previousElementSibling).is(e)?p([t.previousElementSibling]):p([]):t.previousElementSibling?p([t.previousElementSibling]):p([])}return p([])},prevAll:function(e){const t=[];let n=this[0];if(!n)return p([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;e?p(r).is(e)&&t.push(r):t.push(r),n=r}return p(t)},parent:function(e){const t=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?p(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return p(t)},parents:function(e){const t=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)e?p(r).is(e)&&t.push(r):t.push(r),r=r.parentNode}return p(t)},closest:function(e){let t=this;return"undefined"===typeof e?p([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(e);for(let e=0;e<r.length;e+=1)t.push(r[e])}return p(t)},children:function(e){const t=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let n=0;n<r.length;n+=1)e&&!p(r[n]).is(e)||t.push(r[n])}return p(t)},filter:function(e){return p(d(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(g).forEach((e=>{Object.defineProperty(p.fn,e,{value:g[e],writable:!0})}));const y=p;function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,t)}function b(){return Date.now()}function v(e){const t=c();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=c();let r,i,s;const o=v(e);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map((e=>e.replace(",","."))).join(", ")),s=new n.WebKitCSSMatrix("none"===i?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),"x"===t&&(i=n.WebKitCSSMatrix?s.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(i=n.WebKitCSSMatrix?s.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),i||0}function k(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function E(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function _(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!E(r)){const n=Object.keys(Object(r)).filter((e=>t.indexOf(e)<0));for(let t=0,i=n.length;t<i;t+=1){const i=n[t],s=Object.getOwnPropertyDescriptor(r,i);void 0!==s&&s.enumerable&&(k(e[i])&&k(r[i])?r[i].__swiper__?e[i]=r[i]:_(e[i],r[i]):!k(e[i])&&k(r[i])?(e[i]={},r[i].__swiper__?e[i]=r[i]:_(e[i],r[i])):e[i]=r[i])}}}return e}function S(e,t,n){e.style.setProperty(t,n)}function C(e){let{swiper:t,targetPosition:n,side:r}=e;const i=c(),s=-t.translate;let o,a=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const u=n>s?"next":"prev",d=(e,t)=>"next"===u&&e>=t||"prev"===u&&e<=t,p=()=>{o=(new Date).getTime(),null===a&&(a=o);const e=Math.max(Math.min((o-a)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let u=s+c*(n-s);if(d(u,n)&&(u=n),t.wrapperEl.scrollTo({[r]:u}),d(u,n))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:u})})),void i.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=i.requestAnimationFrame(p)};p()}let I,x,P;function A(){return I||(I=function(){const e=c(),t=o();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const n=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(n){}return t}(),gestures:"ongesturestart"in e}}()),I}function R(){let{userAgent:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=A(),n=c(),r=n.navigator.platform,i=e||n.navigator.userAgent,s={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const d=i.match(/(iPod)(.*OS\s([\d_]+))?/),p=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===r;let f="MacIntel"===r;const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&f&&t.touch&&g.indexOf(`${o}x${a}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),f=!1),l&&!h&&(s.os="android",s.android=!0),(u||p||d)&&(s.os="ios",s.ios=!0),s}function T(){return P||(P=function(){const e=c();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),P}const O={on(e,t,n){const r=this;if("function"!==typeof t)return r;const i=n?"unshift":"push";return e.split(" ").forEach((e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once(e,t,n){const r=this;if("function"!==typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];t.apply(r,s)}return i.__emitterProxy=t,r.on(e,i,n)},onAny(e,t){const n=this;if("function"!==typeof e)return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return n.eventsListeners?(e.split(" ").forEach((e=>{"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(((r,i)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit(){const e=this;if(!e.eventsListeners)return e;let t,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];"string"===typeof s[0]||Array.isArray(s[0])?(t=s[0],n=s.slice(1,s.length),r=e):(t=s[0].events,n=s[0].data,r=s[0].context||e),n.unshift(r);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(r,[t,...n])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(r,n)}))})),e}};const D={updateSize:function(){const e=this;let t,n;const r=e.$el;t="undefined"!==typeof e.params.width&&null!==e.params.width?e.params.width:r[0].clientWidth,n="undefined"!==typeof e.params.height&&null!==e.params.height?e.params.height:r[0].clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}const r=e.params,{$wrapperEl:i,size:s,rtlTranslate:o,wrongRTL:a}=e,c=e.virtual&&r.virtual.enabled,l=c?e.virtual.slides.length:e.slides.length,u=i.children(`.${e.params.slideClass}`),d=c?e.virtual.slides.length:u.length;let p=[];const h=[],f=[];let g=r.slidesOffsetBefore;"function"===typeof g&&(g=r.slidesOffsetBefore.call(e));let y=r.slidesOffsetAfter;"function"===typeof y&&(y=r.slidesOffsetAfter.call(e));const m=e.snapGrid.length,b=e.slidesGrid.length;let v=r.spaceBetween,w=-g,k=0,E=0;if("undefined"===typeof s)return;"string"===typeof v&&v.indexOf("%")>=0&&(v=parseFloat(v.replace("%",""))/100*s),e.virtualSize=-v,o?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(S(e.wrapperEl,"--swiper-centered-offset-before",""),S(e.wrapperEl,"--swiper-centered-offset-after",""));const _=r.grid&&r.grid.rows>1&&e.grid;let C;_&&e.grid.initSlides(d);const I="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((e=>"undefined"!==typeof r.breakpoints[e].slidesPerView)).length>0;for(let S=0;S<d;S+=1){C=0;const i=u.eq(S);if(_&&e.grid.updateSlide(S,i,d,t),"none"!==i.css("display")){if("auto"===r.slidesPerView){I&&(u[S].style[t("width")]="");const s=getComputedStyle(i[0]),o=i[0].style.transform,a=i[0].style.webkitTransform;if(o&&(i[0].style.transform="none"),a&&(i[0].style.webkitTransform="none"),r.roundLengths)C=e.isHorizontal()?i.outerWidth(!0):i.outerHeight(!0);else{const e=n(s,"width"),t=n(s,"padding-left"),r=n(s,"padding-right"),o=n(s,"margin-left"),a=n(s,"margin-right"),c=s.getPropertyValue("box-sizing");if(c&&"border-box"===c)C=e+o+a;else{const{clientWidth:n,offsetWidth:s}=i[0];C=e+t+r+o+a+(s-n)}}o&&(i[0].style.transform=o),a&&(i[0].style.webkitTransform=a),r.roundLengths&&(C=Math.floor(C))}else C=(s-(r.slidesPerView-1)*v)/r.slidesPerView,r.roundLengths&&(C=Math.floor(C)),u[S]&&(u[S].style[t("width")]=`${C}px`);u[S]&&(u[S].swiperSlideSize=C),f.push(C),r.centeredSlides?(w=w+C/2+k/2+v,0===k&&0!==S&&(w=w-s/2-v),0===S&&(w=w-s/2-v),Math.abs(w)<.001&&(w=0),r.roundLengths&&(w=Math.floor(w)),E%r.slidesPerGroup===0&&p.push(w),h.push(w)):(r.roundLengths&&(w=Math.floor(w)),(E-Math.min(e.params.slidesPerGroupSkip,E))%e.params.slidesPerGroup===0&&p.push(w),h.push(w),w=w+C+v),e.virtualSize+=C+v,k=C,E+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+y,o&&a&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:`${e.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&i.css({[t("width")]:`${e.virtualSize+r.spaceBetween}px`}),_&&e.grid.updateWrapperSize(C,p,t),!r.centeredSlides){const t=[];for(let n=0;n<p.length;n+=1){let i=p[n];r.roundLengths&&(i=Math.floor(i)),p[n]<=e.virtualSize-s&&t.push(i)}p=t,Math.floor(e.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(e.virtualSize-s)}if(0===p.length&&(p=[0]),0!==r.spaceBetween){const n=e.isHorizontal()&&o?"marginLeft":t("marginRight");u.filter(((e,t)=>!r.cssMode||t!==u.length-1)).css({[n]:`${v}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let e=0;f.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween;const t=e-s;p=p.map((e=>e<0?-g:e>t?t+y:e))}if(r.centerInsufficientSlides){let e=0;if(f.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween,e<s){const t=(s-e)/2;p.forEach(((e,n)=>{p[n]=e-t})),h.forEach(((e,n)=>{h[n]=e+t}))}}if(Object.assign(e,{slides:u,snapGrid:p,slidesGrid:h,slidesSizesGrid:f}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){S(e.wrapperEl,"--swiper-centered-offset-before",-p[0]+"px"),S(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-f[f.length-1]/2+"px");const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+n))}d!==l&&e.emit("slidesLengthChange"),p.length!==m&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==b&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset()},updateAutoHeight:function(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let i,s=0;"number"===typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const o=e=>r?t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)t.visibleSlides.each((e=>{n.push(e)}));else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const e=t.activeIndex+i;if(e>t.slides.length&&!r)break;n.push(o(e))}else n.push(o(t.activeIndex));for(i=0;i<n.length;i+=1)if("undefined"!==typeof n[i]){const e=n[i].offsetHeight;s=e>s?e:s}(s||0===s)&&t.$wrapperEl.css("height",`${s}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop},updateSlidesProgress:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0;const t=this,n=t.params,{slides:r,rtlTranslate:i,snapGrid:s}=t;if(0===r.length)return;"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();let o=-e;i&&(o=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let a=0;a<r.length;a+=1){const e=r[a];let c=e.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const l=(o+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+n.spaceBetween),u=(o-s[0]+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+n.spaceBetween),d=-(o-c),p=d+t.slidesSizesGrid[a];(d>=0&&d<t.size-1||p>1&&p<=t.size||d<=0&&p>=t.size)&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass)),e.progress=i?-l:l,e.originalProgress=i?-u:u}t.visibleSlides=y(t.visibleSlides)},updateProgress:function(e){const t=this;if("undefined"===typeof e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:s,isEnd:o}=t;const a=s,c=o;0===r?(i=0,s=!0,o=!0):(i=(e-t.minTranslate())/r,s=i<=0,o=i>=1),Object.assign(t,{progress:i,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!a&&t.emit("reachBeginning toEdge"),o&&!c&&t.emit("reachEnd toEdge"),(a&&!s||c&&!o)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,$wrapperEl:r,activeIndex:i,realIndex:s}=e,o=e.virtual&&n.virtual.enabled;let a;t.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`),a=o?e.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${i}"]`):t.eq(i),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${s}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${s}"]`).addClass(n.slideDuplicateActiveClass));let c=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&0===c.length&&(c=t.eq(0),c.addClass(n.slideNextClass));let l=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&0===l.length&&(l=t.eq(-1),l.addClass(n.slidePrevClass)),n.loop&&(c.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:r,snapGrid:i,params:s,activeIndex:o,realIndex:a,snapIndex:c}=t;let l,u=e;if("undefined"===typeof u){for(let e=0;e<r.length;e+=1)"undefined"!==typeof r[e+1]?n>=r[e]&&n<r[e+1]-(r[e+1]-r[e])/2?u=e:n>=r[e]&&n<r[e+1]&&(u=e+1):n>=r[e]&&(u=e);s.normalizeSlideIndex&&(u<0||"undefined"===typeof u)&&(u=0)}if(i.indexOf(n)>=0)l=i.indexOf(n);else{const e=Math.min(s.slidesPerGroupSkip,u);l=e+Math.floor((u-e)/s.slidesPerGroup)}if(l>=i.length&&(l=i.length-1),u===o)return void(l!==c&&(t.snapIndex=l,t.emit("snapIndexChange")));const d=parseInt(t.slides.eq(u).attr("data-swiper-slide-index")||u,10);Object.assign(t,{snapIndex:l,realIndex:d,previousIndex:o,activeIndex:u}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),a!==d&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,n=t.params,r=y(e).closest(`.${n.slideClass}`)[0];let i,s=!1;if(r)for(let o=0;o<t.slides.length;o+=1)if(t.slides[o]===r){s=!0,i=o;break}if(!r||!s)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(y(r).attr("data-swiper-slide-index"),10):t.clickedIndex=i,n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};const M={getTranslate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y";const t=this,{params:n,rtlTranslate:r,translate:i,$wrapperEl:s}=t;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=w(s[0],e);return r&&(o=-o),o||0},setTranslate:function(e,t){const n=this,{rtlTranslate:r,params:i,$wrapperEl:s,wrapperEl:o,progress:a}=n;let c,l=0,u=0;n.isHorizontal()?l=r?-e:e:u=e,i.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:i.virtualTranslate||s.transform(`translate3d(${l}px, ${u}px, 0px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u;const d=n.maxTranslate()-n.minTranslate();c=0===d?0:(e-n.minTranslate())/d,c!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0;const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const c=s.minTranslate(),l=s.maxTranslate();let u;if(u=r&&e>c?c:r&&e<l?l:e,s.updateProgress(u),o.cssMode){const e=s.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return C({swiper:s,targetPosition:-u,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}};function N(e){let{swiper:t,runCallbacks:n,direction:r,step:i}=e;const{activeIndex:s,previousIndex:o}=t;let a=r;if(a||(a=s>o?"next":s<o?"prev":"reset"),t.emit(`transition${i}`),n&&s!==o){if("reset"===a)return void t.emit(`slideResetTransition${i}`);t.emit(`slideChangeTransition${i}`),"next"===a?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}const j={slideTo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if("number"!==typeof e&&"string"!==typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"===typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const s=this;let o=e;o<0&&(o=0);const{params:a,snapGrid:c,slidesGrid:l,previousIndex:u,activeIndex:d,rtlTranslate:p,wrapperEl:h,enabled:f}=s;if(s.animating&&a.preventInteractionOnTransition||!f&&!r&&!i)return!1;const g=Math.min(s.params.slidesPerGroupSkip,o);let y=g+Math.floor((o-g)/s.params.slidesPerGroup);y>=c.length&&(y=c.length-1),(d||a.initialSlide||0)===(u||0)&&n&&s.emit("beforeSlideChangeStart");const m=-c[y];if(s.updateProgress(m),a.normalizeSlideIndex)for(let v=0;v<l.length;v+=1){const e=-Math.floor(100*m),t=Math.floor(100*l[v]),n=Math.floor(100*l[v+1]);"undefined"!==typeof l[v+1]?e>=t&&e<n-(n-t)/2?o=v:e>=t&&e<n&&(o=v+1):e>=t&&(o=v)}if(s.initialized&&o!==d){if(!s.allowSlideNext&&m<s.translate&&m<s.minTranslate())return!1;if(!s.allowSlidePrev&&m>s.translate&&m>s.maxTranslate()&&(d||0)!==o)return!1}let b;if(b=o>d?"next":o<d?"prev":"reset",p&&-m===s.translate||!p&&m===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==a.effect&&s.setTranslate(m),"reset"!==b&&(s.transitionStart(n,b),s.transitionEnd(n,b)),!1;if(a.cssMode){const e=s.isHorizontal(),n=p?m:-m;if(0===t){const t=s.virtual&&s.params.virtual.enabled;t&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),h[e?"scrollLeft":"scrollTop"]=n,t&&requestAnimationFrame((()=>{s.wrapperEl.style.scrollSnapType="",s._swiperImmediateVirtual=!1}))}else{if(!s.support.smoothScroll)return C({swiper:s,targetPosition:n,side:e?"left":"top"}),!0;h.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(m),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,r),s.transitionStart(n,b),0===t?s.transitionEnd(n,b):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,b))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;const i=this;let s=e;return i.params.loop&&(s+=i.loopedSlides),i.slideTo(s,t,n,r)},slideNext:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=this,{animating:i,enabled:s,params:o}=r;if(!s)return r;let a=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(i&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+c,e,t,n)},slidePrev:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=this,{params:i,animating:s,snapGrid:o,slidesGrid:a,rtlTranslate:c,enabled:l}=r;if(!l)return r;if(i.loop){if(s&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const u=c?r.translate:-r.translate;function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const p=d(u),h=o.map((e=>d(e)));let f=o[h.indexOf(p)-1];if("undefined"===typeof f&&i.cssMode){let e;o.forEach(((t,n)=>{p>=t&&(e=n)})),"undefined"!==typeof e&&(f=o[e>0?e-1:e])}let g=0;return"undefined"!==typeof f&&(g=a.indexOf(f),g<0&&(g=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.rewind&&r.isBeginning?r.slideTo(r.slides.length-1,e,t,n):r.slideTo(g,e,t,n)},slideReset:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=this;return r.slideTo(r.activeIndex,e,t,n)},slideToClosest:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const i=this;let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[a]){const e=i.snapGrid[a];c-e>(i.snapGrid[a+1]-e)*r&&(s+=i.params.slidesPerGroup)}else{const e=i.snapGrid[a-1];c-e<=(i.snapGrid[a]-e)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,e,t,n)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:n}=e,r="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let i,s=e.clickedIndex;if(t.loop){if(e.animating)return;i=parseInt(y(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?s<e.loopedSlides-r/2||s>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),s=n.children(`.${t.slideClass}[data-swiper-slide-index="${i}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),m((()=>{e.slideTo(s)}))):e.slideTo(s):s>e.slides.length-r?(e.loopFix(),s=n.children(`.${t.slideClass}[data-swiper-slide-index="${i}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),m((()=>{e.slideTo(s)}))):e.slideTo(s)}else e.slideTo(s)}};const L={loopCreate:function(){const e=this,t=o(),{params:n,$wrapperEl:r}=e,i=r.children().length>0?y(r.children()[0].parentNode):r;i.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let s=i.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const e=n.slidesPerGroup-s.length%n.slidesPerGroup;if(e!==n.slidesPerGroup){for(let r=0;r<e;r+=1){const e=y(t.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);i.append(e)}s=i.children(`.${n.slideClass}`)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=s.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>s.length&&(e.loopedSlides=s.length);const a=[],c=[];s.each(((t,n)=>{const r=y(t);n<e.loopedSlides&&c.push(t),n<s.length&&n>=s.length-e.loopedSlides&&a.push(t),r.attr("data-swiper-slide-index",n)}));for(let o=0;o<c.length;o+=1)i.append(y(c[o].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let o=a.length-1;o>=0;o-=1)i.prepend(y(a[o].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:n,loopedSlides:r,allowSlidePrev:i,allowSlideNext:s,snapGrid:o,rtlTranslate:a}=e;let c;e.allowSlidePrev=!0,e.allowSlideNext=!0;const l=-o[t]-e.getTranslate();if(t<r){c=n.length-3*r+t,c+=r;e.slideTo(c,0,!1,!0)&&0!==l&&e.setTranslate((a?-e.translate:e.translate)-l)}else if(t>=n.length-r){c=-n.length+t+r,c+=r;e.slideTo(c,0,!1,!0)&&0!==l&&e.setTranslate((a?-e.translate:e.translate)-l)}e.allowSlidePrev=i,e.allowSlideNext=s,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:n}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),n.removeAttr("data-swiper-slide-index")}};function B(e){const t=this,n=o(),r=c(),i=t.touchEventsData,{params:s,touches:a,enabled:l}=t;if(!l)return;if(t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let u=e;u.originalEvent&&(u=u.originalEvent);let d=y(u.target);if("wrapper"===s.touchEventsTarget&&!d.closest(t.wrapperEl).length)return;if(i.isTouchEvent="touchstart"===u.type,!i.isTouchEvent&&"which"in u&&3===u.which)return;if(!i.isTouchEvent&&"button"in u&&u.button>0)return;if(i.isTouched&&i.isMoved)return;!!s.noSwipingClass&&""!==s.noSwipingClass&&u.target&&u.target.shadowRoot&&e.path&&e.path[0]&&(d=y(e.path[0]));const p=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,h=!(!u.target||!u.target.shadowRoot);if(s.noSwiping&&(h?function(e){function t(n){return n&&n!==o()&&n!==c()?(n.assignedSlot&&(n=n.assignedSlot),n.closest(e)||t(n.getRootNode().host)):null}return t(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this)}(p,u.target):d.closest(p)[0]))return void(t.allowClick=!0);if(s.swipeHandler&&!d.closest(s.swipeHandler)[0])return;a.currentX="touchstart"===u.type?u.targetTouches[0].pageX:u.pageX,a.currentY="touchstart"===u.type?u.targetTouches[0].pageY:u.pageY;const f=a.currentX,g=a.currentY,m=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,v=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(m&&(f<=v||f>=r.innerWidth-v)){if("prevent"!==m)return;e.preventDefault()}if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=f,a.startY=g,i.touchStartTime=b(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==u.type){let e=!0;d.is(i.focusableElements)&&(e=!1),n.activeElement&&y(n.activeElement).is(i.focusableElements)&&n.activeElement!==d[0]&&n.activeElement.blur();const r=e&&t.allowTouchMove&&s.touchStartPreventDefault;!s.touchStartForcePreventDefault&&!r||d[0].isContentEditable||u.preventDefault()}t.emit("touchStart",u)}function z(e){const t=o(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:a,enabled:c}=n;if(!c)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l));if(r.isTouchEvent&&"touchmove"!==l.type)return;const u="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),d="touchmove"===l.type?u.pageX:l.pageX,p="touchmove"===l.type?u.pageY:l.pageY;if(l.preventedByNestedSwiper)return s.startX=d,void(s.startY=p);if(!n.allowTouchMove)return n.allowClick=!1,void(r.isTouched&&(Object.assign(s,{startX:d,startY:p,currentX:d,currentY:p}),r.touchStartTime=b()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(p<s.startY&&n.translate<=n.maxTranslate()||p>s.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&y(l.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=d,s.currentY=p;const h=s.currentX-s.startX,f=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(h**2+f**2)<n.params.threshold)return;if("undefined"===typeof r.isScrolling){let e;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:h*h+f*f>=25&&(e=180*Math.atan2(Math.abs(f),Math.abs(h))/Math.PI,r.isScrolling=n.isHorizontal()?e>i.touchAngle:90-e>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),"undefined"===typeof r.startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(r.startMoving=!0)),r.isScrolling)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let g=n.isHorizontal()?h:f;s.diff=g,g*=i.touchRatio,a&&(g=-g),n.swipeDirection=g>0?"prev":"next",r.currentTranslate=g+r.startTranslate;let m=!0,v=i.resistanceRatio;if(i.touchReleaseOnEdges&&(v=0),g>0&&r.currentTranslate>n.minTranslate()?(m=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**v)):g<0&&r.currentTranslate<n.maxTranslate()&&(m=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**v)),m&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(g)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,void(s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function F(e){const t=this,n=t.touchEventsData,{params:r,touches:i,rtlTranslate:s,slidesGrid:o,enabled:a}=t;if(!a)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const l=b(),u=l-n.touchStartTime;if(t.allowClick){const e=c.path||c.composedPath&&c.composedPath();t.updateClickedSlide(e&&e[0]||c.target),t.emit("tap click",c),u<300&&l-n.lastClickTime<300&&t.emit("doubleTap doubleClick",c)}if(n.lastClickTime=b(),m((()=>{t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let d;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,d=r.followFinger?s?t.translate:-t.translate:-n.currentTranslate,r.cssMode)return;if(t.params.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:d});let p=0,h=t.slidesSizesGrid[0];for(let y=0;y<o.length;y+=y<r.slidesPerGroupSkip?1:r.slidesPerGroup){const e=y<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;"undefined"!==typeof o[y+e]?d>=o[y]&&d<o[y+e]&&(p=y,h=o[y+e]-o[y]):d>=o[y]&&(p=y,h=o[o.length-1]-o[o.length-2])}const f=(d-o[p])/h,g=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(f>=r.longSwipesRatio?t.slideTo(p+g):t.slideTo(p)),"prev"===t.swipeDirection&&(f>1-r.longSwipesRatio?t.slideTo(p+g):t.slideTo(p))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(c.target===t.navigation.nextEl||c.target===t.navigation.prevEl)?c.target===t.navigation.nextEl?t.slideTo(p+g):t.slideTo(p):("next"===t.swipeDirection&&t.slideTo(p+g),"prev"===t.swipeDirection&&t.slideTo(p))}}function U(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function W(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function $(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;let i;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const s=e.maxTranslate()-e.minTranslate();i=0===s?0:(e.translate-e.minTranslate())/s,i!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let q=!1;function H(){}const K=(e,t)=>{const n=o(),{params:r,touchEvents:i,el:s,wrapperEl:a,device:c,support:l}=e,u=!!r.nested,d="on"===t?"addEventListener":"removeEventListener",p=t;if(l.touch){const t=!("touchstart"!==i.start||!l.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};s[d](i.start,e.onTouchStart,t),s[d](i.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:u}:u),s[d](i.end,e.onTouchEnd,t),i.cancel&&s[d](i.cancel,e.onTouchEnd,t)}else s[d](i.start,e.onTouchStart,!1),n[d](i.move,e.onTouchMove,u),n[d](i.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&s[d]("click",e.onClick,!0),r.cssMode&&a[d]("scroll",e.onScroll),r.updateOnWindowResize?e[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",U,!0):e[p]("observerUpdate",U,!0)};const V={attachEvents:function(){const e=this,t=o(),{params:n,support:r}=e;e.onTouchStart=B.bind(e),e.onTouchMove=z.bind(e),e.onTouchEnd=F.bind(e),n.cssMode&&(e.onScroll=$.bind(e)),e.onClick=W.bind(e),r.touch&&!q&&(t.addEventListener("touchstart",H),q=!0),K(e,"on")},detachEvents:function(){K(this,"off")}},G=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;const X={setBreakpoint:function(){const e=this,{activeIndex:t,initialized:n,loopedSlides:r=0,params:i,$el:s}=e,o=i.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const a=e.getBreakpoint(o,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;const c=(a in o?o[a]:void 0)||e.originalParams,l=G(e,i),u=G(e,c),d=i.enabled;l&&!u?(s.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!l&&u&&(s.addClass(`${i.containerModifierClass}grid`),(c.grid.fill&&"column"===c.grid.fill||!c.grid.fill&&"column"===i.grid.fill)&&s.addClass(`${i.containerModifierClass}grid-column`),e.emitContainerClasses());const p=c.direction&&c.direction!==i.direction,h=i.loop&&(c.slidesPerView!==i.slidesPerView||p);p&&n&&e.changeDirection(),_(e.params,c);const f=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),d&&!f?e.disable():!d&&f&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",c),h&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-r+e.loopedSlides,0,!1)),e.emit("breakpoint",c)},getBreakpoint:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"window",n=arguments.length>2?arguments[2]:void 0;if(!e||"container"===t&&!n)return;let r=!1;const i=c(),s="window"===t?i.innerHeight:n.clientHeight,o=Object.keys(e).map((e=>{if("string"===typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:s*t,point:e}}return{value:e,point:e}}));o.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let a=0;a<o.length;a+=1){const{point:e,value:s}=o[a];"window"===t?i.matchMedia(`(min-width: ${s}px)`).matches&&(r=e):s<=n.clientWidth&&(r=e)}return r||"max"}};const Z={addClasses:function(){const e=this,{classNames:t,params:n,rtl:r,$el:i,device:s,support:o}=e,a=function(e,t){const n=[];return e.forEach((e=>{"object"===typeof e?Object.keys(e).forEach((r=>{e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides}],n.containerModifierClass);t.push(...a),i.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}};const Q={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Y(e,t){return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in i?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),_(t,n)):_(t,n)):_(t,n)}}const J={eventsEmitter:O,update:D,translate:M,transition:{setTransition:function(e,t){const n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),N({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),N({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:j,loop:L,grabCursor:{setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"-webkit-grabbing":"-webkit-grab",n.style.cursor=e?"-moz-grabbin":"-moz-grab",n.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:V,breakpoints:X,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*r;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:Z,images:{loadImage:function(e,t,n,r,i,s){const o=c();let a;function l(){s&&s()}y(e).parent("picture")[0]||e.complete&&i?l():t?(a=new o.Image,a.onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),t&&(a.src=t)):l()},preloadImages:function(){const e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let n=0;n<e.imagesToLoad.length;n+=1){const r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},ee={};class te{constructor(){let e,t;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?t=r[0]:[e,t]=r,t||(t={}),t=_({},t),e&&!t.el&&(t.el=e),t.el&&y(t.el).length>1){const e=[];return y(t.el).each((n=>{const r=_({},t,{el:n});e.push(new te(r))})),e}const s=this;s.__swiper__=!0,s.support=A(),s.device=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x||(x=R(e)),x}({userAgent:t.userAgent}),s.browser=T(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],t.modules&&Array.isArray(t.modules)&&s.modules.push(...t.modules);const o={};s.modules.forEach((e=>{e({swiper:s,extendParams:Y(t,o),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})}));const a=_({},Q,o);return s.params=_({},a,ee,t),s.originalParams=_({},s.params),s.passedParams=_({},t),s.params&&s.params.on&&Object.keys(s.params.on).forEach((e=>{s.on(e,s.params.on[e])})),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=y,Object.assign(s,{enabled:s.params.enabled,el:e,classNames:[],slides:y(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===s.params.direction,isVertical:()=>"vertical"===s.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},s.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:b(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((n=>{const r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{params:n,slides:r,slidesGrid:i,slidesSizesGrid:s,size:o,activeIndex:a}=this;let c=1;if(n.centeredSlides){let e,t=r[a].swiperSlideSize;for(let n=a+1;n<r.length;n+=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,c+=1,t>o&&(e=!0));for(let n=a-1;n>=0;n-=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,c+=1,t>o&&(e=!0))}else if("current"===e)for(let l=a+1;l<r.length;l+=1){(t?i[l]+s[l]-i[a]<o:i[l]-i[a]<o)&&(c+=1)}else for(let l=a-1;l>=0;l-=1){i[a]-i[l]<o&&(c+=1)}return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function r(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let i;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(i=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),i||r()),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass(`${n.params.containerModifierClass}${r}`).addClass(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.each((t=>{"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}mount(e){const t=this;if(t.mounted)return!0;const n=y(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let i=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=y(e.shadowRoot.querySelector(r()));return t.children=e=>n.children(e),t}return n.children(r())})();if(0===i.length&&t.params.createElements){const e=o().createElement("div");i=y(e),e.className=t.params.wrapperClass,n.append(e),n.children(`.${t.params.slideClass}`).each((e=>{i.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0}init(e){const t=this;if(t.initialized)return t;return!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this,{params:r,$el:i,$wrapperEl:s,slides:o}=n;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttr("style"),s.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((e=>{n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}}))}(n)),n.destroyed=!0),null}static extendDefaults(e){_(ee,e)}static get extendedDefaults(){return ee}static get defaults(){return Q}static installModule(e){te.prototype.__modules__||(te.prototype.__modules__=[]);const t=te.prototype.__modules__;"function"===typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>te.installModule(e))),te):(te.installModule(e),te)}}Object.keys(J).forEach((e=>{Object.keys(J[e]).forEach((t=>{te.prototype[t]=J[e][t]}))})),te.use([function(e){let{swiper:t,on:n,emit:r}=e;const i=c();let s=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},a=()=>{t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(()=>{t.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(s=new ResizeObserver((e=>{const{width:n,height:r}=t;let i=n,s=r;e.forEach((e=>{let{contentBoxSize:n,contentRect:r,target:o}=e;o&&o!==t.el||(i=r?r.width:(n[0]||n).inlineSize,s=r?r.height:(n[0]||n).blockSize)})),i===n&&s===r||o()})),s.observe(t.el)):(i.addEventListener("resize",o),i.addEventListener("orientationchange",a))})),n("destroy",(()=>{s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",a)}))},function(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const s=[],o=c(),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=o.MutationObserver||o.WebkitMutationObserver,r=new n((e=>{if(1===e.length)return void i("observerUpdate",e[0]);const t=function(){i("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}));r.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),s.push(r)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=t.$el.parents();for(let t=0;t<e.length;t+=1)a(e[t])}a(t.$el[0],{childList:t.params.observeSlideChildren}),a(t.$wrapperEl[0],{attributes:!1})}})),r("destroy",(()=>{s.forEach((e=>{e.disconnect()})),s.splice(0,s.length)}))}]);const ne=te;function re(e,t,n,r){const i=o();return e.params.createElements&&Object.keys(r).forEach((s=>{if(!n[s]&&!0===n.auto){let o=e.$el.children(`.${r[s]}`)[0];o||(o=i.createElement("div"),o.className=r[s],e.$el.append(o)),n[s]=o,t[s]=o}})),n}function ie(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;function s(e){let n;return e&&(n=y(e),t.params.uniqueNavElements&&"string"===typeof e&&n.length>1&&1===t.$el.find(e).length&&(n=t.$el.find(e))),n}function o(e,n){const r=t.params.navigation;e&&e.length>0&&(e[n?"addClass":"removeClass"](r.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=n),t.params.watchOverflow&&t.enabled&&e[t.isLocked?"addClass":"removeClass"](r.lockClass))}function a(){if(t.params.loop)return;const{$nextEl:e,$prevEl:n}=t.navigation;o(n,t.isBeginning&&!t.params.rewind),o(e,t.isEnd&&!t.params.rewind)}function c(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&t.slidePrev()}function l(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&t.slideNext()}function u(){const e=t.params.navigation;if(t.params.navigation=re(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;const n=s(e.nextEl),r=s(e.prevEl);n&&n.length>0&&n.on("click",l),r&&r.length>0&&r.on("click",c),Object.assign(t.navigation,{$nextEl:n,nextEl:n&&n[0],$prevEl:r,prevEl:r&&r[0]}),t.enabled||(n&&n.addClass(e.lockClass),r&&r.addClass(e.lockClass))}function d(){const{$nextEl:e,$prevEl:n}=t.navigation;e&&e.length&&(e.off("click",l),e.removeClass(t.params.navigation.disabledClass)),n&&n.length&&(n.off("click",c),n.removeClass(t.params.navigation.disabledClass))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},r("init",(()=>{u(),a()})),r("toEdge fromEdge lock unlock",(()=>{a()})),r("destroy",(()=>{d()})),r("enable disable",(()=>{const{$nextEl:e,$prevEl:n}=t.navigation;e&&e[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),n&&n[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)})),r("click",((e,n)=>{const{$nextEl:r,$prevEl:s}=t.navigation,o=n.target;if(t.params.navigation.hideOnClick&&!y(o).is(s)&&!y(o).is(r)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===o||t.pagination.el.contains(o)))return;let e;r?e=r.hasClass(t.params.navigation.hiddenClass):s&&(e=s.hasClass(t.params.navigation.hiddenClass)),i(!0===e?"navigationShow":"navigationHide"),r&&r.toggleClass(t.params.navigation.hiddenClass),s&&s.toggleClass(t.params.navigation.hiddenClass)}})),Object.assign(t.navigation,{update:a,init:u,destroy:d})}function se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return`.${e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function oe(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const s="swiper-pagination";let o;n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`}}),t.pagination={el:null,$el:null,bullets:[]};let a=0;function c(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||0===t.pagination.$el.length}function l(e,n){const{bulletActiveClass:r}=t.params.pagination;e[n]().addClass(`${r}-${n}`)[n]().addClass(`${r}-${n}-${n}`)}function u(){const e=t.rtl,n=t.params.pagination;if(c())return;const r=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,s=t.pagination.$el;let u;const d=t.params.loop?Math.ceil((r-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(u=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),u>r-1-2*t.loopedSlides&&(u-=r-2*t.loopedSlides),u>d-1&&(u-=d),u<0&&"bullets"!==t.params.paginationType&&(u=d+u)):u="undefined"!==typeof t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===n.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const r=t.pagination.bullets;let i,c,d;if(n.dynamicBullets&&(o=r.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),s.css(t.isHorizontal()?"width":"height",o*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==t.previousIndex&&(a+=u-(t.previousIndex-t.loopedSlides||0),a>n.dynamicMainBullets-1?a=n.dynamicMainBullets-1:a<0&&(a=0)),i=Math.max(u-a,0),c=i+(Math.min(r.length,n.dynamicMainBullets)-1),d=(c+i)/2),r.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${n.bulletActiveClass}${e}`)).join(" ")),s.length>1)r.each((e=>{const t=y(e),r=t.index();r===u&&t.addClass(n.bulletActiveClass),n.dynamicBullets&&(r>=i&&r<=c&&t.addClass(`${n.bulletActiveClass}-main`),r===i&&l(t,"prev"),r===c&&l(t,"next"))}));else{const e=r.eq(u),s=e.index();if(e.addClass(n.bulletActiveClass),n.dynamicBullets){const e=r.eq(i),o=r.eq(c);for(let t=i;t<=c;t+=1)r.eq(t).addClass(`${n.bulletActiveClass}-main`);if(t.params.loop)if(s>=r.length){for(let e=n.dynamicMainBullets;e>=0;e-=1)r.eq(r.length-e).addClass(`${n.bulletActiveClass}-main`);r.eq(r.length-n.dynamicMainBullets-1).addClass(`${n.bulletActiveClass}-prev`)}else l(e,"prev"),l(o,"next");else l(e,"prev"),l(o,"next")}}if(n.dynamicBullets){const i=Math.min(r.length,n.dynamicMainBullets+4),s=(o*i-o)/2-d*o,a=e?"right":"left";r.css(t.isHorizontal()?a:"top",`${s}px`)}}if("fraction"===n.type&&(s.find(se(n.currentClass)).text(n.formatFractionCurrent(u+1)),s.find(se(n.totalClass)).text(n.formatFractionTotal(d))),"progressbar"===n.type){let e;e=n.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const r=(u+1)/d;let i=1,o=1;"horizontal"===e?i=r:o=r,s.find(se(n.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${i}) scaleY(${o})`).transition(t.params.speed)}"custom"===n.type&&n.renderCustom?(s.html(n.renderCustom(t,u+1,d)),i("paginationRender",s[0])):i("paginationUpdate",s[0]),t.params.watchOverflow&&t.enabled&&s[t.isLocked?"addClass":"removeClass"](n.lockClass)}function d(){const e=t.params.pagination;if(c())return;const n=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,r=t.pagination.$el;let s="";if("bullets"===e.type){let i=t.params.loop?Math.ceil((n-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&i>n&&(i=n);for(let n=0;n<i;n+=1)e.renderBullet?s+=e.renderBullet.call(t,n,e.bulletClass):s+=`<${e.bulletElement} class="${e.bulletClass}"></${e.bulletElement}>`;r.html(s),t.pagination.bullets=r.find(se(e.bulletClass))}"fraction"===e.type&&(s=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`,r.html(s)),"progressbar"===e.type&&(s=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`,r.html(s)),"custom"!==e.type&&i("paginationRender",t.pagination.$el[0])}function p(){t.params.pagination=re(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let n=y(e.el);0!==n.length&&(t.params.uniqueNavElements&&"string"===typeof e.el&&n.length>1&&(n=t.$el.find(e.el),n.length>1&&(n=n.filter((e=>y(e).parents(".swiper")[0]===t.el)))),"bullets"===e.type&&e.clickable&&n.addClass(e.clickableClass),n.addClass(e.modifierClass+e.type),n.addClass(e.modifierClass+t.params.direction),"bullets"===e.type&&e.dynamicBullets&&(n.addClass(`${e.modifierClass}${e.type}-dynamic`),a=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&n.addClass(e.progressbarOppositeClass),e.clickable&&n.on("click",se(e.bulletClass),(function(e){e.preventDefault();let n=y(this).index()*t.params.slidesPerGroup;t.params.loop&&(n+=t.loopedSlides),t.slideTo(n)})),Object.assign(t.pagination,{$el:n,el:n[0]}),t.enabled||n.addClass(e.lockClass))}function h(){const e=t.params.pagination;if(c())return;const n=t.pagination.$el;n.removeClass(e.hiddenClass),n.removeClass(e.modifierClass+e.type),n.removeClass(e.modifierClass+t.params.direction),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&n.off("click",se(e.bulletClass))}r("init",(()=>{p(),d(),u()})),r("activeIndexChange",(()=>{(t.params.loop||"undefined"===typeof t.snapIndex)&&u()})),r("snapIndexChange",(()=>{t.params.loop||u()})),r("slidesLengthChange",(()=>{t.params.loop&&(d(),u())})),r("snapGridLengthChange",(()=>{t.params.loop||(d(),u())})),r("destroy",(()=>{h()})),r("enable disable",(()=>{const{$el:e}=t.pagination;e&&e[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)})),r("lock unlock",(()=>{u()})),r("click",((e,n)=>{const r=n.target,{$el:s}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&s.length>0&&!y(r).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&r===t.navigation.nextEl||t.navigation.prevEl&&r===t.navigation.prevEl))return;const e=s.hasClass(t.params.pagination.hiddenClass);i(!0===e?"paginationShow":"paginationHide"),s.toggleClass(t.params.pagination.hiddenClass)}})),Object.assign(t.pagination,{render:d,update:u,init:p,destroy:h})}},68425:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromString:()=>i});var r=n(71124);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}},93314:(e,t,n)=>{"use strict";n.r(t),n.d(t,{toString:()=>i});var r=n(71124);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}}}]);
//# sourceMappingURL=vendors-node_modules_dnd-kit_sortable_dist_sortable_esm_js-node_modules_sentre_antd-ionicon_d-8de5b2.e87d6d53.chunk.js.map