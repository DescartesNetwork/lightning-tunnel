(globalThis.webpackChunklightning_tunnel=globalThis.webpackChunklightning_tunnel||[]).push([["src_bootstrap_app_tsx-src_static_base_example_csv-src_static_images_background-LT_png","_18f2-_0b7d-_25ed-_8131-_3fc0-_e4dd-_7bec-_ec71-_df0e-_887c-_c738-_9820-_7d1a-_b254-_ed1b-_d1-147343"],{98463:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ReactComponent:()=>o,default:()=>d});var n,i,r,a=s(92950);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(this,arguments)}function c(e,t){let{title:s,titleId:c,...o}=e;return a.createElement("svg",l({width:96,height:96,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},o),s?a.createElement("title",{id:c},s):null,n||(n=a.createElement("rect",{width:96,height:96,rx:24,fill:"#42E6EB"})),i||(i=a.createElement("path",{d:"M35.528 47.6849L67.0423 15.9004L67.9877 15L52.1855 40.4816L61.1896 39.0409L48.809 54.2128L57.4079 53.9427L29 81L41.3356 61.4161L33.9523 61.7763L44.1719 46.9195L35.528 47.6849Z",fill:"#233333"})),r||(r=a.createElement("path",{opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M48 74C62.3594 74 74 62.3594 74 48C74 40.004 70.3905 32.851 64.7119 28.0816L66.8996 24.7006C73.6723 30.2011 78 38.5951 78 48C78 64.5685 64.5685 78 48 78C44.7357 78 41.5931 77.4786 38.6511 76.5146L42.0603 73.3184C43.968 73.7642 45.9565 74 48 74ZM32.8095 69.1033C26.262 64.382 22 56.6887 22 48C22 33.6406 33.6406 22 48 22C50.4385 22 52.7986 22.3357 55.0366 22.9634L58.2158 19.7842C55.0272 18.6296 51.5871 18 48 18C31.4315 18 18 31.4315 18 48C18 58.0387 22.9307 66.9258 30.5025 72.3715L32.8095 69.1033Z",fill:"#233333"})))}const o=a.forwardRef(c),d=s.p+"static/media/logo.edd6e68b96629106774ae0fdbf3926d7.svg"},45597:(e,t,s)=>{"use strict";Object.defineProperty(t,"X$",{value:!0}),Object.defineProperty(t,"jY",{enumerable:!0,get:function(){return r.default}}),t.h0=void 0,Object.defineProperty(t,"ng",{enumerable:!0,get:function(){return a.default}});var n=l(s(70854)),i=l(s(27803)),r=l(s(98463)),a=l(s(83272));function l(e){return e&&e.__esModule?e:{default:e}}const c=[n.default,i.default];t.h0=c},49286:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Page:()=>Ot,__esModule:()=>It.X$,logo:()=>It.jY,panels:()=>It.h0,readme:()=>It.ng});var n=s(55754),i=s(44490),r=s(92950),a=s(45055),l=s(94751),c=s(69716),o=s(95418),d=s(19289);let u,p,h;!function(e){e[e.auto=1]="auto",e[e.manual=2]="manual"}(u||(u={})),function(e){e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three"}(p||(p={})),function(e){e.activeKey="collapse-upload-csv"}(h||(h={}));const x="steps",j={step:p.one},m=(0,d.createAsyncThunk)("steps/onSelectStep",(async e=>({step:e}))),y=(0,d.createSlice)({name:x,initialState:j,reducers:{},extraReducers:e=>{e.addCase(m.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,g="main",f={methodSelected:void 0,mintSelected:"",visible:!1,isTyping:!1},b=(0,d.createAsyncThunk)("main/onSelectMethod",(async e=>({methodSelected:e}))),C=(0,d.createAsyncThunk)("main/onSelectedMint",(async e=>({mintSelected:e}))),w=(0,d.createAsyncThunk)("main/setVisible",(async e=>({visible:e}))),v=(0,d.createAsyncThunk)("main/setIsTyping",(async e=>({isTyping:e}))),S=(0,d.createSlice)({name:g,initialState:f,reducers:{},extraReducers:e=>{e.addCase(b.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(C.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(w.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(v.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,k="recipients",T=(0,d.createAsyncThunk)("recipients/addRecipients",(async e=>{let{recipients:t}=e;return{recipients:t}})),A=(0,d.createAsyncThunk)("recipients/addRecipient",(async(e,t)=>{let{recipient:s}=e,{getState:n}=t;const{recipients:{recipients:i}}=n(),r=[...i];return r.push(s),{recipients:r}})),R=(0,d.createAsyncThunk)("recipients/removeRecipients",(async()=>({recipients:[]}))),B=(0,d.createAsyncThunk)("recipients/removeRecipient",(async(e,t)=>{let{recipient:s}=e,{getState:n}=t;const{recipients:{recipients:i}}=n(),r=[...i],a=r.indexOf(s);return a>-1&&r.splice(a,1),{recipients:r}})),D=(0,d.createAsyncThunk)("recipients/setErrorDatas",(async e=>{let{errorData:t}=e;return{errorData:t}})),N=(0,d.createSlice)({name:k,initialState:{recipients:[],errorData:[]},reducers:{},extraReducers:e=>{e.addCase(T.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(A.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(R.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(D.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(B.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,E=()=>{const{recipients:{recipients:e},setting:{decimal:t}}=(0,n.useSelector)((e=>e));return{amountError:(0,r.useMemo)((()=>{for(const[s,n]of e){if(!o.account.isAddress(s))return!0;if(!t&&Number(n)%1!==0)return!0}return!1}),[t,e])}},z=e=>{const[t,s]=(0,r.useState)(void 0),{getDecimals:n}=(0,i.useMint)(),a=(0,r.useCallback)((async()=>{try{const t=await n(e);return s(t)}catch(t){return s(void 0)}}),[e,n]);return(0,r.useEffect)((()=>{a()}),[a]),t},I=(e,t,s)=>o.account.isAddress(e)&&void 0!==t&&void 0!==s?{mintAddress:e,amount:t,decimals:s,balance:Number(o.utils.undecimalize(t,s))}:{amount:BigInt(0),decimals:0,balance:0},M=e=>{const{wallet:{address:t,lamports:s}}=(0,i.useWallet)(),{accounts:n}=(0,i.useAccount)(),{amount:r,mint:a}=n[e]||{},l=z(a)||0;return o.account.isAddress(t)&&o.account.isAddress(e)?e===t?I(o.DEFAULT_EMPTY_ADDRESS,s,9):I(a,r,l):I()},O=e=>{const[t,s]=(0,r.useState)(""),{wallet:{address:n}}=(0,i.useWallet)(),a=M(t);return(0,r.useEffect)((()=>{(async()=>{if(!o.account.isAddress(n)||!o.account.isAddress(e))return s("");const{sentre:{splt:t}}=window;try{const i=await t.deriveAssociatedAddress(n,e);s(i)}catch(i){return s("")}})()})),a},_=()=>{const{main:{mintSelected:e},recipients:{recipients:t,errorData:s},setting:{decimal:i}}=(0,n.useSelector)((e=>e)),a=z(e)||0,l=(0,r.useCallback)((e=>{if(!e.length||!a)return BigInt(0);let t=BigInt(0);for(const s of e){const e=s[1];i?t+=o.utils.decimalize(e,a):Number(e)%1===0&&(t+=BigInt(e))}return t}),[i,a]),c=s.filter((e=>!e.includes("")&&o.account.isAddress(e[0]))),d=l(t)+l(c),u=c.length,p=(0,r.useMemo)((()=>t.length),[t]);return{total:o.utils.undecimalize(d,a).toString(),quantity:p+u}},Z=e=>{const{balance:t}=O(e),{total:s}=_();return(0,r.useMemo)((()=>t?t-Number(s):0),[t,s])};var P=s(45263);const L=()=>{const e=(0,n.useDispatch)(),{recipients:{recipients:t,errorData:s},main:{isTyping:i,mintSelected:a}}=(0,n.useSelector)((e=>e)),{amountError:c}=E(),d=Z(a),u=(0,r.useMemo)((()=>{if(!s)return!1;for(const[e,t]of s)if(!o.account.isAddress(e)||!t)return!0;return!1}),[s]),h=!t.length||c||u||i||d<0,x=(0,r.useCallback)((async()=>{await e(b()),e(R()),e(m(p.one))}),[e]);return(0,P.jsxs)(l.Row,{gutter:[16,16],children:[(0,P.jsx)(l.Col,{span:12,children:(0,P.jsx)(l.Button,{type:"ghost",size:"large",onClick:x,block:!0,children:"Back"})}),(0,P.jsx)(l.Col,{span:12,children:(0,P.jsx)(l.Button,{size:"large",onClick:()=>e(m(p.three)),type:"primary",disabled:h,block:!0,children:"Continue"})})]})};var U=s(24656),F=s.n(U),Y=s(18268),W=s.n(Y),K=s(84354);const H=e=>{let{visible:t,setVisible:s,title:n,description:i,onConfirm:r,onCancel:a,btnText:o}=e;return(0,P.jsx)(l.Modal,{visible:t,closeIcon:(0,P.jsx)(c.Z,{name:"close-outline"}),onCancel:()=>s(!1),footer:null,className:"card-lightning",style:{paddingBottom:0},children:(0,P.jsxs)(l.Row,{gutter:[32,32],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Space,{size:15,align:"baseline",children:[(0,P.jsx)(c.Z,{name:"alert-circle-outline",style:{color:"#FA8C16",fontSize:18}}),(0,P.jsxs)(l.Space,{size:4,direction:"vertical",children:[(0,P.jsx)(l.Typography.Text,{children:n}),(0,P.jsx)(l.Typography.Text,{type:"secondary",children:i})]})]})}),(0,P.jsx)(l.Col,{span:24,style:{textAlign:"right"},children:(0,P.jsxs)(l.Space,{children:[(0,P.jsx)(l.Button,{onClick:a,type:"ghost",children:"cancel"}),(0,P.jsx)(l.Button,{onClick:r,type:"primary",children:o})]})})]})})},J="file",$=(0,d.createAsyncThunk)("file/setFileName",(async e=>({fileName:e}))),Q=(0,d.createAsyncThunk)("file/onSelectedFile",(async(e,t)=>{let{checked:s,index:n}=e,{getState:i}=t;const{file:{selectedFile:r},recipients:{recipients:a,errorData:l}}=i();if(void 0===n){const e=[...a],t=[...l||[]];if(!s)return{selectedFile:[]};const n=[];for(const s in e)n.push(Number(s));for(const s in t)n.push(e.length+Number(s));return{selectedFile:n}}const c=[...r];if(s)c.push(n);else{const e=c.indexOf(n);c.splice(e,1)}return{selectedFile:c}})),V=(0,d.createAsyncThunk)("file/removeSelectedFile",(async()=>({selectedFile:[]}))),X=(0,d.createSlice)({name:J,initialState:{fileName:"",selectedFile:[]},reducers:{},extraReducers:e=>{e.addCase($.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(Q.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(V.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,q={walletAddress:"",amount:""},G=e=>{let{walletAddress:t,addNewRecipient:s,remove:n}=e;return(0,P.jsx)(r.Fragment,{children:t?(0,P.jsx)(l.Button,{type:"text",size:"small",style:{padding:0},onClick:n,icon:(0,P.jsx)(c.Z,{style:{fonSize:20},name:"trash-outline"})}):(0,P.jsx)(l.Button,{type:"text",size:"small",style:{padding:0,color:"#42E6EB"},onClick:s,children:"OK"})})},ee=e=>{let{walletAddress:t,amount:s,index:i,isSelect:a=!1}=e;const[d,u]=(0,r.useState)(q),[p,h]=(0,r.useState)(""),[x,j]=(0,r.useState)(""),[m,y]=(0,r.useState)(!1),{main:{mintSelected:g},recipients:{recipients:f},setting:{decimal:b},file:{selectedFile:C}}=(0,n.useSelector)((e=>e)),w=(0,n.useDispatch)(),S=z(g)||0,k=(0,r.useCallback)((async()=>o.account.isAddress(t)&&s?u({walletAddress:t,amount:s}):u(q)),[t,s]),R=(0,r.useCallback)((()=>{if(!s&&!t)return d.walletAddress||d.amount?w(v(!0)):w(v(!1))}),[s,w,d.amount,d.walletAddress,t]),D=(0,r.useCallback)((()=>{if(s)return b?h(""):Number(s)%1!==0?h("Should be natural numbers"):void 0}),[s,b]),N=!!t;return(0,r.useEffect)((()=>{k()}),[k]),(0,r.useEffect)((()=>{D()}),[D]),(0,r.useEffect)((()=>{R()}),[R]),(0,P.jsxs)(l.Row,{gutter:[8,8],align:"middle",justify:"space-between",children:[a&&(0,P.jsx)(l.Col,{children:(0,P.jsx)(l.Checkbox,{checked:null===C||void 0===C?void 0:C.includes(i),onChange:e=>((e,t)=>w(Q({checked:e,index:t})))(e.target.checked,i)})}),(0,P.jsx)(l.Col,{span:16,children:(0,P.jsx)(l.Input,{disabled:N,value:d.walletAddress,name:"walletAddress",placeholder:"Wallet address",onChange:e=>{u({...d,[e.target.name]:e.target.value})},className:"recipient-input",autoComplete:"off"})}),(0,P.jsx)(l.Col,{span:6,children:(0,P.jsx)(K.Z,{disabled:N,value:s||d.amount,name:"amount",placeholder:"Amount",onChange:e=>u({...d,amount:e}),className:p?"recipient-input-error":"recipient-input",autoComplete:"off"})}),!a&&(0,P.jsx)(l.Col,{children:(0,P.jsx)(G,{addNewRecipient:async()=>{const{walletAddress:e,amount:t}=d;if(!o.account.isAddress(e))return j("Wrong wallet address");if(!t)return h("Amount cannot be empty");for(const[n]of f)if(e===n)return y(!0);const s=[e,t];return j(""),h(""),await w(A({recipient:s})),u(q)},walletAddress:t,remove:()=>{if(void 0===i)return;const e=[...f];return e.splice(i,1),w(T({recipients:e}))}})}),(x||p)&&(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Space,{children:[(0,P.jsx)(c.Z,{style:{color:"#f2323f"},name:"warning-outline"}),(0,P.jsx)(l.Typography.Text,{type:"danger",children:x||p})]})}),(0,P.jsx)(H,{title:"Do you want to merge wallet addresses?",description:"There are some wallet addresses that are the same.",btnText:"merge",onConfirm:async()=>{const{walletAddress:e,amount:t}=d,s=f.find((t=>{let[s]=t;return s===e}));if(!s||!S)return;const n=o.utils.decimalize(s[1],S)+o.utils.decimalize(t,S),i=[e,o.utils.undecimalize(n,S)];return await w(B({recipient:s})),await w(A({recipient:i})),await y(!1),(p||x)&&(h(""),j("")),u(q)},visible:m,setVisible:y,onCancel:()=>y(!1)})]})},te=[void 0],se=e=>{let{mintAddress:t,size:s=24,icon:n=(0,P.jsx)(c.Z,{name:"diamond-outline"}),reversed:a=!1,...d}=e;const[u,p]=(0,r.useState)(te),{tokenProvider:h}=(0,i.useMint)(),{pools:x}=(0,i.usePool)(),j=(0,r.useCallback)((async e=>{const t=await h.findByAddress(e);if(null!==t&&void 0!==t&&t.logoURI)return t.logoURI}),[h]),m=(0,r.useCallback)((async()=>{if(!o.account.isAddress(t))return p(te);const e=Object.values(x||{}).find((e=>{let{mint_lpt:s}=e;return s===t}));if(e){const{mint_a:t,mint_b:s}=e,n=await Promise.all([t,s].map(j));return a&&n.reverse(),p(n)}const s=await j(t);return p([s])}),[t,a,j,x]);return(0,r.useEffect)((()=>{m()}),[m]),1===u.length?(0,P.jsx)(l.Avatar,{src:u[0],size:s,style:{backgroundColor:"#2D3355",border:"none"},...d,children:n}):(0,P.jsx)(l.Avatar.Group,{style:{display:"block",whiteSpace:"nowrap"},...d,children:u.map(((e,t)=>(0,P.jsx)(l.Avatar,{src:e,size:s,style:{backgroundColor:"#2D3355",border:"none"},children:n},t)))})},ne="TOKN",ie=e=>{let{mintAddress:t,separator:s=" \u2022 ",reversed:n=!1}=e;const[a,l]=(0,r.useState)(ne),{tokenProvider:c}=(0,i.useMint)(),{pools:d}=(0,i.usePool)(),u=(0,r.useCallback)((async e=>{const t=await c.findByAddress(e);return null!==t&&void 0!==t&&t.symbol?t.symbol:e.substring(0,4)}),[c]),p=(0,r.useCallback)((async()=>{if(!o.account.isAddress(t))return l(ne);const e=Object.values(d||{}).find((e=>{let{mint_lpt:s}=e;return s===t}));if(e){const{mint_a:t,mint_b:i}=e,r=await Promise.all([t,i].map(u));return n&&r.reverse(),l(r.join(s))}const i=await u(t);return l(i)}),[t,n,u,d,s]);return(0,r.useEffect)((()=>{p()}),[p]),(0,P.jsx)("span",{children:a})};s(58421);s(7726);i.net;const re=e=>{let{label:t,value:s}=e;return(0,P.jsxs)(l.Row,{children:[(0,P.jsx)(l.Col,{flex:"auto",children:(0,P.jsx)(l.Typography.Text,{type:"secondary",children:t})}),(0,P.jsx)(l.Col,{children:s})]})},ae=()=>{const{main:{mintSelected:e}}=(0,n.useSelector)((e=>e)),{total:t,quantity:s}=_(),{balance:r}=O(e),a=Z(e);return(0,P.jsxs)(l.Row,{gutter:[8,8],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(re,{label:"Quantity",value:(0,P.jsx)(l.Typography.Text,{children:s})})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(re,{label:"Total",value:(0,P.jsxs)(l.Space,{size:4,children:[(0,P.jsx)(l.Typography.Title,{level:5,children:t}),(0,P.jsx)(l.Typography.Title,{level:5,children:(0,P.jsx)(ie,{mintAddress:e})})]})})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(re,{label:"Your balance",value:(0,P.jsxs)(l.Space,{size:4,children:[(0,P.jsx)(l.Typography.Text,{children:i.util.numeric(r).format("0,0.00[0000]")}),(0,P.jsx)(l.Typography.Text,{children:(0,P.jsx)(ie,{mintAddress:e})})]})})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(re,{label:"Remaining",value:(0,P.jsxs)(l.Space,{size:4,children:[(0,P.jsx)(l.Typography.Text,{children:i.util.numeric(a).format("0,0.00[0000]")}),(0,P.jsx)(l.Typography.Text,{children:(0,P.jsx)(ie,{mintAddress:e})})]})})})]})},le=()=>(0,P.jsx)(l.Card,{bordered:!1,style:{borderRadius:8,boxShadow:"unset"},bodyStyle:{padding:"12px 16px"},className:"card-total",children:(0,P.jsx)(ae,{})}),ce=e=>{let{selected:t=!1,onChecked:s=(()=>{})}=e;const{recipients:{errorData:i}}=(0,n.useSelector)((e=>e));return(0,P.jsxs)(l.Row,{gutter:[16,8],align:"middle",wrap:!1,justify:"space-between",children:[(0,P.jsx)(l.Col,{span:3,children:(0,P.jsxs)(l.Space,{children:[t&&(0,P.jsx)(l.Checkbox,{className:"lightning-checkbox",onChange:e=>s(e.target.checked)}),(0,P.jsx)(l.Typography.Text,{type:"secondary",children:"No."})]})}),(0,P.jsx)(l.Col,{span:12,children:(0,P.jsx)(l.Typography.Text,{type:"secondary",children:"Wallet address"})}),(0,P.jsx)(l.Col,{span:6,children:(0,P.jsx)(l.Typography.Text,{type:"secondary",children:"Amount"})}),!!i.length&&(0,P.jsx)(l.Col,{span:3})]})},oe=e=>{let{editable:t=!1,wrongAddress:s=!1}=e;return s?(0,P.jsx)(l.Tooltip,{title:"Wrong wallet address!",placement:"topLeft",arrowPointAtCenter:!0,children:(0,P.jsx)(c.Z,{name:"close-circle-outline",style:{color:"#d72311"}})}):t?(0,P.jsx)(l.Tooltip,{title:"Invalid  amount!",placement:"topLeft",arrowPointAtCenter:!0,children:(0,P.jsx)(c.Z,{name:"warning-outline",style:{color:"#d72311"}})}):(0,P.jsx)(c.Z,{name:"checkmark-outline",style:{color:"#03A326"}})},de=e=>{let{wrongAddress:t=!1,isEdited:s=!1,onEdited:n=(()=>{}),onUpdate:i=(()=>{}),onDelete:r=(()=>{})}=e;return t?(0,P.jsx)(l.Button,{type:"text",icon:(0,P.jsx)(c.Z,{name:"trash-outline"}),onClick:r}):s?(0,P.jsx)(l.Button,{type:"text",icon:(0,P.jsx)(c.Z,{name:"cloud-upload-outline"}),onClick:i}):(0,P.jsx)(l.Button,{type:"text",icon:(0,P.jsx)(c.Z,{name:"create-outline"}),onClick:()=>n(!0)})},ue=(0,r.forwardRef)(((e,t)=>{let{accountAddress:s="",amount:a=0,selected:c=!1,onChecked:d=(()=>{}),index:u}=e;const p=(0,n.useDispatch)(),[h,x]=(0,r.useState)(!1),[j,m]=(0,r.useState)(""),{recipients:{errorData:y,recipients:g},file:{selectedFile:f},setting:{decimal:b}}=(0,n.useSelector)((e=>e)),C=(0,r.useRef)(t),w=!a,v=!o.account.isAddress(s),S=h?j:a,k=u-g.length,T=(0,r.useCallback)((()=>{if(!y.length||u-y.length<0)return;const e=[...y],[[t]]=e.splice(k,1);e.unshift([t,j]),p(D({errorData:e}))}),[p,y,k,u,j]),A=(0,r.useCallback)((async()=>{if(!y.length)return;const e=[...y];e.splice(k,1),p(D({errorData:e}))}),[p,y,k]),R=(0,r.useMemo)((()=>!!S&&(!b&&Number(a)%1!==0)),[a,S,b]);return(0,P.jsxs)(l.Row,{gutter:[16,8],align:"middle",justify:"space-between",wrap:!1,children:[(0,P.jsx)(l.Col,{span:3,children:(0,P.jsxs)(l.Space,{children:[c&&(0,P.jsx)(l.Checkbox,{checked:null===f||void 0===f?void 0:f.includes(u),onChange:e=>d(e.target.checked,u),className:"lightning-checkbox"}),(0,P.jsxs)(l.Typography.Text,{type:"secondary",children:["#",u+1]})]})}),(0,P.jsx)(l.Col,{span:12,children:(0,P.jsx)(l.Tooltip,{title:s,children:(0,P.jsx)(l.Typography.Text,{style:{color:v?"#F9575E":""},children:i.util.shortenAddress(s)})})}),(0,P.jsx)(l.Col,{span:6,children:(0,P.jsx)(K.Z,{value:S,bordered:h,onChange:m,disabled:!h,style:{padding:0},className:R?"recipient-input-error":"recipient-input-auto",ref:C})}),!!y.length&&(0,P.jsx)(l.Col,{span:3,children:w&&(0,P.jsxs)(l.Space,{align:"center",children:[(0,P.jsx)(oe,{editable:w,wrongAddress:v}),(0,P.jsx)(de,{isEdited:h,wrongAddress:v,onEdited:e=>{x(e),C.current&&C.current.focus()},onUpdate:T,onDelete:A})]})})]})})),pe=e=>{let{activeKey:t="",selected:s=!1,onSelect:n,onCollapsed:i}=e;return s?(0,P.jsx)(l.Button,{type:"text",size:"small",onClick:()=>n(!1),children:"Cancel"}):t?(0,P.jsx)(l.Button,{type:"text",size:"small",onClick:()=>i(""),children:"Close"}):(0,P.jsxs)(l.Space,{size:24,children:[(0,P.jsx)(l.Button,{type:"text",size:"small",onClick:()=>n(!0),children:"SELECT"}),(0,P.jsx)(l.Button,{type:"text",size:"small",onClick:()=>i(h.activeKey),style:{color:"#42E6EB"},children:"ADD MORE"})]})},he=e=>{let{remove:t=(()=>{})}=e;const[s,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(),[d,u]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),j=(0,n.useDispatch)(),{file:{fileName:m,selectedFile:y},recipients:{recipients:g,errorData:f}}=(0,n.useSelector)((e=>e)),{amountError:b}=E(),C=(e,t)=>j(Q({checked:e,index:t}));return(0,P.jsxs)(l.Row,{gutter:[16,16],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Card,{className:"file-uploaded",bodyStyle:{padding:"8px 16px"},children:(0,P.jsxs)(l.Row,{gutter:8,children:[(0,P.jsx)(l.Col,{flex:"auto",children:(0,P.jsxs)(l.Space,{children:[(0,P.jsx)(c.Z,{name:"document-attach-outline"}),(0,P.jsx)(l.Typography.Text,{style:{color:"inherit"},children:m})]})}),(0,P.jsx)(l.Col,{children:(0,P.jsx)(l.Button,{type:"text",size:"small",style:{color:"inherit"},icon:(0,P.jsx)(c.Z,{name:"close-outline"}),onClick:()=>x(!0)})})]})})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Row,{gutter:[12,12],children:[(0,P.jsx)(l.Col,{flex:"auto",children:s&&(0,P.jsx)(l.Space,{children:(0,P.jsx)(l.Button,{type:"text",size:"small",icon:(0,P.jsx)(c.Z,{name:"trash-outline"}),onClick:()=>{if(null===y||void 0===y||!y.length)return;u(!0);const e=[...g],t=[...f||[]],s=e.filter(((e,t)=>!y.includes(t))),n=t.filter(((e,t)=>!y.includes(g.length+t)));j(D({errorData:n})),j(T({recipients:s})),j(V()),u(!1),i(!1)},disabled:!(null!==y&&void 0!==y&&y.length),children:"Delete"})})}),(0,P.jsx)(l.Col,{children:(0,P.jsx)(pe,{activeKey:a,selected:s,onSelect:i,onCollapsed:o})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Collapse,{activeKey:a,bordered:!1,className:"auto-add-new",children:(0,P.jsx)(l.Collapse.Panel,{header:void 0,children:(0,P.jsx)(ee,{})},h.activeKey)})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Spin,{spinning:d,children:(0,P.jsx)(l.Card,{bordered:!1,className:"card-content",children:(0,P.jsxs)(l.Row,{gutter:[8,13],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(ce,{selected:s,onChecked:e=>j(Q({checked:e}))})}),f.map(((e,t)=>{let[n,i]=e;return(0,P.jsx)(l.Col,{span:24,className:t+1===f.length?"last-item-error-data":"",children:(0,P.jsx)(ue,{accountAddress:n,amount:i,selected:s,onChecked:C,index:g.length+t})},n+t)})),g.map(((e,t)=>{let[n,i]=e;return(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(ue,{accountAddress:n,amount:i,selected:s,onChecked:C,index:t})},n+t)}))]})})})}),b&&(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Space,{size:12,children:[(0,P.jsx)(c.Z,{style:{color:"#F9575E"},name:"warning-outline"}),(0,P.jsx)(l.Typography.Text,{style:{color:"#F9575E"},children:"Should be natural numbers"})]})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(ae,{})})]})}),(0,P.jsx)(H,{title:"Do you want to delete this file? ",description:"Data will not be saved.",visible:p,setVisible:x,onConfirm:t,onCancel:()=>x(!1),btnText:"delete"})]})};const xe=s.p+"static/media/icon-upload.a3c69638b092ea112d393cdc3d63d2c4.svg",je=s.p+"static/media/example.5ac7e1383bf101857b35.csv",me=()=>{const e=(0,n.useDispatch)(),[t,s]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),[d,u]=(0,r.useState)({}),{recipients:{recipients:p},main:{mintSelected:h}}=(0,n.useSelector)((e=>e)),x=z(h)||0,j=(0,r.useCallback)((e=>({errorData:e.filter((e=>e.includes("")||!o.account.isAddress(e[0]))),successData:e.filter((e=>!e.includes("")&&o.account.isAddress(e[0])))})),[]),m=(0,r.useCallback)((async t=>{s(!0);const n=await(e=>new Promise(((t,s)=>F().parse(e,{skipEmptyLines:!0,complete:e=>{let{data:s}=e;return t(s)}}))))(t),{errorData:i,successData:r}=await j(n);if(i&&e(D({errorData:i})),!x)return;const l={};let c=!1;for(const[e,s]of r)if(l[e]){c=!0;const[t,n]=l[e],i=o.utils.decimalize(n,x)+o.utils.decimalize(s,x);l[e]=[t,o.utils.undecimalize(i,x)]}else l[e]=[e,s];return c?(u(l),s(!1),a(!0),e($(t.name)),!0):(e($(t.name)),e(T({recipients:r})),s(!1),a(!1),!1)}),[j,e,x]),y=async()=>(e(R()),u({}),!0);return p.length?(0,P.jsx)(he,{remove:y}):(0,P.jsxs)(l.Row,{gutter:[8,8],justify:"end",children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Spin,{spinning:t,children:(0,P.jsx)(l.Upload.Dragger,{accept:".csv,.txt",beforeUpload:m,onRemove:y,maxCount:1,className:"upload-file",showUploadList:!0,progress:{strokeWidth:2,showInfo:!0},fileList:[],children:(0,P.jsxs)(l.Space,{direction:"vertical",size:24,align:"center",children:[(0,P.jsx)(l.Image,{src:xe,preview:!1}),(0,P.jsxs)(l.Space,{direction:"vertical",size:4,align:"center",children:[(0,P.jsx)(l.Typography.Text,{children:"Click or Drop file to upload"}),(0,P.jsxs)(l.Typography.Text,{type:"secondary",children:["The accepted file types are ",(0,P.jsx)("code",{children:".csv"}),","," ",(0,P.jsx)("code",{children:".txt"}),"."]})]})]})})})}),(0,P.jsx)(l.Col,{children:(0,P.jsx)(l.Button,{type:"text",style:{padding:0,background:"transparent",fontWeight:700},icon:(0,P.jsx)(c.Z,{name:"download-outline"}),onClick:async()=>{if(!je)return;const e=await(async e=>fetch(e).then((function(e){var t;let s=null===(t=e.body)||void 0===t?void 0:t.getReader(),n=new TextDecoder("utf-8");return null===s||void 0===s?void 0:s.read().then((function(e){return n.decode(e.value)}))})))(je)||"";W()(e,"example.csv")},children:"Download sample"})}),(0,P.jsx)(H,{title:"Do you want to merge wallet addresses?",description:"There are some wallet addresses that are the same.",visible:i,setVisible:a,onConfirm:()=>{const t=Object.values(d);return e(T({recipients:t})),a(!1)},onCancel:()=>{a(!1),e($("")),u({})},btnText:"merge"})]})},ye="setting",ge=(0,d.createAsyncThunk)("setting/setDecimal",(async e=>({decimal:e}))),fe=(0,d.createAsyncThunk)("setting/setEncryption",(async e=>({encryption:e}))),be=(0,d.createAsyncThunk)("setting/setDisabled",(async e=>({disabled:e}))),Ce=(0,d.createSlice)({name:ye,initialState:{decimal:!0,encryption:!1,disabled:!1},reducers:{},extraReducers:e=>{e.addCase(ge.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(fe.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(be.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,we=()=>{const e=(0,n.useDispatch)(),{main:{mintSelected:t},setting:{decimal:s,disabled:i}}=(0,n.useSelector)((e=>e)),r=z(t)||0;return(0,P.jsx)(l.Switch,{className:"decimal-switch",onChange:t=>{e(ge(t))},checkedChildren:r,unCheckedChildren:r,disabled:i,checked:s})},ve=()=>{const e=(0,n.useDispatch)();return(0,P.jsxs)(l.Row,{gutter:[8,8],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Space,{size:24,children:[(0,P.jsx)(we,{}),(0,P.jsx)(l.Typography.Text,{children:"Decimals"})]})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Space,{size:24,children:[(0,P.jsx)(l.Switch,{disabled:!0,onChange:t=>e(fe(t))}),(0,P.jsx)(l.Typography.Text,{children:"Encrypt confidential information"})]})})]})},Se=()=>(0,P.jsx)(l.Popover,{trigger:"click",placement:"bottom",title:null,content:(0,P.jsx)(ve,{}),children:(0,P.jsx)(l.Button,{type:"text",icon:(0,P.jsx)(c.Z,{name:"cog-outline"})})});var ke=s(4550),Te=s.n(ke),Ae=s(51518),Re=s.n(Ae);const Be=s.p+"static/media/twitter.9cbdafef0605b5c84ec56b271a60a6e8.svg",De=e=>{let{visible:t,redeemLink:s,onClose:n=(()=>{})}=e;const[a,o]=(0,r.useState)(!1);return(0,P.jsx)(l.Modal,{visible:t,closeIcon:(0,P.jsx)(c.Z,{name:"close-outline"}),onCancel:n,footer:null,className:"card-lightning",style:{paddingBottom:0},children:(0,P.jsxs)(l.Row,{gutter:[32,32],style:{textAlign:"center"},children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Image,{src:Be,preview:!1})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Space,{direction:"vertical",size:4,children:[(0,P.jsx)(l.Typography.Title,{level:3,children:"Share on Twitter!"}),(0,P.jsx)(l.Space,{size:4,children:(0,P.jsx)(l.Typography.Text,{type:"secondary",children:"Share this link so your recipients can get their tokens"})})]})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Row,{gutter:8,justify:"space-between",children:[(0,P.jsx)(l.Col,{className:"share-link",span:20,children:(0,P.jsx)(l.Typography.Text,{children:(e=>e.substring(0,40)+"...")(s)})}),(0,P.jsx)(l.Col,{span:4,children:(0,P.jsx)(l.Tooltip,{title:"Copied",visible:a,children:(0,P.jsx)(Re(),{text:s,children:(0,P.jsx)(l.Button,{size:"large",type:"ghost",onClick:async()=>{o(!0),await i.util.asyncWait(1500),o(!1)},children:"copy"})})})})]})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Button,{size:"large",type:"primary",block:!0,onClick:()=>{let e="http://twitter.com/intent/tweet?";const t={url:s,text:"Your prize has arrived! Redeem now at Sen Hub: "};for(const s in t)e+="&"+s+"="+encodeURIComponent(t[s]||"");window.open(e,"_blank")},children:"Share now"})})]})})};const Ne={appId:"lightning_tunnel",url:"https://descartesnetwork.github.io/lightning-tunnel/index.js"},Ee={development:{...Ne},staging:{...Ne},production:{...Ne}};var ze=s(97425),Ie=s(42224);const Me=class{constructor(){this._wallet=window.sentre.wallet,this._publicKey=new Ie.PublicKey("GuestAccount11111111111111111111111111111111"),this._init=async()=>{const e=await this._wallet.getAddress();this._publicKey=new Ie.PublicKey(e)},this.signTransaction=async e=>this._wallet.signTransaction(e),this.signAllTransactions=async e=>{let t=[];for(const s of e){const e=await this.signTransaction(s);t.push(e)}return t},this._init()}get publicKey(){return console.warn("This is an async getter for interface consistency. Please do not fully rely on this function."),this._publicKey}},Oe={devnet:{node:i.rpc,utility:new ze.Utility(new Me,i.rpc),fee:1e6,taxman:"8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D"},testnet:{node:i.rpc,utility:new ze.Utility(new Me,i.rpc),fee:1e6,taxman:"8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D"},mainnet:{node:i.rpc,utility:new ze.Utility(new Me,i.rpc),fee:1e6,taxman:"9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e"}},_e={manifest:Ee[i.env],sol:Oe[i.net]},{manifest:{appId:Ze}}=_e,Pe=e=>{let{distributorAddress:t}=e;const[s,n]=(0,r.useState)(!1),i=`${window.location.origin}/app/${Ze}/redeem/${t}?autoInstall=true`;return(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(l.Button,{onClick:()=>n(!0),type:"text",style:{color:"#42E6EB"},children:"share"}),(0,P.jsx)(De,{visible:s,onClose:()=>n(!1),redeemLink:i})]})},Le=e=>{let{total:t,mint:s}=e;const n=z(s)||0;return(0,P.jsx)(l.Typography.Text,{children:i.util.numeric(o.utils.undecimalize(BigInt(t),n)).format("0,0.[0000]")})},Ue=[{title:"TIME",dataIndex:"time",render:e=>(0,P.jsx)(l.Typography.Text,{children:Te()(e).format("MMM DD, YYYY HH:mm")})},{title:"TOKEN",dataIndex:"mint",render:e=>(0,P.jsxs)(l.Space,{children:[(0,P.jsx)(se,{mintAddress:e}),(0,P.jsx)(ie,{mintAddress:e})]})},{title:"AMOUNT",dataIndex:"total",render:(e,t)=>{let{mint:s}=t;return(0,P.jsx)(Le,{total:e,mint:s})}},{title:"ACTION",dataIndex:"distributorAddress",render:e=>(0,P.jsx)(Pe,{distributorAddress:e})}],Fe=()=>{const[e,t]=(0,r.useState)(600);return(0,r.useEffect)((()=>{if(0===e)return t(600);setTimeout((()=>{t(e-1)}),1e3)}),[e]),{timeRemaining:e}};var Ye=s(4272);const We=class{constructor(){this.provider=void 0,this.set=async e=>{const t=new File([JSON.stringify(e)],"file",{type:"application/json"});return await this.provider.put([t])},this.get=async e=>{const t=await this.provider.get(e),s=(await(null===t||void 0===t?void 0:t.files())||[])[0],n=new FileReader;return new Promise(((e,t)=>{try{if(!s)throw new Error("Cannot read empty file");n.onload=()=>{var t;const s=null===(t=n.result)||void 0===t?void 0:t.toString();if(!s)throw new Error("Cannot read empty file");return e(JSON.parse(s))},n.readAsText(s)}catch(i){return t(i.message)}}))},this.provider=new Ye.xk({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDg4MzdCZUI2ODM5MTcwODZjQUI3OTU0MzI3ZTgwOWU1ZTlCZTc2NTEiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NTU0NTU5NzI5MjAsIm5hbWUiOiJTZW50cmUifQ.Jf7oQOKMrBxp5morvs7DR_As4EU9Y5WybyuvY1teFN8"})}},Ke=()=>{const[e,t]=(0,r.useState)(!1),{history:s}=(0,n.useSelector)((e=>e)),{timeRemaining:i}=Fe(),a=(0,r.useCallback)((async()=>{if(600!==i)return;const e=new We;try{for(const{treeData:t}of s){if(!t)continue;const s=JSON.parse(JSON.stringify(t)).data;await e.set(s)}}catch(t){}}),[s,i]);return(0,r.useEffect)((()=>{a()}),[a]),(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(l.Button,{type:"text",icon:(0,P.jsx)(c.Z,{name:"document-text-outline"}),onClick:()=>t(!0)}),(0,P.jsx)(l.Modal,{visible:e,onCancel:()=>t(!1),closeIcon:(0,P.jsx)(c.Z,{name:"close-outline"}),footer:!1,className:"card-lightning",style:{paddingBottom:0},children:(0,P.jsxs)(l.Row,{gutter:[32,32],style:{maxHeight:500},className:"scrollbar",children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Typography.Title,{level:5,children:"Transfer history"})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Space,{align:"baseline",children:[(0,P.jsx)(c.Z,{name:"information-circle-outline"}),(0,P.jsx)(l.Typography.Text,{children:"The history of each transaction is saved only on the device where the transaction was made."})]})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Table,{columns:Ue,dataSource:s,pagination:!1,rowKey:e=>e.distributorAddress})})]})})]})},{manifest:{appId:He}}=_e;const Je=class{constructor(e,t){if(this.db=void 0,this.key=void 0,this.set=async e=>await this.db.setItem(this.key,e),this.get=async()=>await this.db.getItem(this.key)||[],this.update=async e=>{const t=await this.get(),s=t.findIndex((t=>t.distributorAddress===e.distributorAddress));return t[s]=e,this.set(t)},this.append=async e=>{const t=[e,...await this.get()];return this.set(t)},!e)throw new Error("Invalid key");if(this.key=e,!o.account.isAddress(t))throw new Error("Invalid wallet address");const s=(0,i.createPDB)(t,He);if(!s)throw new Error("Invalid storage");this.db=s}},$e="history",Qe=(0,d.createAsyncThunk)("history/getHistory",(async e=>{if(!o.account.isAddress(e))throw new Error("Wallet is not connected");const t=new Je("history",e);return await t.get()})),Ve=(0,d.createAsyncThunk)("history/setStateHistory",(async(e,t)=>{let{cid:s,state:n,walletAddress:i}=e,{getState:r}=t;const{history:a}=r(),l=[...a],c=l.find((e=>e.cid===s)),o=l.findIndex((e=>e.cid===s));l[o]={...c,state:n};return new Je("history",i).update({...c,state:n}),l})),Xe=(0,d.createSlice)({name:$e,initialState:[],reducers:{},extraReducers:e=>{e.addCase(Qe.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(Ve.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,qe=e=>{let{label:t=""}=e;const{step:s}=(0,n.useSelector)((e=>e.steps)),a=(0,n.useDispatch)(),{wallet:{address:c}}=(0,i.useWallet)(),o=(0,r.useMemo)((()=>s===p.two?p.two:s===p.three?p.three:p.one),[s]),d=(0,r.useMemo)((()=>s===p.three?p.three:p.two),[s]);return(0,r.useEffect)((()=>{a(Qe(c))}),[a,c]),(0,P.jsxs)(l.Row,{children:[(0,P.jsx)(l.Col,{flex:"auto",children:(0,P.jsxs)(l.Space,{direction:"vertical",size:12,children:[(0,P.jsx)(l.Radio.Group,{value:s,className:"steps",buttonStyle:"solid",children:(0,P.jsxs)(l.Space,{children:[(0,P.jsx)(l.Radio.Button,{className:"rate-btn",value:o}),(0,P.jsx)(l.Radio.Button,{className:"rate-btn",value:d}),(0,P.jsx)(l.Radio.Button,{className:"rate-btn",value:p.three})]})}),(0,P.jsx)(l.Typography.Title,{level:5,children:t})]})}),(0,P.jsx)(l.Col,{children:(0,P.jsxs)(l.Space,{children:[(0,P.jsx)(Ke,{}),(0,P.jsx)(Se,{})]})})]})},Ge=()=>(0,P.jsx)(l.Card,{bordered:!1,className:"card-lightning",children:(0,P.jsxs)(l.Row,{gutter:[32,32],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(qe,{label:"Fill in recipient information"})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(me,{})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(L,{})})]})}),et=()=>{const e=(0,n.useDispatch)(),{recipients:{recipients:t},main:{mintSelected:s,isTyping:i}}=(0,n.useSelector)((e=>e)),{quantity:a}=_(),{amountError:c}=E(),o=Z(s),d=(0,r.useCallback)((async()=>{await e(b()),await e(R()),e(m(p.one))}),[e]),u=a<=0||c||o<0||i;return(0,P.jsx)(l.Card,{className:"card-lightning",bordered:!1,children:(0,P.jsxs)(l.Row,{gutter:[32,32],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(qe,{label:"Fill in recipient information"})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Row,{gutter:[24,24],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Row,{gutter:[8,8],children:[t&&t.map(((e,t)=>{let[s,n]=e;return(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(ee,{amount:n,walletAddress:s,index:t})},s+t)})),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(ee,{})})]})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(le,{})})]})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Row,{gutter:[16,16],children:[(0,P.jsx)(l.Col,{span:12,children:(0,P.jsx)(l.Button,{onClick:d,size:"large",type:"ghost",block:!0,children:"Back"})}),(0,P.jsx)(l.Col,{span:12,children:(0,P.jsx)(l.Button,{size:"large",type:"primary",onClick:()=>e(m(p.three)),block:!0,disabled:u,children:"Continue"})})]})})]})})},tt="Select",st=e=>{let{tokens:t,activeMintAddress:s,onSelect:n}=e;return(0,P.jsxs)(l.Select,{onChange:n,value:s||tt,className:"select-token",children:[(0,P.jsx)(l.Select.Option,{value:tt,children:(0,P.jsxs)(l.Space,{children:[(0,P.jsx)(c.Z,{style:{fontSize:25},name:"help-outline"}),(0,P.jsx)(l.Typography.Text,{style:{fontSize:16},children:"Select a token"})]})}),t.map((e=>(0,P.jsx)(l.Select.Option,{children:(0,P.jsxs)(l.Space,{children:[(0,P.jsx)(se,{mintAddress:e}),(0,P.jsx)(ie,{mintAddress:e})]})},e)))]})};var nt=s(48744),it=s.n(nt),rt=s(62873);const at=e=>{let{label:t="",value:s=""}=e;return(0,P.jsxs)(l.Row,{gutter:[8,8],children:[(0,P.jsx)(l.Col,{flex:"auto",children:(0,P.jsxs)(l.Typography.Text,{type:"secondary",children:[t," "]})}),(0,P.jsx)(l.Col,{children:s})]})},lt=(e,t)=>window.notify({type:"success",description:`${e} successfully. Click to view details.`,onClick:()=>window.open(i.util.explorer(t),"_blank")}),ct=e=>window.notify({type:"error",description:e.message}),ot=e=>{let{onBack:t}=e;return(0,P.jsx)(l.Button,{size:"large",type:"primary",block:!0,onClick:t,children:"Home"})};var dt=s(97429).Buffer;const{sol:{utility:ut,fee:pt,taxman:ht},manifest:{appId:xt}}=_e,jt=()=>{const[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),{main:{mintSelected:u},setting:{decimal:h},recipients:{recipients:x}}=(0,n.useSelector)((e=>e)),{wallet:{address:j}}=(0,i.useWallet)(),y=(0,n.useDispatch)(),g=z(u)||0,{total:f,quantity:C}=_(),{balance:w}=O(u),v=Z(u),S=(0,r.useMemo)((()=>{if(!x.length||!g)return;const e=x.map(((e,t)=>{let[s,n]=e;const i=h?o.utils.decimalize(n,g).toString():n;return{authority:o.account.fromAddress(s),amount:new nt.BN(i),startedAt:new nt.BN(0),salt:ze.MerkleDistributor.salt(`${xt}/airdrop/${t.toString()}`)}}));return new ze.MerkleDistributor(e).toBuffer()}),[x,g,h]),k={fee:new nt.BN(pt),feeCollectorAddress:ht},T=(0,r.useCallback)((async()=>{await y(b()),await y(R()),y(m(p.one))}),[y]);return(0,P.jsxs)(l.Card,{bordered:!1,className:"card-lightning",children:[(0,P.jsxs)(l.Row,{gutter:[32,32],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(qe,{label:"Confirm transfer"})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Row,{gutter:[24,24],justify:"center",children:[(0,P.jsx)(l.Col,{children:(0,P.jsxs)(l.Space,{direction:"vertical",size:12,align:"center",children:[(0,P.jsx)(l.Typography.Text,{children:"Total transfer"}),(0,P.jsx)(l.Typography.Title,{level:1,children:f}),(0,P.jsx)(l.Tag,{style:{margin:0,borderRadius:4,color:"rgb(66, 230, 235)",background:"rgba(66, 230, 235, 0.1)",border:"unset"},children:(0,P.jsx)(ie,{mintAddress:u})})]})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Card,{bordered:!1,className:"card-total",children:(0,P.jsxs)(l.Row,{gutter:[8,8],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(at,{label:"Time",value:Te()(new Date).format("DD MMM, YYYY HH:mm")})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(at,{label:"Quantity",value:C})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(at,{label:"Your balance",value:(0,P.jsxs)(l.Typography.Text,{children:[i.util.numeric(w).format("0,0.00[0000]")," ",(0,P.jsx)(ie,{mintAddress:u})]})})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(at,{label:"Remaining",value:(0,P.jsxs)(l.Typography.Text,{children:[i.util.numeric(v).format("0,0.00[00]")," ",(0,P.jsx)(ie,{mintAddress:u})]})})})]})})})]})}),(0,P.jsx)(l.Col,{span:24,children:c?(0,P.jsx)(ot,{onBack:T}):(0,P.jsxs)(l.Row,{gutter:[8,8],children:[(0,P.jsx)(l.Col,{span:12,children:(0,P.jsx)(l.Button,{size:"large",onClick:()=>y(m(p.two)),block:!0,type:"ghost",children:"BACK"})}),(0,P.jsx)(l.Col,{span:12,children:(0,P.jsx)(l.Button,{size:"large",onClick:async()=>{if(S){t(!0);try{const e=ze.MerkleDistributor.fromBuffer(S),s=new We,n=await s.set(S.toJSON().data),{multihash:{digest:i}}=rt.k0.parse(n),r=dt.from(i),l=Date.now(),{txId:c,distributorAddress:o}=await ut.initializeDistributor({tokenAddress:u,total:e.getTotal(),merkleRoot:e.deriveMerkleRoot(),metadata:r,endedAt:Math.round((l+2592e6)/1e3),feeOptions:k}),p={total:e.getTotal().toString(),time:(new Date).toString(),mint:u,distributorAddress:o,treeData:S},h=new Je("history",j);return await h.append(p),await y(Qe(j)),d(!0),lt("Airdrop",c),a(`${window.location.origin}/app/${xt}/redeem/${o}?autoInstall=true`)}catch(e){window.notify({type:"error",description:e.message})}finally{t(!1)}}},type:"primary",loading:e,disabled:v<0,block:!0,children:"TRANSFER"})})]})})]}),(0,P.jsx)(De,{visible:Boolean(s),onClose:()=>a(""),redeemLink:s})]})},mt=e=>{let{label:t,description:s,active:n}=e;return(0,P.jsxs)(r.Fragment,{children:[n?(0,P.jsx)(c.Z,{name:"checkbox-sharp",style:{position:"absolute",top:0,right:0,color:"#42E6EB",fontSize:20}}):null,(0,P.jsxs)(l.Row,{gutter:[12,12],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Typography.Title,{level:5,children:t})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Typography.Text,{type:"secondary",children:s})})]})]})},yt=()=>{const[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(u.manual),[c,o]=(0,r.useState)("Select"),d=(0,n.useDispatch)(),{accounts:h}=(0,i.useAccount)(),x=(e=>{const{tokenProvider:t}=(0,i.useMint)(),[s,n]=(0,r.useState)([]),a=(0,r.useCallback)((async()=>{const s=[];for(const n of e)await t.findByAddress(n)&&s.push(n);return n(s)}),[t,e]);return(0,r.useEffect)((()=>{a()}),[a]),s})((0,r.useMemo)((()=>Object.values(h).map((e=>e.mint))),[h])),j=(0,r.useMemo)((()=>"Select"===c||!s),[c,s]);return(0,P.jsx)(l.Card,{className:"card-lightning",bordered:!1,children:(0,P.jsxs)(l.Row,{gutter:[32,32],align:"middle",children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(qe,{label:"Select token type and input method"})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Row,{gutter:[24,24],children:[(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(st,{activeMintAddress:c,tokens:x,onSelect:e=>{o(e),d(C(e))}})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Space,{size:12,direction:"vertical",style:{width:"100%"},children:[(0,P.jsx)(l.Typography.Text,{children:"Choose transfer info input method"}),(0,P.jsx)(l.Radio.Group,{onChange:e=>a(e.target.value),style:{width:"100%"},className:"select-card",children:(0,P.jsxs)(l.Row,{gutter:[12,12],children:[(0,P.jsx)(l.Col,{xs:24,sm:12,md:12,lg:12,children:(0,P.jsx)(l.Radio.Button,{value:u.manual,children:(0,P.jsx)(mt,{label:"Manual",description:"With a small number of recipients.",active:s===u.manual})})}),(0,P.jsx)(l.Col,{xs:24,sm:12,md:12,lg:12,children:(0,P.jsx)(l.Radio.Button,{value:u.auto,children:(0,P.jsx)(mt,{label:"Automatic",description:"Support bulk import with a CSV file.",active:s===u.auto})})})]})})]})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Space,{align:"start",children:[(0,P.jsx)(l.Checkbox,{checked:e,onChange:e=>t(e.target.checked)}),(0,P.jsx)(l.Typography.Text,{children:"I understand this function is to create an airdrop, distribution, or retroactive, but not to receive distributed tokens."})]})})]})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Button,{size:"large",onClick:()=>{d(b(s)),d(m(p.two))},block:!0,type:"primary",disabled:j||!e,children:"Continue"})})]})})},gt=()=>{const{main:{methodSelected:e},steps:{step:t}}=(0,n.useSelector)((e=>e));return e?t===p.two?e===u.auto?(0,P.jsx)(Ge,{}):(0,P.jsx)(et,{}):(0,P.jsx)(jt,{}):(0,P.jsx)(yt,{})},{manifest:{appId:ft}}=_e,bt=()=>{const e=(0,a.useLocation)(),t=(0,a.useHistory)(),s=(0,r.useMemo)((()=>new URLSearchParams(e.search)),[e.search]),n=(0,r.useCallback)((e=>s.get(e)),[s]),i=(0,r.useCallback)((e=>{const t=new URLSearchParams;for(const s in e)t.set(s,e[s]);return t.toString()}),[]),l=(0,r.useMemo)((()=>`/app/${ft}`),[]);return{getQuery:n,generateQuery:i,pushHistory:(0,r.useCallback)((e=>t.push(`${l}${e}`)),[l,t]),appRoute:l}};const Ct=s.p+"static/media/redeem.7e0fa96ccc80d536f7730bb34ab5753b.svg";var wt=s(97429).Buffer;const{sol:{utility:vt,taxman:St,fee:kt}}=_e,Tt=()=>{const[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)(!1),[d,u]=(0,r.useState)(),[p,h]=(0,r.useState)(0),[x,j]=(0,r.useState)(),[m,y]=(0,r.useState)(!0),{getDecimals:g}=(0,i.useMint)(),{wallet:{address:f}}=(0,i.useWallet)(),{pushHistory:b}=bt(),C=(0,a.useParams)().distributorAddress,w={fee:new nt.BN(kt),feeCollectorAddress:St},v=(0,r.useCallback)((async()=>{if(!C)return;const e=new We;n(!0);try{const t=await vt.program.account.distributor.fetch(C);j(t);const s=await(e=>{const t=new Uint8Array([18,32]),s=new Uint8Array(t.length+(null===e||void 0===e?void 0:e.length));return s.set(t),s.set(e,t.length),rt.k0.decode(s).toString()})(t.metadata),i=await e.get(s),r=ze.MerkleDistributor.fromBuffer(wt.from(i));return u(r)}catch(t){ct(t)}finally{n(!1)}}),[C]),S=(0,r.useMemo)((()=>{if(!d)return;const e=d.receipients;for(const t of e)if(f===t.authority.toBase58())return t;return window.notify({type:"warning",description:"You are not in the list."}),y(!1)}),[d,f]),k=(0,r.useCallback)((async()=>{if(x&&S&&d)try{const{salt:e}=S,t=await vt.deriveReceiptAddress(e,C),s=await vt.getReceiptData(t);if(!s)return;const n=s.claimedAt.toNumber();return window.notify({type:"error",description:`You have claimed at ${Te()(1e3*n).format("DD/MM/YYYY HH:mm")}`}),y(!1)}catch(e){}}),[x,d,C,S]),T=(0,r.useCallback)((async()=>{if(!x)return;const e=x.mint.toBase58();try{const t=await g(e);return h(t)}catch(t){return h(0)}}),[x,g]);return(0,r.useEffect)((()=>{T()}),[T]),(0,r.useEffect)((()=>{v()}),[v]),(0,r.useEffect)((()=>{k()}),[k]),(0,P.jsx)(l.Row,{gutter:[24,24],justify:"center",className:"lightning-container",children:(0,P.jsx)(l.Col,{xs:24,md:16,lg:12,xl:10,children:(0,P.jsx)(l.Spin,{spinning:s,children:(0,P.jsx)(l.Card,{style:{minHeight:430},className:"card-lightning",bordered:!1,children:(0,P.jsxs)(l.Row,{gutter:[32,32],style:{textAlign:"center"},children:[(0,P.jsx)(l.Col,{span:24,style:{textAlign:"left"},children:(0,P.jsx)(l.Button,{type:"text",icon:(0,P.jsx)(c.Z,{name:"arrow-back-outline"}),onClick:()=>b(""),style:{margin:-12},children:"Back"})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsx)(l.Image,{src:Ct,preview:!1})}),(0,P.jsx)(l.Col,{span:24,children:(0,P.jsxs)(l.Space,{direction:"vertical",size:4,children:[(0,P.jsx)(l.Typography.Title,{level:3,children:"Redemption!"}),(0,P.jsxs)(l.Space,{size:4,children:[(0,P.jsx)(l.Typography.Text,{type:"secondary",children:"Let's take"})," ",(0,P.jsxs)(l.Typography.Title,{level:5,style:{color:"#42E6EB"},children:[o.utils.undecimalize(BigInt((null===S||void 0===S?void 0:S.amount.toNumber())||0),p)," ",(0,P.jsx)(ie,{mintAddress:(null===x||void 0===x?void 0:x.mint.toBase58())||""})]})]})]})}),(0,P.jsx)(l.Col,{span:24,children:m?(0,P.jsx)(l.Button,{type:"primary",onClick:async()=>{if(!S||!d)return;const e=d.deriveProof(S);if(d.verifyProof(e,S))try{t(!0);const{txId:s}=await vt.claim({distributorAddress:C,proof:e,data:S,feeOptions:w});return lt("Redeem",s),y(!1)}catch(s){ct(s)}finally{t(!1)}},loading:e,children:"Redeem"}):(0,P.jsx)(ot,{onBack:()=>b("")})})]})})})})})},At=s.p+"static/media/background-LT.4c9e016f719ffe61dc63.png",Rt=()=>(0,P.jsx)(l.Row,{gutter:[24,24],justify:"center",className:"lightning-container",children:(0,P.jsx)(l.Col,{xs:24,md:16,lg:12,xl:10,children:(0,P.jsx)(gt,{})})}),Bt=()=>{const{appRoute:e}=bt(),{setBackground:t}=(0,i.useUI)();return(0,r.useEffect)((()=>{t({light:At,dark:At})}),[t]),(0,P.jsxs)(a.Switch,{children:[(0,P.jsx)(a.Route,{exact:!0,path:e,component:Rt}),(0,P.jsx)(a.Route,{path:`${e}/redeem/:distributorAddress`,component:Tt})]})},Dt=e=>{let{children:t}=e;return(0,P.jsxs)("div",{className:"background-container",children:[t,Array.apply(null,Array(20)).map(((e,t)=>(0,P.jsx)("div",{className:"circle-container",children:(0,P.jsx)("div",{className:"circle"})},t)))]})};var Nt=s(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const Et={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e||e instanceof Ie.PublicKey||e instanceof it()||Nt.isBuffer(e)}},zt=(0,d.configureStore)({middleware:e=>e(Et),devTools:!1,reducer:{main:S,steps:y,setting:Ce,recipients:N,file:X,history:Xe}});var It=s(45597);const{manifest:{appId:Mt}}=_e,Ot=()=>(0,P.jsx)(i.UIProvider,{appId:Mt,antd:{prefixCls:Mt},children:(0,P.jsx)(i.MintProvider,{children:(0,P.jsx)(i.PoolProvider,{children:(0,P.jsx)(i.AccountProvider,{children:(0,P.jsx)(i.WalletProvider,{children:(0,P.jsx)(n.Provider,{store:zt,children:(0,P.jsx)(Dt,{children:(0,P.jsx)(Bt,{})})})})})})})})},83272:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/README.9c9c3fa1792c813f11b8.md"},70854:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel.d264a78c5dbcc2a84eed.png"},27803:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel1.93b6273e28ab503d8029.png"},43094:()=>{},69159:()=>{},35883:()=>{},46601:()=>{},89214:()=>{},5696:()=>{},85568:()=>{},64009:()=>{},42611:()=>{},89408:()=>{},47956:()=>{},21724:()=>{},62678:()=>{},25819:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=src_bootstrap_app_tsx-src_static_base_example_csv-src_static_images_background-LT_png.4364e75a.chunk.js.map